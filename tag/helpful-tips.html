<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
        <title>Carson Farmer - Helpful tips</title>
        <link rel="stylesheet" href="http://www.carsonfarmer.com/theme/css/main.css">
        <link href="http://www.carsonfarmer.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Carson Farmer Atom Feed" />
        <link href="http://www.carsonfarmer.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Carson Farmer RSS Feed" />
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script>
        <script src="http://www.carsonfarmer.com/libs/bootstrap/js/bootstrap.min.js"></script>
        <!--<script src="http://twitter.github.io/bootstrap/assets/js/bootstrap-tooltip.js"></script>-->
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head> 

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://www.carsonfarmer.com/">Carson Farmer  <strong>www.carsonfarmer.com</strong></a></h1>
                <form class="form-inline" id="top-search">
    <div class='input-append'>
        <input type="text" id="top-query" placeholder="Search..." />
        <button class="btn add-on" id="top-btn" type="button">
            <i class="icon-search"></i>
        </button>
<div class="dropdown pull-right" id="top-dropdown">
<a class="dropdown-toggle" id="top-toggle" role="button" data-toggle="dropdown" data-target="#" href="."></a>
<ul class="dropdown-menu pull-right" role="menu" id="top-results" aria-labelledby="top-toggle"></ul></div>
    </div>
</form>
                <div class="navbar">
                    <div class="navbar-inner">
                        <ul class="nav">
<li><a id="home" href="http://www.carsonfarmer.com/"><i class="icon-home"></i></a></li>
                                <li class="divider-vertical"></li>
                                    <li><a href="http://www.carsonfarmer.com/about/"><i class="icon-info-sign"></i> About</a></li>
                                    <li><a href="http://www.carsonfarmer.com/curriculum-vitae/"><i class="icon-rocket"></i> Curriculum Vitae</a></li>
                                    <li class="dropdown">
                                        <a class="dropdown-toggle" data-toggle="dropdown" id="Work-drop" role="button" href="#">
                                        <i class="icon-globe"></i> Work<i class="icon-chevron-down"></i></a>
                                        <ul class="dropdown-menu" role="menu" id="Work-menu" aria-labelledby="Work-drop">
                                                <li><a href="http://www.carsonfarmer.com/research/"><i class="icon-bar-chart"></i> Reserach</a></li>
                                                <li><a href="http://www.carsonfarmer.com/spatial-software/"><i class="icon-code"></i> Software</a></li>
                                        </ul>
                                    </li>
                                <li class="dropdown pull-right">
                                    <a class="dropdown-toggle" data-toggle="dropdown" role="button" id="social-drop" href="#">
                                    <i class="icon-group"></i> Social<i class="icon-chevron-down"></i></a>
                                    <ul class="dropdown-menu pull-right" role="menu" id="social-menu" aria-labelledby="social-drop">
                                        <li>
                                          <a href="http://www.carsonfarmer.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">
                                          <i class="icon-rss"></i> atom feed</a>
                                        </li>
                                        <li>
                                          <a href="http://www.carsonfarmer.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">
                                          <i class="icon-rss"></i> rss feed</a>
                                        </li>
                                            <li><a href="https://twitter.com/CarsonFarmer"><i class="icon-twitter"></i> twitter</a></li>
                                            <li><a href="https://github.com/cfarmer"><i class="icon-github"></i> github</a></li>
                                            <li><a href="http://about.me/carson.farmer"><i class="icon-user"></i> about.me</a></li>
                                            <li><a href="http://hunter-cuny.academia.edu/CarsonFarmer"><i class="icon-book"></i> academia.edu</a></li>
                                            <li><a href="http://www.linkedin.com/pub/carson-farmer/40/3bb/27/"><i class="icon-linkedin"></i> linkedin</a></li>
                                            <li><a href="https://plus.google.com/108062014159451325697/about/p/pub"><i class="icon-google-plus"></i> google+</a></li>
                                            <li><a href="mailto:carson.farmer@gmail.com"><i class="icon-envelope"></i> email</a></li>
                                    </ul>
                                </li>
                        </ul>
                    </div>
                </div>
        </header><!-- /#banner -->
        
        

                <section id="content" class="body">
                    <ol id="posts-list" class="hfeed">
            <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2013/07/essential-python-geo-libraries/" rel="bookmark"
                           title="Permalink to Essential Python GeospatialÂ Libraries">Essential Python Geospatial&nbsp;Libraries</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2013-07-12T17:25:00">
                      <i class="icon-calendar"></i>
                      Fri 12 July 2013
                  </abbr>
                      <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                  <footer class="post-info">
    <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/helpful-tips.html">Helpful tips</a> 
    </p>
                  </footer>
                <p>Just so I don&#8217;t forget, here is a list of really awesome Python libraries that
I&#8217;m using these days to do lots of fun things with spatial data [<span class="caps">UPDATE</span>: I&#8217;ve 
added a few&nbsp;more]:</p>
<ul>
<li><a href="http://pandas.pydata.org/">pandas</a> - For data handling and&nbsp;munging</li>
<li><a href="https://pypi.python.org/pypi/Shapely">shapely</a> - For geometry&nbsp;handling</li>
<li><a href="http://scitools.org.uk/cartopy/">cartopy</a> - For plotting spatial&nbsp;data</li>
<li><a href="http://toblerity.github.io/rtree/">rtree</a> - For efficiently querying spatial&nbsp;data</li>
<li><a href="http://www.cityinabottle.org/nodebox/">nodebox-opengl</a> - For playing around with&nbsp;animations</li>
<li><a href="http://statsmodels.sourceforge.net/">statsmodels</a> - For models and stats in Python (otherwise I&#8217;d use&nbsp;R)</li>
<li><a href="http://www.numpy.org/">numpy</a> - For pretty much anything that involves&nbsp;arrays</li>
<li><a href="https://code.google.com/p/geopy/">geopy</a> - For geolocating and things like&nbsp;that</li>
<li><a href="http://ipython.org/">ipython</a> - For a wondering interactive environment in which to&nbsp;play</li>
<li><a href="https://code.google.com/p/freetype-py/">freetype-py</a> - For converting font glyphs to polygons (odd I&nbsp;know&#8230;)</li>
<li><a href="https://pypi.python.org/pypi/GDAL/">ogr/gdal</a> - For reading, writing, and transforming geospatial data&nbsp;formats</li>
<li><a href="http://www.qgis.org/pyqgis-cookbook/">pyqgis</a> - For anything and everything&nbsp;<span class="caps">GIS</span></li>
<li><a href="http://toblerity.github.io/fiona/">fiona</a> - For making it <em>easy</em> to read/write geospatial data&nbsp;formats</li>
<li><a href="http://matplotlib.org/">matplotlib</a> - For all my plotting&nbsp;needs</li>
<li><a href="http://networkx.github.io/">networkx</a> - For working with networks&nbsp;(duh!)</li>
<li><a href="http://docs.getpelican.com/en/3.2/">pelican</a> - For blogging about all this&nbsp;stuff&#8230;</li>
<li><a href="http://pythonhosted.org/PySAL/">pysal</a> - For all your spatial econometrics needs (and&nbsp;more)</li>
<li><a href="https://pypi.python.org/pypi/descartes">descartes</a> - For plotting geometries in&nbsp;matplotlib</li>
</ul>
<p>Based on Twitter and some of the comments below, I should also&nbsp;add:</p>
<ul>
<li><a href="http://geographiclib.sourceforge.net/">geographiclib</a> - For solving geodesic&nbsp;problems</li>
<li><a href="https://code.google.com/p/pyshp/">pyshp</a> - For reading and writing shapefiles (in <em>pure</em>&nbsp;Python)</li>
<li><a href="https://code.google.com/p/pyproj/">pyproj</a> - For conversions between&nbsp;projections</li>
</ul>
<p>Any others I&#8217;ve&nbsp;missed?</p>

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2013/07/essential-python-geo-libraries/">read more</a>
                </p>
    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2013/07/essential-python-geo-libraries/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
        

            <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2013/02/will-it-python/" rel="bookmark"
                           title="Permalink to Will itÂ Python?">Will it&nbsp;Python?</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2013-02-12T22:31:00">
                      <i class="icon-calendar"></i>
                      Tue 12 February 2013
                  </abbr>
                      <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                  <footer class="post-info">
    <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/python.html">Python</a> 
    </p>
                  </footer>
                <p>Over the past few weeks, I&#8217;ve been following a really great blog by
<a href="http://slendrmeans.wordpress.com/">Carl Vogel</a>. This blog has an excellent (growing) collection of
Python examples based on porting code and examples from R to Python. In
general, it is useful for those &#8220;interested in the Python data analysis
toolkit and its viability as an alternative to R&#8221;. Carl draws on
examples from <em><a href="http://shop.oreilly.com/product/0636920018483.do">Machine Learning for Hackers</a></em> by <a href="http://www.drewconway.com/">Drew Conway</a> and
<a href="http://www.johnmyleswhite.com/">John Miles White</a>, as well as <a href="http://www.stat.columbia.edu/~gelman/">Gelman</a> and <a href="http://steinhardt.nyu.edu/faculty_bios/view/Jennifer_Hill">Hillâs</a> <em><a href="http://www.stat.columbia.edu/~gelman/arm/">Data
Analysis Using Regression and Multilevel/Hierarchical Models</a></em>.

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2013/02/will-it-python/">read more</a>
                </p>
    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2013/02/will-it-python/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
        

            <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2011/11/its-about-time/" rel="bookmark"
                           title="Permalink to Itâs aboutÂ timeâ¦">It&#8217;s about&nbsp;time&#8230;</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2011-11-09T12:16:00">
                      <i class="icon-calendar"></i>
                      Wed 09 November 2011
                  </abbr>
                      <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                  <footer class="post-info">
    <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/announcement.html">Announcement</a> 
    </p>
                  </footer>
                <p>Well its been a long time since my last post, but I <em>do</em> have a
relatively good reason: I was finishing up my PhD thesis. The good news
is that I&#8217;m now done and graduated! I&#8217;m hoping I&#8217;ll have a bit more time
to blog and continue working on side-projects that I had to put on-hold
while finishing up. My plan for the next few months is to finish up here
in Maynooth, (unofficially) start some post-doc work, and finish/get
going on several papers on my PhD research. I&#8217;m also going to try to
learn Bayesian statistics, fiddle about with some visualizations I&#8217;ve
been working on, and start getting back into <span class="caps">QGIS</span> and Python development&nbsp;again</p>
<p>In the mean time, I&#8217;ve put together a fun little visualization of my
PhD thesis in the form of a word-cloud.

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2011/11/its-about-time/">read more</a>
                </p>
    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2011/11/its-about-time/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
        

            <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2010/05/osm-data-by-country/" rel="bookmark"
                           title="Permalink to OSM data byÂ country"><span class="caps">OSM</span> data by&nbsp;country</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2010-05-13T12:05:00">
                      <i class="icon-calendar"></i>
                      Thu 13 May 2010
                  </abbr>
                      <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                  <footer class="post-info">
    <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/free-open-source-software-foss.html">Free open-source software (FOSS)</a> 
    </p>
                  </footer>
                <p>For part of a traffic simulation project I am currently working on we
need country-wide road network data for Ireland. In the past, getting
decent road network data for an area this large was quite a task (not to
mention expensive and time consuming), however, with OpenStreetMap we
have access ...</p>
                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2010/05/osm-data-by-country/">read more</a>
                </p>
    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2010/05/osm-data-by-country/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
        

            <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2009/11/qgis-developer-meeting-update/" rel="bookmark"
                           title="Permalink to QGIS developer meetingÂ update"><span class="caps">QGIS</span> developer meeting&nbsp;update</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2009-11-11T17:33:00">
                      <i class="icon-calendar"></i>
                      Wed 11 November 2009
                  </abbr>
                      <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                  <footer class="post-info">
    <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/announcement.html">Announcement</a> 
    </p>
                  </footer>
                <p>Last week I attended the 2009 <span class="caps">QGIS</span> Developers Meeting in Vienna,
Austria. We all had a really good time, <a href="http://blog.qgis.org/node/139">met many new people</a>, and
actually got a lot done in the process. There have been updates about
the meeting <a href="http://qgis.org/en/developer-meeting.html">(hackfest)</a> on the <span class="caps">QGIS</span> blog, and Tim Sutton has <a href="http://linfiniti.com/2009/11/report-back-on-the-qgis-hackfest-in-vienna-november-2009/">written
a few words</a> about our progress as well. I&#8217;m not going to repeat what
others have said, but I <em>would</em> like to give a quick update on the work
that I was doing at the meeting, and show off the new geoprocessing
features now available to all <span class="caps">QGIS</span> developers (Python and C++).

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2009/11/qgis-developer-meeting-update/">read more</a>
                </p>
    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2009/11/qgis-developer-meeting-update/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
        

            <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2009/10/community-structure-in-directed-weighted-networks/" rel="bookmark"
                           title="Permalink to Community structure in directed, weightedÂ networks">Community structure in directed, weighted&nbsp;networks</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2009-10-20T16:24:00">
                      <i class="icon-calendar"></i>
                      Tue 20 October 2009
                  </abbr>
                      <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                  <footer class="post-info">
    <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/networks.html">Networks</a> 
    </p>
                  </footer>
                <p>Many natural and human systems can be represented as networks, including
the Internet, social interactions, food webs, and transportation and
communication flows. One thing that these types of networks have in
common, is that they can each be represented as a series of vertices (or
nodes) and edges (or links). This <a href="http://toreopsahl.com/2008/11/28/network-weighted-network/">blog entry</a> presents a nice
description of networks, highlighting the differences between various
network types (directed, undirected, weighted, unweighted, etc.).

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2009/10/community-structure-in-directed-weighted-networks/">read more</a>
                </p>
    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2009/10/community-structure-in-directed-weighted-networks/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
        

            <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2008/09/find-and-replace-multiple-files/" rel="bookmark"
                           title="Permalink to Find and replace multipleÂ files">Find and replace multiple&nbsp;files</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2008-09-08T09:09:00">
                      <i class="icon-calendar"></i>
                      Mon 08 September 2008
                  </abbr>
                      <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                  <footer class="post-info">
    <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/helpful-tips.html">Helpful tips</a> 
    </p>
                  </footer>
                <p>Recently, I had to do a find and replace over several individual python
files.There are plenty of scripts out there which will accomplish this,
but I was interested in something simple, and preferably a single line
command. After a lot of Google-ing, I ended up finding <a href="http://rushi.wordpress.com/2008/08/05/find-replace-across-multiple-files-in-linux/#comment-26487">this post</a>,
which ...</p>
                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2008/09/find-and-replace-multiple-files/">read more</a>
                </p>
    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2008/09/find-and-replace-multiple-files/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
            </ol><!-- /#posts-list -->
<p class="paginator">
    1 / 1
</p>            </section><!-- /#content -->
        <section id="extras" class="body shadow">
<div class="twitter">
        <h2><i class="icon-twitter"></i> twitter</h2>
        <a class="twitter-timeline" href="https://twitter.com/CarsonFarmer" 
            data-link-color="#2A75A9" 
            data-chrome="nofooter noheader noborders transparent" 
            data-widget-id="330339195518337025"
            height="300" lang="EN"
            data-related="CarsonFarmer">
            Tweets by @CarsonFarmer
        </a>
        <script>
            !function(d,s,id){
                var js,fjs=d.getElementsByTagName(s)[0], p=/^http:/.test(d.location)?'http':'https';
                if(!d.getElementById(id)){
                    js=d.createElement(s);
                    js.id=id;js.src=p+"://platform.twitter.com/widgets.js";
                    fjs.parentNode.insertBefore(js,fjs);
                }
            }(document,"script","twitter-wjs");
        </script>

</div>
        
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body ">
                <address id="about" class="vcard body shadow">
                                <ul id="links">
                                    <li><a href="http://www.geo.hunter.cuny.edu/cfarmer/">CUNY Faculty Page</a></li>
                                    <li><a href="http://www.carsilab.org/">CARSI Lab</a></li>
                                </ul>
                Carson Farmer| Assistant Professor of GIScience | Department Geography</br>
                Hunter College - CUNY | 695 Park Avenue, New York | New York, 10065</br>
                </address><!-- /#about -->
                <p style="text-align: center;">This blog is proudly powered by <a href="http://getpelican.com/">Pelican</a>, 
                which takes great advantage of <a href="http://python.org">Python</a>.</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-41110370-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'carsonfarmer';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
    $(function() {
        var search = window.location.search.substring(1)
        if (search == "feed=rss2") window.location = "http://www.carsonfarmer.com/feeds/all.rss.xml"
    });

    $(document).ready(function() {
    
        //Calculate the height of <header>
        //Use outerHeight() instead of height() if have padding
        var aboveHeight = $('.navbar').position().top;

    //when scroll
        $(window).scroll(function() {
            //if scrolled down more than the headerâs height
                if ($(window).scrollTop() > aboveHeight){
                // if yes, add "fixed" class to the <nav>
                // add padding top to the #content 
                    // if (!$('nav').hasClass('fixed')) {
                    //     $('.home_link').show("slide", { direction: "right" }, 250)
                    // };
                    $('.navbar').addClass('fixed').addClass('shadow').css('top','0').next() //.addClass('navbar-fixed-top').next()//
                    $('#content').css('margin-top',aboveHeight+20+'px'); // value is same as the height of the nav
                } else {
                // when scroll up or less than aboveHeight,
                // remove the âfixedâ class, and the padding-top
                    // if ($('nav').hasClass('fixed')) {
                    //     console.log('test')
                    //     $('.home_link').hide("slide", { direction: "right" }, 250)
                    // };
                    $('.navbar').removeClass('fixed').removeClass('shadow').next()
                    $('#content').css('margin-top','0px');
                }
        });
        $("#top-query").keydown(function(event) {
            if (event.keyCode == 13) {
                event.preventDefault();
                site_search();
                return false;
            }
        });
        $("#top-btn").click(function(event) {
            event.preventDefault();
            site_search();
            return false;
        });
    });
    
function site_search() {
    var query = $("#top-query").val();
    if (query == "") return false;
    var api = 'http://tapirgo.com/api/1/search.json?';
    var token = '51980cd33f61b05bbb000ce0';
    var el = $("#top-results");
    el.empty();
    el.append('<li style="padding-left: 10px">Fetching results...</li>')
    $.getJSON(api + 'token=' + token + '&query=' + query + '&callback=?', 
        function(data) {
            // insert function here if needed
            if (data.length) {
                el.empty();
                $.each(data, function(key, val) {
                    var xx = new Date(val.published_on)+""
                    if ((/^www.carsonfarmer.com/).test(val.link)) console.log(val.link)
                    el.append('<li><a href="' + val.link + '" data-toggle="tooltip" data-placement="right" ' + 
                        'title="'+ xx.substring(0,15) + '">' + val.title + '</a>' +
                        '</li>');
                });
            } else {
                el.empty();
                el.append('<li style="padding-left: 10px">No results found...</li>')
            };
        $("[data-toggle=tooltip]").tooltip();
    });
    $("#top-toggle").dropdown('toggle');
}
</script>
</body>
</html>