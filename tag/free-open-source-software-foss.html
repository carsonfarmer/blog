<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
        <title>Carson Farmer - Free open-source software (FOSS)</title>
        <link rel="stylesheet" href="../theme/css/main.css">
                <link href="http://www.carsonfarmer.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Carson Farmer Atom Feed" />
                        <link href="http://www.carsonfarmer.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Carson Farmer RSS Feed" />
                        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script>
        <script src="../static/libs/bootstrap/js/bootstrap.min.js"></script>
        <!--<script src="http://twitter.github.io/bootstrap/assets/js/bootstrap-tooltip.js"></script>-->
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">Carson Farmer  <strong>www.carsonfarmer.com</strong></a></h1>
                <form class="form-inline" id="top-search">
    <div class='input-append'>
        <input type="text" id="top-query" placeholder="Search..." />
        <button class="btn add-on" id="top-btn" type="button">
            <i class="icon-search"></i>
        </button>
<div class="dropdown pull-right" id="top-dropdown">
<a class="dropdown-toggle" id="top-toggle" role="button" data-toggle="dropdown" data-target="#" href="."></a>
<ul class="dropdown-menu pull-right" role="menu" id="top-results" aria-labelledby="top-toggle"></ul></div>
    </div>
</form>
                <div class="navbar">
                    <div class="navbar-inner">
                        <ul class="nav">
                            <li><a id="home" href="../"><i class="icon-home"></i></a></li>
                                <li class="divider-vertical"></li>
                                                                                                                            <li><a href="../about/"><i class="icon-info-sign"></i> About</a></li>
                                                                                                                                <li><a href="../curriculum-vitae/"><i class="icon-rocket"></i> Curriculum Vitae</a></li>
                                                                                                                                <li class="dropdown">
                                        <a class="dropdown-toggle" data-toggle="dropdown" id="Work-drop" role="button" href="#">
                                        <i class="icon-globe"></i> Work<i class="icon-chevron-down"></i></a>
                                        <ul class="dropdown-menu" role="menu" id="Work-menu" aria-labelledby="Work-drop">
                                                                                            <li><a href="../research/"><i class="icon-bar-chart"></i> Reserach</a></li>
                                                                                            <li><a href="../spatial-software/"><i class="icon-code"></i> Software</a></li>
                                                                                    </ul>
                                    </li>
                                                                                                                                                                                <li class="dropdown pull-right">
                                    <a class="dropdown-toggle" data-toggle="dropdown" role="button" id="social-drop" href="#">
                                    <i class="icon-group"></i> Social<i class="icon-chevron-down"></i></a>
                                    <ul class="dropdown-menu pull-right" role="menu" id="social-menu" aria-labelledby="social-drop">
                                        <li>
                                          <a href="http://www.carsonfarmer.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">
                                          <i class="icon-rss"></i> atom feed</a>
                                        </li>
                                                                                <li>
                                          <a href="http://www.carsonfarmer.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">
                                          <i class="icon-rss"></i> rss feed</a>
                                        </li>
                                                                                                                            <li><a href="https://twitter.com/CarsonFarmer"><i class="icon-twitter"></i> twitter</a></li>
                                                                                    <li><a href="https://github.com/cfarmer"><i class="icon-github"></i> github</a></li>
                                                                                    <li><a href="http://about.me/carson.farmer"><i class="icon-user"></i> about.me</a></li>
                                                                                    <li><a href="http://hunter-cuny.academia.edu/CarsonFarmer"><i class="icon-book"></i> academia.edu</a></li>
                                                                                    <li><a href="http://www.linkedin.com/pub/carson-farmer/40/3bb/27/"><i class="icon-linkedin"></i> linkedin</a></li>
                                                                                    <li><a href="https://plus.google.com/108062014159451325697/about/p/pub"><i class="icon-google-plus"></i> google+</a></li>
                                                                                    <li><a href="mailto:carson.farmer@gmail.com"><i class="icon-envelope"></i> email</a></li>
                                                                            </ul>
                                </li>
                                                    </ul>
                    </div>
                </div>
        </header><!-- /#banner -->
                
            

                            <section id="content" class="body">
                    <ol id="posts-list" class="hfeed">
                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="../2013/02/will-it-python/" rel="bookmark"
                           title="Permalink to Will it Python?">Will it&nbsp;Python?</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2013-02-12T22:31:00">
                      <i class="icon-calendar"></i>
                      Tue 12 February 2013
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="../author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="../category/python.html">Python</a> 
            </p>
                  </footer>
                <p>Over the past few weeks, I&#8217;ve been following a really great blog by
<a href="http://slendrmeans.wordpress.com/">Carl Vogel</a>. This blog has an excellent (growing) collection of
Python examples based on porting code and examples from R to Python. In
general, it is useful for those &#8220;interested in the Python data analysis
toolkit and its viability as an alternative to R&#8221;. Carl draws on
examples from <em><a href="http://shop.oreilly.com/product/0636920018483.do">Machine Learning for Hackers</a></em> by <a href="http://www.drewconway.com/">Drew Conway</a> and
<a href="http://www.johnmyleswhite.com/">John Miles White</a>, as well as <a href="http://www.stat.columbia.edu/~gelman/">Gelman</a> and <a href="http://steinhardt.nyu.edu/faculty_bios/view/Jennifer_Hill">Hill’s</a> <em><a href="http://www.stat.columbia.edu/~gelman/arm/">Data
Analysis Using Regression and Multilevel/Hierarchical Models</a></em>.

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="../2013/02/will-it-python/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="../2013/02/will-it-python/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="../2012/10/manager-and-rpy2-installation-problems/" rel="bookmark"
                           title="Permalink to manageR and rpy2 installation problems">manageR and rpy2 installation&nbsp;problems</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2012-10-06T14:26:00">
                      <i class="icon-calendar"></i>
                      Sat 06 October 2012
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="../author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="../category/helpful-tips.html">Helpful tips</a> 
            </p>
                  </footer>
                <p>Unfortunately, I haven&#8217;t had much time recently to update or work on
<code>manageR</code>, but I&#8217;m hoping that will change in the next few months&#8230;
Having said that, there are quite a few people out there that have been
having trouble installing <code>manageR</code> (and the required <code>rpy2</code>) on their
system to get things working at all! I have had some individuals provide
possible fixes and suggestions on how to get things working properly on
various platforms, and I&#8217;m going to use this post to amalgamate them,
and hopefully create a one stop post for all your <code>rpy2</code> and <code>manageR</code>
needs. I&#8217;m also hoping that people will post potential fixes in the
comments to help others with more specific problems?

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="../2012/10/manager-and-rpy2-installation-problems/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="../2012/10/manager-and-rpy2-installation-problems/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="../2012/04/research-dissemination-and-interactive-visuals/" rel="bookmark"
                           title="Permalink to Research dissemination and interactive visuals">Research dissemination and interactive&nbsp;visuals</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2012-04-10T22:12:00">
                      <i class="icon-calendar"></i>
                      Tue 10 April 2012
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="../author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="../category/visualisation.html">Visualisation</a> 
            </p>
                  </footer>
                <p>One of my goals for this year is to spend more time and effort
developing effective visualisations for my various research projects, in
an effort to make my research more accessible to others. This is one
thing that I think many academics are particularly bad at: letting
others know what they are up to, and why it might be something worth
looking at. In order to avoid this pitfall, I plan to focus on producing
interactive, web-based visuals suitable for a more general audience <em>in
addition</em> to more traditional forms of research dissemination such as
journals and conference papers. It is my hope that by doing this, I will
be making my research more readily available to those who might actually
be able to use it, and maybe even create some compelling visualisations
in the process. While I&#8217;m not quite ready to start creating full-blown
interactive websites yet, I thought it might be a good idea to start
with something small to get the ball rolling; so I put together an
<a href="/examples/visitors/">upgraded version</a> of my <a href="|filename|because-its-fun-to-map-stuff.md">previous map</a> of visitors to www.carsonfarmer.com.

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="../2012/04/research-dissemination-and-interactive-visuals/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="../2012/04/research-dissemination-and-interactive-visuals/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="../2012/03/because-its-fun-to-map-stuff/" rel="bookmark"
                           title="Permalink to Because its fun to map stuff…">Because its fun to map&nbsp;stuff&#8230;</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2012-03-30T17:46:00">
                      <i class="icon-calendar"></i>
                      Fri 30 March 2012
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="../author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="../category/helpful-tips.html">Helpful tips</a> 
            </p>
                  </footer>
                <p>Its been quite a while since my last post, and its Friday and I was
feeling creative, so I decided to map something! I&#8217;ve been looking for
an excuse to produce a nice graphic like the one <a href="http://underdark.wordpress.com/about/">Anita Graser</a>
created to represent Vienna’s green-spaces. She used <a href="http://qgis.org/">Quantum
<span class="caps">GIS</span></a> to produce a <a href="http://underdark.wordpress.com/2012/03/04/mapping-density-with-hexagonal-grids/">hexagonal grid</a> for representing the density of
Viennese trees instead of the standard heat map or kernel density map,
and the results are quite nice! I&#8217;m a huge fan of <span class="caps">QGIS</span>, but I tend to do
most of my work in R, so I decided to see if I could produce something
similar using R. Turns out you can, and the final results are displayed
below (read on to see the full work-flow). Instead of trees, I went
ahead and mapped the locations of unique visitors to
<code>http://www.carsonfarmer.com/</code> between 2009 and&nbsp;2011:</p>
<p><a href="|filename|/images/website_visitors.svg"><img alt="Visitors map" src="|filename|/images/website_visitors.svg" /></a>

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="../2012/03/because-its-fun-to-map-stuff/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="../2012/03/because-its-fun-to-map-stuff/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="../2011/03/adding-direct-editing-of-geometry-fields-in-qgis/" rel="bookmark"
                           title="Permalink to Adding direct editing of geometry fields in QGIS">Adding direct editing of geometry fields in&nbsp;<span class="caps">QGIS</span></a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2011-03-12T18:43:00">
                      <i class="icon-calendar"></i>
                      Sat 12 March 2011
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="../author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="../category/helpful-tips.html">Helpful tips</a> 
            </p>
                  </footer>
                <p>Being able to add/remove attributes isn&#8217;t actually a very new feature
for <span class="caps">QGIS</span> at this point. However, to date non of the fTools functions
(Vector menu) have taken advantage of this capability. If a tool needed
to create a new field in the input vector layer, it simply wrote a new
version of the vector layer to disk with the additional fields added.
There have been several requests to allow some tools to add/update
attributes directly on the input layers, so I went ahead and created a
script to test this functionality out. I&#8217;ve 
<a href="|filname|/uploads/add_geometry_information.py">provided a copy here</a> 
for anyone who would like to test it out before I add it to <span class="caps">QGIS</span>
permanently. Basically, the script will replace/update three of the
Vector menu tools, including <code>Analysis \&gt; Sum line lengths</code>, <code>Analysis
\&gt; Points in polygon</code>, and <code>Geometry tools \&gt; Add/Export geometry
info</code>.

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="../2011/03/adding-direct-editing-of-geometry-fields-in-qgis/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="../2011/03/adding-direct-editing-of-geometry-fields-in-qgis/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="../2010/11/because-its-friday/" rel="bookmark"
                           title="Permalink to Because its Friday">Because its&nbsp;Friday</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2010-11-06T01:00:00">
                      <i class="icon-calendar"></i>
                      Sat 06 November 2010
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="../author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="../category/python.html">Python</a> 
            </p>
                  </footer>
                <p>My two favorite scientific programming languages are <a href="http://www.python.org">Python</a> and
<a href="http://http://www.r-project.org/">R</a>, each for their own specific strengths. I stick with R for most of
my serious stats stuff, but for everyday processing, analysis, and <span class="caps">GUI</span>
building, Python is my <em>modus operandi</em>. Lately however, I&#8217;ve been doing
more and more things ...</p>
                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="../2010/11/because-its-friday/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="../2010/11/because-its-friday/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="../2010/10/pgrouting-openstreetmap-and-qgis/" rel="bookmark"
                           title="Permalink to pgRouting, OpenStreetMap, and QGIS">pgRouting, OpenStreetMap, and&nbsp;<span class="caps">QGIS</span></a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2010-10-14T12:26:00">
                      <i class="icon-calendar"></i>
                      Thu 14 October 2010
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="../author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="../category/helpful-tips.html">Helpful tips</a> 
            </p>
                  </footer>
                <p>I mentioned <a href="|filename|osm-data-by-country.md">a few posts back</a> that there was a great resource for
downloading OpenStreetMap data, and that it was relatively easy to
import osm data into <code>PostgreSQL</code>/<code>PostGIS</code> for use with <code>pgRouting</code> to
calculate shortest paths and various other network-based operations. In
this post, I&#8217;ll outline the steps required to get all this up and going,
and provide a quick example to show how this can be combined with <span class="caps">QGIS</span>
to visualise the computed shortest path directly.

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="../2010/10/pgrouting-openstreetmap-and-qgis/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="../2010/10/pgrouting-openstreetmap-and-qgis/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="../2010/09/adding-a-bit-of-classification-to-qgis/" rel="bookmark"
                           title="Permalink to Adding a bit of class(ification) to QGIS…">Adding a bit of class(ification) to&nbsp;<span class="caps">QGIS</span>&#8230;</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2010-09-29T00:40:00">
                      <i class="icon-calendar"></i>
                      Wed 29 September 2010
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="../author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="../category/announcement.html">Announcement</a> 
            </p>
                  </footer>
                <p>In my <a href="|filename|playing-around-with-classification-algorithms-python-and-qgis.md">last post</a>, I implemented several classification algorithms for
quantitative data which could be used directly from the Python console
in <span class="caps">QGIS</span>. While this was a handy addition to my PyQGIS toolkit, it wasn&#8217;t
quite handy enough for me, so I decided to (re)implement the same
algorithms in C++ so that they could be added directly to the <span class="caps">QGIS</span> <span class="caps">API</span>.
Before I did that however, I wanted to fix a few issues, and speed
things up a bit, particularly for the Jenks Natural Breaks algorithm,
which can be quite slow for large datasets.

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="../2010/09/adding-a-bit-of-classification-to-qgis/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="../2010/09/adding-a-bit-of-classification-to-qgis/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    </ol><!-- /#posts-list -->
                            <p class="paginator">
        1 / 3
            <a href="../tag/free-open-source-software-foss2.html">
            <i class="icon-arrow-right"></i>
        </a>
    </p>                        </section><!-- /#content -->
                    <section id="extras" class="body shadow">
                    <div class="twitter">
        <h2><i class="icon-twitter"></i> twitter</h2>
        <a class="twitter-timeline" href="https://twitter.com/CarsonFarmer" 
            data-link-color="#2A75A9" 
            data-chrome="nofooter noheader noborders transparent" 
            data-widget-id="330339195518337025"
            height="300" lang="EN"
            data-related="CarsonFarmer">
            Tweets by @CarsonFarmer
        </a>
        <script>
            !function(d,s,id){
                var js,fjs=d.getElementsByTagName(s)[0], p=/^http:/.test(d.location)?'http':'https';
                if(!d.getElementById(id)){
                    js=d.createElement(s);
                    js.id=id;js.src=p+"://platform.twitter.com/widgets.js";
                    fjs.parentNode.insertBefore(js,fjs);
                }
            }(document,"script","twitter-wjs");
        </script>

</div>
                
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body ">
                <address id="about" class="vcard body shadow">
                                                                            <ul id="links">
                                    <li><a href="http://www.geo.hunter.cuny.edu/cfarmer/">CUNY Faculty Page</a></li>
                                    <li><a href="http://www.carsilab.org/">CARSI Lab</a></li>
                                </ul>
                                            Carson Farmer| Assistant Professor of GIScience | Department Geography</br>
                Hunter College - CUNY | 695 Park Avenue, New York | New York, 10065</br>
                </address><!-- /#about -->
                <p style="text-align: center;">This blog is proudly powered by <a href="http://getpelican.com/">Pelican</a>, 
                which takes great advantage of <a href="http://python.org">Python</a>.</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-41110370-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'carsonfarmer';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
    $(function() {
        var search = window.location.search.substring(1)
        if (search == "feed=rss2") window.location = "http://www.carsonfarmer.com/feeds/all.rss.xml"
    });

    $(document).ready(function() {
    
        //Calculate the height of <header>
        //Use outerHeight() instead of height() if have padding
        var aboveHeight = $('.navbar').position().top;

    //when scroll
        $(window).scroll(function() {
            //if scrolled down more than the header’s height
                if ($(window).scrollTop() > aboveHeight){
                // if yes, add "fixed" class to the <nav>
                // add padding top to the #content 
                    // if (!$('nav').hasClass('fixed')) {
                    //     $('.home_link').show("slide", { direction: "right" }, 250)
                    // };
                    $('.navbar').addClass('fixed').addClass('shadow').css('top','0').next() //.addClass('navbar-fixed-top').next()//
                    $('#content').css('margin-top',aboveHeight+20+'px'); // value is same as the height of the nav
                } else {
                // when scroll up or less than aboveHeight,
                // remove the “fixed” class, and the padding-top
                    // if ($('nav').hasClass('fixed')) {
                    //     console.log('test')
                    //     $('.home_link').hide("slide", { direction: "right" }, 250)
                    // };
                    $('.navbar').removeClass('fixed').removeClass('shadow').next()
                    $('#content').css('margin-top','0px');
                }
        });
        $("#top-query").keydown(function(event) {
            if (event.keyCode == 13) {
                event.preventDefault();
                site_search();
                return false;
            }
        });
        $("#top-btn").click(function(event) {
            event.preventDefault();
            site_search();
            return false;
        });
    });
    
function site_search() {
    var query = $("#top-query").val();
    if (query == "") return false;
    var api = 'http://tapirgo.com/api/1/search.json?';
    var token = '51980cd33f61b05bbb000ce0';
    var el = $("#top-results");
    el.empty();
    el.append('<li style="padding-left: 10px">Fetching results...</li>')
    $.getJSON(api + 'token=' + token + '&query=' + query + '&callback=?', 
        function(data) {
            // insert function here if needed
            if (data.length) {
                el.empty();
                $.each(data, function(key, val) {
                    var xx = new Date(val.published_on)+""
                    
                    el.append('<li><a href="http://' + val.link + '" data-toggle="tooltip" data-placement="right" ' + 
                        'title="'+ xx.substring(0,15) + '">' + val.title + '</a>' +
                        '</li>');
                });
            } else {
                el.empty();
                el.append('<li style="padding-left: 10px">No results found...</li>')
            };
        $("[data-toggle=tooltip]").tooltip();
    });
    $("#top-toggle").dropdown('toggle');
}
</script>
</body>
</html>