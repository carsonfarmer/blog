<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
        <title>Community structure in directed, weighted networks</title>
        <link rel="stylesheet" href="../../../theme/css/main.css">
                <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Carson Farmer Atom Feed" />
                        <link href="/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Carson Farmer RSS Feed" />
                            
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type= "text/javascript">
       MathJax.Hub.Config({
           config: ["MMLorHTML.js"],
           jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML"],
           TeX: { extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"], equationNumbers: { autoNumber: "AMS" } },
           extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js"],
           tex2jax: { 
               inlineMath: [ ['$','$'] ],
               displayMath: [ ['$$','$$'] ],
               processEscapes: true },
           "HTML-CSS": {
               styles: { ".MathJax .mo, .MathJax .mi": {color: "black ! important"}}
           }
       });
    </script>

                <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script src="../../../static/libs/bootstrap/js/bootstrap.js"></script>
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../../../">Carson Farmer  <strong>www.carsonfarmer.com</strong></a></h1>
                <form class="form-search" id="top-search">
    <div class='input-append'>
        <input type="text" class="search-query" id="top-query" placeholder="Search..." />
        <button class='btn add-on' id="top-btn" onclick="site_search()">
            <i class="icon-search"></i>
        </button>
    </div>
</form>
<div id="top-results"></div>
                <div class="navbar">
                    <div class="navbar-inner">
                        <ul class="nav">
                            <li><a id="home" href="../../../"><i class="icon-home"></i></a></li>
                                <li class="divider-vertical"></li>
                                                                                                                            <li><a href="../../../about/"><i class="icon-info-sign"></i> About</a></li>
                                                                                                                                <li><a href="../../../curriculum-vitae/"><i class="icon-rocket"></i> Curriculum Vitae</a></li>
                                                                                                                                <li class="dropdown">
                                        <a class="dropdown-toggle" data-toggle="dropdown" id="Work-drop" role="button" href="#">
                                        <i class="icon-globe"></i> Work<i class="icon-chevron-down"></i></a>
                                        <ul class="dropdown-menu" role="menu" id="Work-menu" aria-labelledby="Work-drop">
                                                                                            <li><a href="../../../research/"><i class="icon-bar-chart"></i> Reserach</a></li>
                                                                                            <li><a href="../../../spatial-software/"><i class="icon-code"></i> Software</a></li>
                                                                                    </ul>
                                    </li>
                                                                                                                                                                                <li class="dropdown pull-right">
                                    <a class="dropdown-toggle" data-toggle="dropdown" role="button" id="social-drop" href="#">
                                    <i class="icon-group"></i> Social<i class="icon-chevron-down"></i></a>
                                    <ul class="dropdown-menu" role="menu" id="social-menu" aria-labelledby="social-drop">
                                        <li>
                                          <a href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">
                                          <i class="icon-rss"></i> atom feed</a>
                                        </li>
                                                                                <li>
                                          <a href="/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">
                                          <i class="icon-rss"></i> rss feed</a>
                                        </li>
                                                                                                                            <li><a href="https://twitter.com/CarsonFarmer"><i class="icon-twitter"></i> twitter</a></li>
                                                                                    <li><a href="https://github.com/cfarmer"><i class="icon-github"></i> github</a></li>
                                                                                    <li><a href="http://about.me/carson.farmer"><i class="icon-user"></i> about.me</a></li>
                                                                                    <li><a href="http://hunter-cuny.academia.edu/CarsonFarmer"><i class="icon-book"></i> academia.edu</a></li>
                                                                                    <li><a href="http://www.linkedin.com/pub/carson-farmer/40/3bb/27/"><i class="icon-linkedin"></i> linkedin</a></li>
                                                                                    <li><a href="https://plus.google.com/108062014159451325697/about/p/pub"><i class="icon-google-plus"></i> google+</a></li>
                                                                                    <li><a href="mailto:carson.farmer@gmail.com"><i class="icon-envelope"></i> email</a></li>
                                                                            </ul>
                                </li>
                                                    </ul>
                    </div>
                </div>
        </header><!-- /#banner -->
        <section id="content" class="body">
  <article class="hentry shadow">
    <header>
      <h1 class="entry-title">
        <a href="../../../2009/10/community-structure-in-directed-weighted-networks/" rel="bookmark"
           title="Permalink to Community structure in directed, weighted networks">Community structure in directed, weighted&nbsp;networks</a></h1>
      <a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="CarsonFarmer">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
      <abbr class="published" title="2009-10-20T16:24:00">
          <i class="icon-calendar"></i>
          Tue 20 October 2009
      </abbr>
    </header>

    <div class="entry-content">
      <p>Many natural and human systems can be represented as networks, including
the Internet, social interactions, food webs, and transportation and
communication flows. One thing that these types of networks have in
common, is that they can each be represented as a series of vertices (or
nodes) and edges (or links). This <a href="http://toreopsahl.com/2008/11/28/network-weighted-network/">blog entry</a> presents a nice
description of networks, highlighting the differences between various
network types (directed, undirected, weighted, unweighted, etc.).
</p>
<p>According to <a href="http://arxiv.org/abs/0709.4500">this paper</a>, many
networks are found to display &#8220;community structure&#8221;, which basically
refers to groupings of vertices where <em>within</em>-group edge connections
are more dense than <em>between</em>-group edge connections. In order to detect
and delineate these groupings, <a href="http://arxiv.org/abs/0709.4500">Leicht <span class="amp">&amp;</span> Newman (2008)</a> present a nice &#8220;modularity&#8221; optimisation algorithm which is
designed to find a &#8220;good&#8221; division of a network by&nbsp;maximising</p>
<p>$$Q =&nbsp;\frac{1}{2m}s^TB_s,$$</p>
<p>where $s$ is a vector whose elements define which group each node
belongs to, and $\mathbf{B}$ is the so-called modularity matrix, with&nbsp;elements</p>
<p>$$B_{ij} = A_{ij} - \frac{k_{i}^{in}&nbsp;k_{j}^{out}}{m},$$</p>
<p>where $A_{ij}$ is an element in the adjacency matrix $\mathbf{A}$, $k_{i}^{in}$
and $k_{j}^{out}$ are the in- and out-degrees of the vertices, and $m$ is
the total sum of edges in the network. In practice, this can be extended
to directed networks by considering the matrix $\mathbf{B} + \mathbf{B}^T$ (for an
explanation of why this is the case, see <a href="http://arxiv.org/abs/0709.4500">Leicht <span class="amp">&amp;</span> Newman</a>).</p>
<p>It is relatively straight-forward to extend the above modularity
optimisation algorithm to the case of a weighted network by computing
the modularity matrix using the in- and out-<em>strength</em>(see link to blog
post above) of the vertices instead of the degree. This is similar to
the concept presented in <a href="http://arxiv.org/abs/cond-mat/0407503">Newman (2004)</a>, and indeed the
theory of the modularity algorithm holds for this more general case
(note that an unweighted network can simply be represented as a weighted
network where the edge weights are all set to 1). As such, our new
modularity matrix can be computed&nbsp;as</p>
<p>$$B_{ij} = A_{ij} - \frac{s_{i}^{in}&nbsp;s_{j}^{out}}{m},$$</p>
<p>where $m = \sum_{i}s_{i}^{in} = \sum_{j} s_j^{out}$, and $s$ represents the vertex
strength. As such, using the above <em>new</em> definition of $\mathbf{B}$, the
modularity of a directed, weighted network is computed&nbsp;as</p>
<p>$$Q =&nbsp;\frac{1}{4m}s^{T}(\mathbf{B}-\mathbf{B}^{T})s.$$</p>
<p>My current research uses a modified modularity optimisation algorithm to
compute <a href="http://en.wikipedia.org/wiki/Functional_region">functional regions</a> for Ireland based on a range of
socio-economic variables. The goal is to provide a consistent framework
for computing functional regions which are comparable across different
countries and/or&nbsp;regions.</p>
<p>C</p>
<h3>References</h3>
<p>Leicht, <span class="caps">E. A.</span> <span class="amp">&amp;</span> Newman, <span class="caps">M. E. J.</span>(2008). <a href="http://arxiv.org/abs/0709.4500">Community structure in directed networks</a>.
<em>Physical Review Letters</em>, 100(11),&nbsp;118703.</p>
<p>Newman, <span class="caps">M. E. J.</span>(2004). <a href="http://arxiv.org/abs/cond-mat/0407503">Analysis of weighted networks</a>. <em>Physical Review E</em>, 70(5),&nbsp;056131.</p>
          <p class="category">
        <i class="icon-certificate"></i>
        <a href="../../../category/networks.html">Networks</a> 
            </p>
          <p class="tag">
        <i class="icon-tags"></i>
         <a href="../../../tag/community-structure.html">Community structure</a>
         <a href="../../../tag/directed.html">Directed</a>
         <a href="../../../tag/modularity.html">Modularity</a>
         <a href="../../../tag/networks.html">Networks</a>
         <a href="../../../tag/weighted.html">Weighted</a>
         <a href="../../../tag/helpful-tips.html">Helpful tips</a>
         <a href="../../../tag/research.html">Research</a>
            </p>
    </div><!-- /.entry-content -->
          <div class="comments">
        <h2>Comments !</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
          var disqus_identifier = "2009/10/community-structure-in-directed-weighted-networks/";
          var disqus_url = "../../../2009/10/community-structure-in-directed-weighted-networks/";
          (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://carsonfarmer.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
      </div>
    
  </article>
</section>
        <section id="extras" class="body shadow">
                    <div class="twitter">
        <h2><i class="icon-twitter"></i> twitter</h2>
        <a class="twitter-timeline" href="https://twitter.com/CarsonFarmer" 
            data-link-color="#2A75A9" 
            data-chrome="nofooter noheader noborders transparent" 
            data-widget-id="330339195518337025"
            height="300" lang="EN" 
            data-related="CarsonFarmer">
            Tweets by @CarsonFarmer
        </a>
        <script>
            !function(d,s,id){
                var js,fjs=d.getElementsByTagName(s)[0], p=/^http:/.test(d.location)?'http':'https';
                if(!d.getElementById(id)){
                    js=d.createElement(s);
                    js.id=id;js.src=p+"://platform.twitter.com/widgets.js";
                    fjs.parentNode.insertBefore(js,fjs);
                }
            }(document,"script","twitter-wjs");
        </script>

</div>
                
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body ">
                <address id="about" class="vcard body shadow">
                                                                            <ul id="links">
                                    <li><a href="http://www.geo.hunter.cuny.edu/cfarmer/">CUNY Faculty Page</a></li>
                                    <li><a href="http://www.carsilab.org/">CARSI Lab</a></li>
                                </ul>
                                            Carson Farmer| Assistant Professor of GIScience | Department Geography</br>
                Hunter College - CUNY | 695 Park Avenue, New York | New York, 10065</br>
                </address><!-- /#about -->
                <p style="text-align: center;">This blog is proudly powered by <a href="http://getpelican.com/">Pelican</a>, 
                which takes great advantage of <a href="http://python.org">Python</a>.</p>
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'carsonfarmer';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
    $(document).ready(function() {
    
        //Calculate the height of <header>
        //Use outerHeight() instead of height() if have padding
        var aboveHeight = $('.navbar').position().top;

    //when scroll
        $(window).scroll(function() {
            //if scrolled down more than the header’s height
                if ($(window).scrollTop() > aboveHeight){
                // if yes, add "fixed" class to the <nav>
                // add padding top to the #content 
                    // if (!$('nav').hasClass('fixed')) {
                    //     $('.home_link').show("slide", { direction: "right" }, 250)
                    // };
                    $('.navbar').addClass('fixed').addClass('shadow').css('top','0').next() //.addClass('navbar-fixed-top').next()//
                    $('#content').css('margin-top',aboveHeight+20+'px'); // value is same as the height of the nav
                } else {
                // when scroll up or less than aboveHeight,
                // remove the “fixed” class, and the padding-top
                    // if ($('nav').hasClass('fixed')) {
                    //     console.log('test')
                    //     $('.home_link').hide("slide", { direction: "right" }, 250)
                    // };
                    $('.navbar').removeClass('fixed').removeClass('shadow').next()
                    $('#content').css('margin-top','0px');
                }
        });
        $("#top-results").hide()
    });
    
site_search = function() {
    var query = $("#top-query").val();
    if (query == "") return
    var api = 'http://tapirgo.com/api/1/search.json?';
    var token = '';
    var el = $("#top-results");
    el.empty();
    var data = [{
        "_score": 0.71860904,
        "link": "http://tapirgo.com",
        "title": "Tapir",
        "published_on": "2011-05-05T15:13:22Z",
        "content": "hello tapir",
        "summary":"hello, summary!"
      }];
    //$.getJSON(api + 'token=' + token + '&query=' + query + '&callback=?', 
    //    function(data) {
            // insert function here if needed
    //        el.append('<div class="result"><h3>No results found...</h3></div>)
    //        if (data.size >= 1) {
                el.empty()
                $.each(data, function(key, val) {
                    el.append('<div class="result"><h3><a href="' + val.link + 
                        '">' + val.title + '</a></h3><p>' + val.summary + 
                        '</p></div>');
                });
    //        };
    //});
    el.show("slide", { direction: "bottom" }, 500);
}
</script>
</body>
</html>