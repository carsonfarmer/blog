<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
        <title>Carson Farmer - cfarmer</title>
        <link rel="stylesheet" href="http://www.carsonfarmer.com/theme/css/main.css">
                <link href="http://www.carsonfarmer.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Carson Farmer Atom Feed" />
                        <link href="http://www.carsonfarmer.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Carson Farmer RSS Feed" />
                        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script>
        <script src="http://www.carsonfarmer.com/static/libs/bootstrap/js/bootstrap.min.js"></script>
        <!--<script src="http://twitter.github.io/bootstrap/assets/js/bootstrap-tooltip.js"></script>-->
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://www.carsonfarmer.com/">Carson Farmer  <strong>www.carsonfarmer.com</strong></a></h1>
                <form class="form-inline" id="top-search">
    <div class='input-append'>
        <input type="text" id="top-query" placeholder="Search..." />
        <button class="btn add-on" id="top-btn" type="button">
            <i class="icon-search"></i>
        </button>
<div class="dropdown pull-right" id="top-dropdown">
<a class="dropdown-toggle" id="top-toggle" role="button" data-toggle="dropdown" data-target="#" href="."></a>
<ul class="dropdown-menu pull-right" role="menu" id="top-results" aria-labelledby="top-toggle"></ul></div>
    </div>
</form>
                <div class="navbar">
                    <div class="navbar-inner">
                        <ul class="nav">
                            <li><a id="home" href="http://www.carsonfarmer.com/"><i class="icon-home"></i></a></li>
                                <li class="divider-vertical"></li>
                                                                                                                            <li><a href="http://www.carsonfarmer.com/about/"><i class="icon-info-sign"></i> About</a></li>
                                                                                                                                <li><a href="http://www.carsonfarmer.com/curriculum-vitae/"><i class="icon-rocket"></i> Curriculum Vitae</a></li>
                                                                                                                                <li class="dropdown">
                                        <a class="dropdown-toggle" data-toggle="dropdown" id="Work-drop" role="button" href="#">
                                        <i class="icon-globe"></i> Work<i class="icon-chevron-down"></i></a>
                                        <ul class="dropdown-menu" role="menu" id="Work-menu" aria-labelledby="Work-drop">
                                                                                            <li><a href="http://www.carsonfarmer.com/research/"><i class="icon-bar-chart"></i> Reserach</a></li>
                                                                                            <li><a href="http://www.carsonfarmer.com/spatial-software/"><i class="icon-code"></i> Software</a></li>
                                                                                    </ul>
                                    </li>
                                                                                                                                                                                <li class="dropdown pull-right">
                                    <a class="dropdown-toggle" data-toggle="dropdown" role="button" id="social-drop" href="#">
                                    <i class="icon-group"></i> Social<i class="icon-chevron-down"></i></a>
                                    <ul class="dropdown-menu pull-right" role="menu" id="social-menu" aria-labelledby="social-drop">
                                        <li>
                                          <a href="http://www.carsonfarmer.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">
                                          <i class="icon-rss"></i> atom feed</a>
                                        </li>
                                                                                <li>
                                          <a href="http://www.carsonfarmer.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">
                                          <i class="icon-rss"></i> rss feed</a>
                                        </li>
                                                                                                                            <li><a href="https://twitter.com/CarsonFarmer"><i class="icon-twitter"></i> twitter</a></li>
                                                                                    <li><a href="https://github.com/cfarmer"><i class="icon-github"></i> github</a></li>
                                                                                    <li><a href="http://about.me/carson.farmer"><i class="icon-user"></i> about.me</a></li>
                                                                                    <li><a href="http://hunter-cuny.academia.edu/CarsonFarmer"><i class="icon-book"></i> academia.edu</a></li>
                                                                                    <li><a href="http://www.linkedin.com/pub/carson-farmer/40/3bb/27/"><i class="icon-linkedin"></i> linkedin</a></li>
                                                                                    <li><a href="https://plus.google.com/108062014159451325697/about/p/pub"><i class="icon-google-plus"></i> google+</a></li>
                                                                                    <li><a href="mailto:carson.farmer@gmail.com"><i class="icon-envelope"></i> email</a></li>
                                                                            </ul>
                                </li>
                                                    </ul>
                    </div>
                </div>
        </header><!-- /#banner -->
                
            

                            <section id="content" class="body">
                    <ol id="posts-list" class="hfeed">
                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2012/11/postdocs-lectureships-st-andrews/" rel="bookmark"
                           title="Permalink to Postdocs and Lectureships at St Andrews">Postdocs and Lectureships at St&nbsp;Andrews</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2012-11-08T16:54:00">
                      <i class="icon-calendar"></i>
                      Thu 08 November 2012
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/announcement.html">Announcement</a> 
            </p>
                  </footer>
                <p>The <a href="http://www.st-andrews.ac.uk/geoinformatics">Centre for GeoInformatics (<span class="caps">CGI</span>)</a> at the <a href="http://www.st-andrews.ac.uk/">University of St
Andrews</a> in Scotland has the following open&nbsp;positions:</p>
<ol>
<li><a href="http://www.st-andrews.ac.uk/geoinformatics/jobs-and-studentship/lectureship-in-geoinformatics/">Lectureship in Geoinformatics</a>, permanent position, application
   <span class="caps">DL</span> 21 Dec&nbsp;2012</li>
<li><a href="http://www.st-andrews.ac.uk/geoinformatics/jobs-and-studentship/research-fellow-in-geoinformatics/">Postdoctoral researcher in Geoinformatics</a>, preferably Visual
   Analytics/Visualisation (three year fixed post, application <span class="caps">DL</span> 7 Dec&nbsp;2012)</li>
<li><a href="http://www.st-andrews.ac.uk/geoinformatics/research-fellow-in-geoinformatics-2/">Postdoctoral researcher in Geoinformatics</a> (two year fixed post,
   application <span class="caps">DL</span> 21 Dec&nbsp;2012)</li>
</ol>
<p>In addition, there are three lectureships open at the Department of
Geography <span class="amp">&amp;</span> Sustainable Development in which <span class="caps">CGI</span> is&nbsp;located:</p>
<ol>
<li><a href="http://www.st-andrews.ac.uk/geoinformatics/jobs-and-studentship/environmental-geography-lectureships/">Two lectureships</a> in Environmental&nbsp;Geography</li>
<li><a href="http://www.st-andrews.ac.uk/geoinformatics/jobs-and-studentship/lecturer-in-human-geography/">Lectureship</a> in Human&nbsp;Geography</li>
</ol>

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2012/11/postdocs-lectureships-st-andrews/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2012/11/postdocs-lectureships-st-andrews/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2010/04/postgis-select-statement-as-vector-layer-in-qgis/" rel="bookmark"
                           title="Permalink to PostGIS ‘select’ statement as vector layer in QGIS">PostGIS &#8216;select&#8217; statement as vector layer in&nbsp;<span class="caps">QGIS</span></a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2010-04-27T17:40:00">
                      <i class="icon-calendar"></i>
                      Tue 27 April 2010
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/helpful-tips.html">Helpful tips</a> 
            </p>
                  </footer>
                <p>Several colleagues of mine have asked whether it is possible to
visualise the results of a <code>SELECT</code> statement on a <a href="http://postgis.refractions.net/">PostGIS</a> database
that returns spatial data in <a href="http://www.qgis.org/"><span class="caps">QGIS</span></a>. In other words, can we map the
results of something&nbsp;like:</p>
<div class="highlight"><pre>SELECT id, st_union<span class="o">(</span>the_geom<span class="o">)</span> <span class="caps">FROM</span> spatial_table <span class="caps">GROUP</span> <span class="caps">BY</span> id;
</pre></div>


<p>My usual answer to this in the past has been &#8220;not yet&#8230;&#8221;, but now thanks
to Giuseppe Sucameli and Jürgen E. Fischer, the answer is a resounding
&#8220;yes!&#8221;. A <a href="https://trac.osgeo.org/qgis/changeset/13340">recent patch</a> to <span class="caps">QGIS</span> trunk now makes custom Postgres
queries possible via the postgres data provider.

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2010/04/postgis-select-statement-as-vector-layer-in-qgis/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2010/04/postgis-select-statement-as-vector-layer-in-qgis/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2012/05/presentation-at-cag-2012-in-waterloo/" rel="bookmark"
                           title="Permalink to Presentation at CAG 2012 in Waterloo">Presentation at <span class="caps">CAG</span> 2012 in&nbsp;Waterloo</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2012-05-28T17:23:00">
                      <i class="icon-calendar"></i>
                      Mon 28 May 2012
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/announcement.html">Announcement</a> 
            </p>
                  </footer>
                <p>I am giving a talk and chairing a session at the <a href="http://www.cag2012.org/">Canadian Association
of Geographers (<span class="caps">CAG</span>) Annual Meeting</a> this week in Waterloo, Ontario,
Canada. My session, entitled &#8220;Spatial Modelling&#8221;, is <a href="http://www.cag2012.org/program.html">scheduled</a> for
Thursday at 08:30, and is supported by the <span class="caps">CAG</span> <span class="caps">GIS</span> Study Group. If you
are in the ...</p>
                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2012/05/presentation-at-cag-2012-in-waterloo/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2012/05/presentation-at-cag-2012-in-waterloo/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2009/08/python-matlab-and-r/" rel="bookmark"
                           title="Permalink to Python, Matlab, and R">Python, Matlab, and&nbsp;R</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2009-08-12T15:29:00">
                      <i class="icon-calendar"></i>
                      Wed 12 August 2009
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/helpful-tips.html">Helpful tips</a> 
            </p>
                  </footer>
                <p>One project I&#8217;m working on at the moment involves exploring a dynamic
extension of the Isomap algorithm for visualising constantly varying
real-world road networks. Currently, we are testing out the method on a
small scale simulated road network, and most of the original code
(written by <a href="http://ticc.uvt.nl/~lvdrmaaten/Laurens_van_der_Maaten/Home.html">Laurens van der Maaten</a>, with updates by <a href="http://ncg.nuim.ie/ncg/people/staff/pozdnoukhov/index.shtml">Alexei
Pozdnoukhov</a>), was done in Matlab. Since this work is eventually going
to have to run on relatively large datasets, and probably behind the
scenes on a server somewhere, we decided that Python was the way to go.
The goal therefore was to reproduce the Matlab code using only Python
libraries, and the fewer additional libraries required, the better.

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2009/08/python-matlab-and-r/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2009/08/python-matlab-and-r/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2009/11/qgis-developer-meeting-update/" rel="bookmark"
                           title="Permalink to QGIS developer meeting update"><span class="caps">QGIS</span> developer meeting&nbsp;update</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2009-11-11T17:33:00">
                      <i class="icon-calendar"></i>
                      Wed 11 November 2009
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/announcement.html">Announcement</a> 
            </p>
                  </footer>
                <p>Last week I attended the 2009 <span class="caps">QGIS</span> Developers Meeting in Vienna,
Austria. We all had a really good time, <a href="http://blog.qgis.org/node/139">met many new people</a>, and
actually got a lot done in the process. There have been updates about
the meeting <a href="http://qgis.org/en/developer-meeting.html">(hackfest)</a> on the <span class="caps">QGIS</span> blog, and Tim Sutton has <a href="http://linfiniti.com/2009/11/report-back-on-the-qgis-hackfest-in-vienna-november-2009/">written
a few words</a> about our progress as well. I&#8217;m not going to repeat what
others have said, but I <em>would</em> like to give a quick update on the work
that I was doing at the meeting, and show off the new geoprocessing
features now available to all <span class="caps">QGIS</span> developers (Python and C++).

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2009/11/qgis-developer-meeting-update/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2009/11/qgis-developer-meeting-update/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2008/11/quick-guide-to-setting-up-postgis-database/" rel="bookmark"
                           title="Permalink to Quick guide to setting up a PostGIS database">Quick guide to setting up a PostGIS&nbsp;database</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2008-11-28T12:01:00">
                      <i class="icon-calendar"></i>
                      Fri 28 November 2008
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/helpful-tips.html">Helpful tips</a> 
            </p>
                  </footer>
                <p>Recently I decided to seriously start using PostGIS to manage my spatial
data. As I have several projects on the go, organizing and managing my
data effectively has become extremely important, and PostGIS is by far
the most convenient way to do this. There is lots of documentation out
there that explains in detail how to set up PostGIS, but by far the best
reference I&#8217;ve found is from <a href="http://tim.linfiniti.com/" title="Tim Sutton's blog">Tim Sutton&#8217;s blog</a>, mainly because he
uses Ubuntu, and sudo-apt gets everything you need to have PostGIS
working in minutes.

                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2008/11/quick-guide-to-setting-up-postgis-database/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2008/11/quick-guide-to-setting-up-postgis-database/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2009/01/r-featured-in-new-york-times/" rel="bookmark"
                           title="Permalink to R featured in New York Times">R featured in New York&nbsp;Times</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2009-01-28T12:14:00">
                      <i class="icon-calendar"></i>
                      Wed 28 January 2009
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/news.html">News</a> 
            </p>
                  </footer>
                <p>I&#8217;m sure everyone has seen this already, but I&#8217;m going to post it
anyway, as I think the more exposure open-source tools get, the better
off we&#8217;ll all&nbsp;be!</p>
<p>Check out this <a href="http://www.nytimes.com/2009/01/07/technology/business-computing/07program.html?e%3Cbr%20/%3Em" title="Data Analysts Captivated by R’s Power">New York Times article</a> which features <code>R</code>, the
open-source statistical programming language. <code>R</code> now has ...</p>
                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2009/01/r-featured-in-new-york-times/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2009/01/r-featured-in-new-york-times/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    

                        <li><article class="hentry shadow">    
                <header>
                    <h1><a href="http://www.carsonfarmer.com/2008/09/r-spatial-indentify-tool/" rel="bookmark"
                           title="Permalink to R spatial indentify tool">R spatial indentify&nbsp;tool</a></h1>
                </header>
                
                <div class="entry-content">
                  <abbr class="published" title="2008-09-23T12:36:00">
                      <i class="icon-calendar"></i>
                      Tue 23 September 2008
                  </abbr>
                                        <address class="vcard author">
                          <i class="icon-user"></i>
                          <a class="url fn" href="http://www.carsonfarmer.com/author/cfarmer.html">cfarmer</a>
                      </address>
                                    <footer class="post-info">
                          <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/helpful-tips.html">Helpful tips</a> 
            </p>
                  </footer>
                <p>This is useful for visually exploring R spatial data such as
<code>SpatialPointDataFrames</code> or <code>SpatialGridDataFrames</code>. By clicking on various
features, the value at that point will be&nbsp;displayed.</p>
<div class="highlight"><pre>library<span class="p">(</span>rgdal<span class="p">)</span>
y <span class="o">=</span> readGDAL<span class="p">(</span>system.file<span class="p">(</span><span class="s">&quot;pictures/Rlogo.jpg&quot;</span><span class="p">,</span> package<span class="o">=</span><span class="s">&quot;rgdal&quot;</span><span class="p">)[</span><span class="m">1</span><span class="p">],</span> band<span class="o">=</span><span class="m">1</span><span class="p">)</span>
y.grid <span class="o">=</span> y<span class="o">@</span>grid
y.coords <span class="o">=</span> coordinates<span class="p">(</span>y.grid ...</pre></div>
                <p class="readmore">
                    <i class="icon-book"></i>
                    <a class="readmore" href="http://www.carsonfarmer.com/2008/09/r-spatial-indentify-tool/">read more</a>
                </p>
                    <p><i class="icon-comments"></i> <a href="http://www.carsonfarmer.com/2008/09/r-spatial-indentify-tool/#disqus_thread">comments</a></p>
                </div><!-- /.entry-content -->
            </article></li>
                    </ol><!-- /#posts-list -->
                            <p class="paginator">
                        <a href="http://www.carsonfarmer.com/author/cfarmer5.html">
                <i class="icon-arrow-left"></i>
            </a>
                6 / 8
            <a href="http://www.carsonfarmer.com/author/cfarmer7.html">
            <i class="icon-arrow-right"></i>
        </a>
    </p>                        </section><!-- /#content -->
                    <section id="extras" class="body shadow">
                    <div class="twitter">
        <h2><i class="icon-twitter"></i> twitter</h2>
        <a class="twitter-timeline" href="https://twitter.com/CarsonFarmer" 
            data-link-color="#2A75A9" 
            data-chrome="nofooter noheader noborders transparent" 
            data-widget-id="330339195518337025"
            height="300" lang="EN"
            data-related="CarsonFarmer">
            Tweets by @CarsonFarmer
        </a>
        <script>
            !function(d,s,id){
                var js,fjs=d.getElementsByTagName(s)[0], p=/^http:/.test(d.location)?'http':'https';
                if(!d.getElementById(id)){
                    js=d.createElement(s);
                    js.id=id;js.src=p+"://platform.twitter.com/widgets.js";
                    fjs.parentNode.insertBefore(js,fjs);
                }
            }(document,"script","twitter-wjs");
        </script>

</div>
                
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body ">
                <address id="about" class="vcard body shadow">
                                                                            <ul id="links">
                                    <li><a href="http://www.geo.hunter.cuny.edu/cfarmer/">CUNY Faculty Page</a></li>
                                    <li><a href="http://www.carsilab.org/">CARSI Lab</a></li>
                                </ul>
                                            Carson Farmer| Assistant Professor of GIScience | Department Geography</br>
                Hunter College - CUNY | 695 Park Avenue, New York | New York, 10065</br>
                </address><!-- /#about -->
                <p style="text-align: center;">This blog is proudly powered by <a href="http://getpelican.com/">Pelican</a>, 
                which takes great advantage of <a href="http://python.org">Python</a>.</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-41110370-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'carsonfarmer';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
    $(function() {
        var search = window.location.search.substring(1)
        if (search == "feed=rss2") window.location = "http://www.carsonfarmer.com/feeds/all.rss.xml"
    });

    $(document).ready(function() {
    
        //Calculate the height of <header>
        //Use outerHeight() instead of height() if have padding
        var aboveHeight = $('.navbar').position().top;

    //when scroll
        $(window).scroll(function() {
            //if scrolled down more than the header’s height
                if ($(window).scrollTop() > aboveHeight){
                // if yes, add "fixed" class to the <nav>
                // add padding top to the #content 
                    // if (!$('nav').hasClass('fixed')) {
                    //     $('.home_link').show("slide", { direction: "right" }, 250)
                    // };
                    $('.navbar').addClass('fixed').addClass('shadow').css('top','0').next() //.addClass('navbar-fixed-top').next()//
                    $('#content').css('margin-top',aboveHeight+20+'px'); // value is same as the height of the nav
                } else {
                // when scroll up or less than aboveHeight,
                // remove the “fixed” class, and the padding-top
                    // if ($('nav').hasClass('fixed')) {
                    //     console.log('test')
                    //     $('.home_link').hide("slide", { direction: "right" }, 250)
                    // };
                    $('.navbar').removeClass('fixed').removeClass('shadow').next()
                    $('#content').css('margin-top','0px');
                }
        });
        $("#top-query").keydown(function(event) {
            if (event.keyCode == 13) {
                event.preventDefault();
                site_search();
                return false;
            }
        });
        $("#top-btn").click(function(event) {
            event.preventDefault();
            site_search();
            return false;
        });
    });
    
function site_search() {
    var query = $("#top-query").val();
    if (query == "") return false;
    var api = 'http://tapirgo.com/api/1/search.json?';
    var token = '51980cd33f61b05bbb000ce0';
    var el = $("#top-results");
    el.empty();
    el.append('<li style="padding-left: 10px">Fetching results...</li>')
    $.getJSON(api + 'token=' + token + '&query=' + query + '&callback=?', 
        function(data) {
            // insert function here if needed
            if (data.length) {
                el.empty();
                $.each(data, function(key, val) {
                    var xx = new Date(val.published_on)+""
                    
                    el.append('<li><a href="http://' + val.link + '" data-toggle="tooltip" data-placement="right" ' + 
                        'title="'+ xx.substring(0,15) + '">' + val.title + '</a>' +
                        '</li>');
                });
            } else {
                el.empty();
                el.append('<li style="padding-left: 10px">No results found...</li>')
            };
        $("[data-toggle=tooltip]").tooltip();
    });
    $("#top-toggle").dropdown('toggle');
}
</script>
</body>
</html>