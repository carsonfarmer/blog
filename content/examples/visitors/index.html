<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Thanks for stopping by... Visitors to www.carsonfarmer.com from 2009 to 2011</title>
    <script type="text/javascript" src="../d3.v2.js"></script>
    <script type="text/javascript" src="geographic.js"></script>
    <link type="text/css" rel="stylesheet" href="style.css"/>
    <link type="text/css" rel="stylesheet" href="colorbrewer.css"/>
  </head>
  <body>
    <div class="title"'>
        <h1>Thanks for stopping by...</h1>
        <h2>Visitors to <font style="background-color: #383838;">&nbsp;www.carsonfarmer.com&nbsp;</font> from 2009 to 2011</h2>
    </div>
    <div id="overlay">
      <div>
        <h4>About</h4>
        <p>This project uses the excellent <a href="http://mbostock.github.com/d3/">D3 JavaScript library</a> to visualise visitor traffic to <font style="background-color: #D8D8D8;">&nbsp;www.carsonfarmer.com&nbsp;</font>. It is really just a learning tool for me, and most of the functionality is based on examples from the D3 website. For more information about the graphic, how the original static version was created, and the inspiration behind the graphic, see this <a href="http://www.carsonfarmer.com/?p=1011">blog post</a>.</p>
        <h4>Functionality:</h4>
        <p>Mouse-over the individual hexagonal grids to view the county, major city, and total number of visits at that location. You can also mouse-over a given class in the legend to highlight all grids within that particular range.</p>
        <h4>Some technical details:</h4>
        <p>The IP addresses were geocoded using the <a href='http://www.datasciencetoolkit.org/'>Data Science Toolkit API</a> via the <a href='https://github.com/rtelmore/RDSTK'>RDSTK</a> R package, and all data processing and manipulation was done using the <a href="http://www.r-project.org/">R statistical programming language</a>. Additionally, the colour scheme functionality comes from <a href="http://mbostock.github.com/d3/talk/20111018/#25">slide 25</a> of <a href="http://mbostock.github.com/d3/talk/20111018/#0">this presentation</a>, and uses the sequential colour palettes from <a href="http://colorbrewer2.org/">colorbrewer.org.</a> Finaly, this handy info dialog comes curtesy of <a href="http://raventools.com/blog/create-a-modal-dialog-using-css-and-javascript/">this blog</a>.</p>
        <p>Click here to [<a href='#' onclick='overlay()'>close</a>]</p>
      </div>
    </div>
    <div id="chart"></div>
    <div id="key"><font size=3em>Unique Visitors</font>
      <div><select>
<!--        <optgroup label="Colors by Cynthia Brewer.">-->
          <optgroup>
          <option value="YlGn">YlGn</option>
          <option value="YlGnBu">YlGnBu</option>
          <option value="GnBu">GnBu</option>
          <option value="BuGn">BuGn</option>
          <option value="PuBuGn">PuBuGn</option>
          <option value="PuBu">PuBu</option>
          <option value="BuPu">BuPu</option>
          <option value="RdPu">RdPu</option>
          <option value="PuRd">PuRd</option>
          <option value="OrRd">OrRd</option>
          <option value="YlOrRd">YlOrRd</option>
          <option value="YlOrBr">YlOrBr</option>
          <option value="Purples">Purples</option>
          <option value="Blues" selected>Blues</option>
          <option value="Greens">Greens</option>
          <option value="Oranges">Oranges</option>
          <option value="Reds">Reds</option>
          <option value="Greys">Greys</option>
        </optgroup>
      </select></div>
    </div>
    <div class="footer">
        <em>Created by:</em> Carson J. Q. Farmer, because its fun to map things!
        <a href='#' onclick='overlay()'>More info...</a>
    </div>
    <div class="place-name"></div>
    <div class="place-count"></div>
    <script type="text/javascript" src="visitors.js"></script>
    <script type="text/javascript">
      d3.select("select").on("change", function() {
        d3.selectAll("#blocks").attr("class", this.value);
        d3.selectAll("#grids").attr("class", this.value);
      });
      function overlay() {
	    el = document.getElementById("overlay");
	    el.style.visibility = (el.style.visibility == "visible") ? "hidden" : "visible";
      }
    </script>
  </body>
</html>
