<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
        <title>Data: Cases, Variables, Samples</title>
        <link rel="stylesheet" href="http://www.carsonfarmer.com/theme/css/main.css">
                <link href="http://www.carsonfarmer.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Carson Farmer Atom Feed" />
                        <link href="http://www.carsonfarmer.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Carson Farmer RSS Feed" />
                            
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type= "text/javascript">
       MathJax.Hub.Config({
           config: ["MMLorHTML.js"],
           jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML"],
           TeX: { extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"], equationNumbers: { autoNumber: "AMS" } },
           extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js"],
           tex2jax: { 
               inlineMath: [ ['$','$'] ],
               displayMath: [ ['$$','$$'] ],
               processEscapes: true }
       });
    </script>

                <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script>
        <script src="http://www.carsonfarmer.com/static/libs/bootstrap/js/bootstrap.min.js"></script>
        <!--<script src="http://twitter.github.io/bootstrap/assets/js/bootstrap-tooltip.js"></script>-->
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="http://www.carsonfarmer.com/">Carson Farmer  <strong>www.carsonfarmer.com</strong></a></h1>
                <form class="form-inline" id="top-search">
    <div class='input-append'>
        <input type="text" id="top-query" placeholder="Search..." />
        <button class="btn add-on" id="top-btn" type="button">
            <i class="icon-search"></i>
        </button>
<div class="dropdown pull-right" id="top-dropdown">
<a class="dropdown-toggle" id="top-toggle" role="button" data-toggle="dropdown" data-target="#" href="."></a>
<ul class="dropdown-menu pull-right" role="menu" id="top-results" aria-labelledby="top-toggle"></ul></div>
    </div>
</form>
                <div class="navbar">
                    <div class="navbar-inner">
                        <ul class="nav">
                            <li><a id="home" href="http://www.carsonfarmer.com/"><i class="icon-home"></i></a></li>
                                <li class="divider-vertical"></li>
                                                                                                                            <li><a href="http://www.carsonfarmer.com/about/"><i class="icon-info-sign"></i> About</a></li>
                                                                                                                                <li><a href="http://www.carsonfarmer.com/curriculum-vitae/"><i class="icon-rocket"></i> Curriculum Vitae</a></li>
                                                                                                                                <li class="dropdown">
                                        <a class="dropdown-toggle" data-toggle="dropdown" id="Work-drop" role="button" href="#">
                                        <i class="icon-globe"></i> Work<i class="icon-chevron-down"></i></a>
                                        <ul class="dropdown-menu" role="menu" id="Work-menu" aria-labelledby="Work-drop">
                                                                                            <li><a href="http://www.carsonfarmer.com/research/"><i class="icon-bar-chart"></i> Reserach</a></li>
                                                                                            <li><a href="http://www.carsonfarmer.com/spatial-software/"><i class="icon-code"></i> Software</a></li>
                                                                                    </ul>
                                    </li>
                                                                                                                                                                                <li class="dropdown pull-right">
                                    <a class="dropdown-toggle" data-toggle="dropdown" role="button" id="social-drop" href="#">
                                    <i class="icon-group"></i> Social<i class="icon-chevron-down"></i></a>
                                    <ul class="dropdown-menu pull-right" role="menu" id="social-menu" aria-labelledby="social-drop">
                                        <li>
                                          <a href="http://www.carsonfarmer.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">
                                          <i class="icon-rss"></i> atom feed</a>
                                        </li>
                                                                                <li>
                                          <a href="http://www.carsonfarmer.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">
                                          <i class="icon-rss"></i> rss feed</a>
                                        </li>
                                                                                                                            <li><a href="https://twitter.com/CarsonFarmer"><i class="icon-twitter"></i> twitter</a></li>
                                                                                    <li><a href="https://github.com/cfarmer"><i class="icon-github"></i> github</a></li>
                                                                                    <li><a href="http://about.me/carson.farmer"><i class="icon-user"></i> about.me</a></li>
                                                                                    <li><a href="http://hunter-cuny.academia.edu/CarsonFarmer"><i class="icon-book"></i> academia.edu</a></li>
                                                                                    <li><a href="http://www.linkedin.com/pub/carson-farmer/40/3bb/27/"><i class="icon-linkedin"></i> linkedin</a></li>
                                                                                    <li><a href="https://plus.google.com/108062014159451325697/about/p/pub"><i class="icon-google-plus"></i> google+</a></li>
                                                                                    <li><a href="mailto:carson.farmer@gmail.com"><i class="icon-envelope"></i> email</a></li>
                                                                            </ul>
                                </li>
                                                    </ul>
                    </div>
                </div>
        </header><!-- /#banner -->
        <section id="content" class="body">
  <article class="hentry shadow">
    <header>
      <h1 class="entry-title">
        <a href="http://www.carsonfarmer.com/2013/06/statistical-modeling-python-data/" rel="bookmark"
           title="Permalink to Data: Cases, Variables, Samples">Data: Cases, Variables,&nbsp;Samples</a></h1>
      <abbr class="published" title="2013-06-14T12:00:00">
          <i class="icon-calendar"></i>
          Fri 14 June 2013
      </abbr>
      <a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="CarsonFarmer">Tweet</a>
<script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<div class="g-plusone" data-size="medium"></div>
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<script src="//platform.linkedin.com/in.js" type="text/javascript">
 lang: en_US
</script>
<script type="IN/Share" data-counter="right"></script>    </header>

    <div class="entry-content">
      <h1>Data: Cases, Variables,&nbsp;Samples</h1>
<p>Data used in statistical modeling are usually organized into tables, often
created using spreadsheet software. Most people presume that the same software
used to create a table of data should be used to display and analyze it. This is
part of the reason for the popularity of spreadsheet programs such as &#8216;Excel&#8217;
and &#8216;Google&nbsp;Spreadsheets&#8217;.</p>
<p>For serious statistical work, it&#8217;s helpful to take another approach that
strictly separates the processes of data collection and of data analysis: use
one program to create data ﬁles and another program to analyze the data stored
in those ﬁles. By doing this, one guarantees that the original data are not
modiﬁed accidentally in the process of analyzing them. This also makes it
possible to perform many diﬀerent analyses of the data; modelers often create
and compare many diﬀerent models of the same&nbsp;data.</p>
<h2>Reading Tabular Data into&nbsp;Python</h2>
<p>Data is central to statistics, and the tabular arrangement of data is very
common. Accordingly, Python provides a large number of ways to read in tabular
data. These vary depending on how the data are stored, where they are located,
etc. To help keep things as simple as possible, the &#8216;pandas&#8217; Python library
iprovides an operator, <code>read_csv()</code> that allows you to access data ﬁles in
tabular format on your computer as well as data stored in repositories such as
the one associated with the &#8216;Statistical Modeling: A Fresh Approach&#8217; book, or
one that a course instructor might set up for his or her&nbsp;students.</p>
<p>The &#8216;pandas&#8217; library is <a href="http://pandas.pydata.org/">available here</a>, and you can follow these
<a href="http://pandas.pydata.org/pandas-docs/stable/install.html">installation instructions</a> to get it working on your computer
(installation via <code>pip</code> is the easiest method). Once you have &#8216;pandas&#8217;
installed, you need to <code>import pandas</code> in order to to use <code>read_csv()</code>, as well
as a variety of other &#8216;pandas&#8217; operators that you will encounter later (it is
also usually a good idea to <code>import numpy as np</code> at the same time that we
<code>import pandas as pd</code>).</p>
<p><span class="note left shadow">
    An alternative to writing <code>pds.xxx</code> when calling each &#8216;pandas&#8217; operator is
to import all available operators from &#8216;pandas&#8217; at once: <code>from pandas import *</code>.
This makes things a bit easier in terms of typing, but can sometimes lead to
confusion when operators from different libraries have the same name.
</span>
<p class="prompt in">In[1]:</p></p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
</pre></div>


<p>You need do this only once in each session of Python, and on systems such as
IPython, the library will sometimes be reloaded automatically (if you get an
error message, it’s likely that the &#8216;pandas&#8217; library has not been installed on
your system. Follow the installation instructions provided at the link&nbsp;above.)</p>
<p>Reading in a data table that’s been connected with <code>read_csv()</code> is simply a
matter of knowing the name (and location) of the data set. For instance, one
data table used in examples in the &#8216;Statistical Modeling: A Fresh Approach&#8217; book
is <code>"swim100m.csv"</code>. To read in this data table and create an object in Python
that contains the data, use a command like&nbsp;this:</p>
<p><span class="dataset shadow"><code>swim100m.csv</code></span>
<p class="prompt in">In[2]:</p></p>
<div class="highlight"><pre><span class="n">swim</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">&quot;http://www.mosaic-web.org/go/datasets/swim100m.csv&quot;</span><span class="p">)</span>
</pre></div>


<p>The csv part of the name in <code>"swim100m.csv"</code> indicates that the ﬁle has been
stored in a particular data format, comma-separated values that is handled by
spreadsheet software as well as many other kinds of software. The part of this
command that requires creativity is choosing a name for the Python object that
will hold the data. In the above command it is called <code>swim</code>, but you might
prefer another name (e.g., <code>s</code> or <code>sdata</code> or even <code>ralph</code>). Of course, it&#8217;s
sensible to choose names that are short, easy to type and remember, and remind
you what the contents of the object are&nbsp;about.</p>
<p>To help you identify data tables that can be accessed through <code>read_csv()</code>,
examples from these tutorials will be marked with a flag
<i class="icon-flag"></i> containing the name of the file containing the data
file. The files themselves are mostly available automatically through the web
site for the &#8216;Statistical Modeling: A Fresh Approach&#8217;&nbsp;book.</p>
<h3>Data&nbsp;Frames</h3>
<p>The type of Python object created by <code>read_csv()</code> is called a data frame and is
essentially a tabular layout. To illustrate, here are the ﬁrst several cases of
the <code>swim</code> data frame created by the previous use of <code>read_csv()</code>:</p>
<p class="prompt in">In[3]:</p>

<div class="highlight"><pre><span class="n">swim</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>


<p class="prompt out">Out[3]:</p>

<pre class="output command">
   year  time sex
0  1905  65.8   M
1  1908  65.6   M
2  1910  62.8   M
3  1912  61.6   M
4  1918  61.4   M
</pre>

<p>Note that the <code>head()</code> function, one of several functions built-into &#8216;pandas&#8217;
data frames, is a function of the Python object (data frame) itself; not from
the main &#8216;pandas&#8217;&nbsp;library.</p>
<p>Data frames, like tabular data generally, involve variables and cases. In
&#8216;pandas&#8217; data frames, each of the variables is given a name. You can refer to
the variable by name in a couple of diﬀerent ways. To see the variable names in
a data frame, something you might want to do to remind yourself of how names a
spelled and capitalized, use the <code>columns</code> attribute of the data frame object:
<p class="prompt in">In[4]:</p></p>
<div class="highlight"><pre><span class="n">swim</span><span class="o">.</span><span class="n">columns</span>
</pre></div>


<p class="prompt out">Out[4]:</p>

<pre class="output command">
Index([year, time, sex], dtype=object)
</pre>

<p>Note that we have <strong>not</strong> used brackets <code>()</code> in the above command. This is
because <code>columns</code> is not a function; it is an <em>attribute</em> of the data frame.
Attributes add &#8216;extra&#8217; information (or metadata) to objects in the form of
additional Python objects. In this case, the attributes describe the names (and
data types) of the columns. Another way to get quick information about the
variables in a data frame is with <code>describe()</code>:
<p class="prompt in">In[5]:</p></p>
<div class="highlight"><pre><span class="n">swim</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>


<p class="prompt out">Out[5]:</p>

<pre class="output command">
              year       time
count    62.000000  62.000000
mean   1952.145161  59.924194
std      29.472881   9.916588
min    1905.000000  47.840000
25%    1924.500000  53.642500
50%    1956.500000  56.880000
75%    1975.750000  65.200000
max    2004.000000  95.000000
</pre>

<p>This provides a numerical summary of each of the variables contained in the data
frame. To keep things simple, the output from <code>describe()</code> is itself a data&nbsp;frame.</p>
<p>There are lots of different functions and attributes available for data frames
(and any other Python objects). For instance, to see how many cases and
variables there are in a data frame, you can use the <code>shape</code> attribute:
<p class="prompt in">In[6]:</p></p>
<div class="highlight"><pre><span class="n">swim</span><span class="o">.</span><span class="n">shape</span>
</pre></div>


<p class="prompt out">Out[6]:</p>

<pre class="output command">
(62, 3)
</pre>

<h3>Variables in Data&nbsp;Frames</h3>
<p>Perhaps the most common operation on a data frame is to refer to the values in a
single variable. The two ways you will most commonly use involve referring to a
variable by string-quoted name (<code>swim["year"]</code>) and as an attribute of a data
frame without quotes (<code>swim.year</code>).</p>
<p><span class="note right shadow">
Each column or variable in a &#8216;pandas&#8217; data frame is called a &#8216;series&#8217;, and each
series can contain one of many different data types. For more information on
series&#8217;, data frames, and other objects in &#8216;pandas, <a href="http://pandas.pydata.org/pandas-docs/dev/dsintro.html">have a look here</a>.
</span></p>
<p>Most of the statistical modeling functions you will encounter in these tutorials
are designed to work with data frames and allow you to refer directly to
variables within a data frame. For instance:
<p class="prompt in">In[7]:</p></p>
<div class="highlight"><pre><span class="n">swim</span><span class="o">.</span><span class="n">year</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>


<p class="prompt out">Out[7]:</p>

<pre class="output command">
1952.1451612903227
</pre>

<p class="prompt in">In[8]:</p>

<div class="highlight"><pre><span class="n">swim</span><span class="p">[</span><span class="s">&quot;year&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>


<p class="prompt out">Out[8]:</p>

<pre class="output command">
1905
</pre>

<p>It is also possible to combine &#8216;numpy&#8217; operators with &#8216;pandas&#8217; variables:
<p class="prompt in">In[10]:</p></p>
<div class="highlight"><pre><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">swim</span><span class="p">[</span><span class="s">&quot;year&quot;</span><span class="p">])</span>
</pre></div>


<p class="prompt out">Out[10]:</p>

<pre class="output command">
1905
</pre>

<p class="prompt in">In[11]:</p>

<div class="highlight"><pre><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">swim</span><span class="o">.</span><span class="n">year</span><span class="p">)</span>
</pre></div>


<p class="prompt out">Out[11]:</p>

<pre class="output command">
1905
</pre>

<p>The <code>swim</code> portion of the above commands tells Python which data frame we want
to operate on. Leaving oﬀ that argument leads to an error:
<p class="prompt in">In[9]:</p></p>
<div class="highlight"><pre><span class="n">year</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre>---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
&lt;ipython-input-9-2ef03df1cde8&gt; in &lt;module&gt;()
----&gt; 1 year.min()

NameError: name &#39;year&#39; is not defined
</pre></div>


<p>Of course, you know that the variable year is deﬁned <em>within</em> the data frame
<code>swim</code>, but you have to tell Python which data frame you want to operate on
explicitly, otherwise it doesn’t know where to find the variable(s). Think of
this notation as referring to the variable by both its family name (the data
frame’s name,<code>"swim"</code>) and its given name (<code>"year"</code>), something like
<code>einstein.albert</code>.</p>
<p>The advantage of referring to variables by name becomes evident when you
construct statements that involve more than one variable within a data frame.
For instance, here&#8217;s a calculation of the mean year, separately for (grouping
by) the different sexes:
<p class="prompt in">In[12]:</p></p>
<div class="highlight"><pre><span class="n">swim</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">&#39;sex&#39;</span><span class="p">)[</span><span class="s">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>


<p class="prompt out">Out[12]:</p>

<pre class="output command">
sex
F      1950.677419
M      1953.612903
Name: year, dtype: float64
</pre>

<p>You will see much more of the <code>groupby</code> function, starting in Tutorial 4 (Group-
wise Models). It&#8217;s the &#8216;pandas&#8217; way of grouping or aggregating data frames. In
subsequent chapters, we will build on this notion to develop more complex ways
of &#8220;grouping&#8221; and &#8220;modeling&#8221; variables &#8220;by&#8221; other&nbsp;variables.</p>
<p>Both the <code>mean()</code> and <code>min()</code> functions have been arranged by the &#8216;pandas&#8217;
library to look in the data frame when interpreting variables, but not all
Python functions are designed this way. For instance:
<p class="prompt in">In[13]:</p></p>
<div class="highlight"><pre><span class="n">swim</span><span class="o">.</span><span class="n">year</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre>---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
&lt;ipython-input-13-e6382fdf6716&gt; in &lt;module&gt;()
----&gt; 1 swim.year.sqrt()

AttributeError: &#39;Series&#39; object has no attribute &#39;sqrt&#39;
</pre></div>


<p>When you encounter a function that isn&#8217;t supported by data frames, you can use
&#8216;numpy&#8217; functions and the special <code>apply</code> function built-into data frames (note
that the <code>func</code> argument is optional):
<p class="prompt in">In[14]:</p></p>
<div class="highlight"><pre><span class="n">swim</span><span class="o">.</span><span class="n">year</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">)</span>
</pre></div>


<p class="prompt out">Out[14]:</p>

<pre class="output command">
0     43.646306
1     43.680659
2     43.703547
3     43.726422
4     43.794977
5     43.817805
6     43.840620
7     43.863424
8     43.977267
9     43.988635
10    44.000000
11    44.090815
12    44.124823
13    44.136153
14    44.215382
...
47    44.249294
48    44.271887
49    44.294469
50    44.317040
51    44.407207
52    44.418465
53    44.429720
54    44.452222
55    44.474712
56    44.497191
57    44.564560
58    44.631827
59    44.654227
60    44.721360
61    44.766059
Name: year, Length: 62, dtype: float64
</pre>

<h3>Adding a New&nbsp;Variable</h3>
<p>Sometimes you will compute a new quantity from the existing variables and want
to treat this as a new variable. Adding a new variable to a data frame can be
done similarly to <em>accessing</em> a variable. For instance, here is how to create a
new variable in <code>swim</code> that holds the <code>time</code> converted from seconds to units of
minutes:
<p class="prompt in">In[15]:</p></p>
<div class="highlight"><pre><span class="n">swim</span><span class="p">[</span><span class="s">&#39;minutes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">swim</span><span class="o">.</span><span class="n">time</span><span class="o">/</span><span class="mi">60</span> <span class="c"># or swim[&#39;time&#39;]/60</span>
</pre></div>


<p>By default, columns get inserted at the end. The <code>insert</code> function is available
to insert at a particular location in the columns.
<p class="prompt in">In[16]:</p></p>
<div class="highlight"><pre><span class="n">swim</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;mins&#39;</span><span class="p">,</span> <span class="n">swim</span><span class="o">.</span><span class="n">time</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span>
</pre></div>


<p>You could also, if you want, redeﬁne an existing variable, for instance:
<p class="prompt in">In[17]:</p></p>
<div class="highlight"><pre><span class="n">swim</span><span class="p">[</span><span class="s">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">swim</span><span class="o">.</span><span class="n">time</span><span class="o">/</span><span class="mi">60</span>
</pre></div>


<p>As always, we can take a quick look at the results of our operations by using
the <code>head()</code> fuction of our data frame:
<p class="prompt in">In[18]:</p></p>
<div class="highlight"><pre><span class="n">swim</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>


<p class="prompt out">Out[18]:</p>

<pre class="output command">
   year      mins      time sex   minutes
0  1905  1.096667  1.096667   M  1.096667
1  1908  1.093333  1.093333   M  1.093333
2  1910  1.046667  1.046667   M  1.046667
3  1912  1.026667  1.026667   M  1.026667
4  1918  1.023333  1.023333   M  1.023333
</pre>

<p>Such assignment operations do not change the original file from which the data
were read, only the data frame in the current session of Python. This is an
advantage, since it means that your data in the data file stay in their original
state and therefore won’t be corrupted by operations made during&nbsp;analysis.</p>
<h2>Sampling from a Sample&nbsp;Frame</h2>
<p>Much of statistical analysis is concerned with the consequences of drawing a
sample from the population. Ideally, you will have a sampling frame that lists
every member of the population from which the sample is to be drawn. With this
in hand, you could treat the individual cases in the sampling frame as if they
were cards in a deck of hands. To pick your random sample, shuffle the deck and
deal out the desired number of&nbsp;cards.</p>
<p>When doing real work in the ﬁeld, you would use the randomly dealt cards to
locate the real-world cases they correspond to. Sometimes in these tutorials,
however, in order to let you explore the consequences of sampling, you will
select a sample from an existing data set. For example, the <code>"kidsfeet.csv"</code>
data set has <code>n=39</code> cases.</p>
<p><span class="dataset shadow"><code>kidsfeet.csv</code></span>
<p class="prompt in">In[45]:</p></p>
<div class="highlight"><pre><span class="n">kids</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">&quot;http://www.mosaic-web.org/go/datasets/kidsfeet.csv&quot;</span><span class="p">)</span>
<span class="n">kids</span><span class="o">.</span><span class="n">shape</span>
</pre></div>


<p class="prompt out">Out[45]:</p>

<pre class="output command">
(39, 8)
</pre>

<p>There are a number of procedures to draw a random sample of 5 cases from this
data frame. The preferred option however, is to randomly select a subset of case
ids (in this case 5) using <code>np.random.choice</code>, and return a subsetted data frame
using the <code>ix[]</code> operator.</p>
<p><span class="note left shadow">
The <code>ix[]</code> operator is a bit tricky to figure out at first. For more
information, see <a href="http://pandas.pydata.org/pandas-docs/stable/indexing.html">the official docs</a>.
</span></p>
<p><p class="prompt in">In[54]:</p></p>
<div class="highlight"><pre><span class="n">rows</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">kids</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">kids</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">rows</span><span class="p">]</span>
</pre></div>


<p class="prompt out">Out[54]:</p>

<pre class="output command">
        name  birthmonth  birthyear  length  width sex biggerfoot domhand
30  Danielle           6         88    24.0    9.3   G          L       R
10      Mark           9         87    27.5    9.8   B          R       R
1       Lars          10         87    25.4    8.8   B          L       L
9      Damon           9         88    22.9    8.8   B          R       L
23     Erica           9         88    24.5    9.0   G          L       R
</pre>

<p><span class="note right shadow">
To make things a bit more concise, you can <code>import np.random.choice as choice</code>,
which will allow you to simply use <code>choice()</code> without including the library
<em>and</em> module when&nbsp;typing.
</span></p>
<p>This can also be done in a single line:
<p class="prompt in">In[32]:</p></p>
<div class="highlight"><pre><span class="n">kids</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">kids</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">False</span><span class="p">)]</span>
</pre></div>


<p class="prompt out">Out[32]:</p>

<pre class="output command">
        name  birthmonth  birthyear  length  width sex biggerfoot domhand
1       Lars          10         87    25.4    8.8   B          L       L
22     Laura           9         88    24.0    8.3   G          R       L
2       Zach          12         87    24.5    9.7   B          R       R
36  Teshanna           3         88    26.0    9.0   G          L       R
17    Maggie           3         88    24.7    8.8   G          R       R
</pre>

<p>The results returned by the above methods will never contain the same case more
than once (because we told the function <em>not</em> to sample with replacement), just
as if you were dealing cards from a shuffled deck. In contrast, &#8216;re-sampling
with replacement&#8217; replaces each case after it is dealt so that it can appear
more than once in the result. You wouldn’t want to do this to select from a
sampling frame, but it turns out that there are valuable statistical uses for
this sort of sampling with <strong>replacement</strong>. You’ll make use of re-sampling in
Tutorial 5 (Conﬁdence Intervals).
<p class="prompt in">In[44]:</p></p>
<div class="highlight"><pre><span class="n">kids</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">kids</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="bp">True</span><span class="p">)]</span>
</pre></div>


<p class="prompt out">Out[44]:</p>

<pre class="output command">
        name  birthmonth  birthyear  length  width sex biggerfoot domhand
34     Peter           4         88    24.7    8.6   B          R       L
28      Mike          11         88    24.2    8.9   B          L       R
28      Mike          11         88    24.2    8.9   B          L       R
8    Eleanor           5         88    23.6    9.3   G          R       R
36  Teshanna           3         88    26.0    9.0   G          L       R
</pre>

<p>Notice that Mike was sampled&nbsp;twice.</p>
<h3>Next time on, Statistical Modeling: A Fresh Approach for&nbsp;Python&#8230;</h3>
<h4>Describing&nbsp;Variation</h4>
<h3>Reference</h3>
<p>As with all &#8216;Statistical Modeling: A Fresh Approach for Python&#8217; tutorials, this
tutorial is based directly on material from <a href="http://www.mosaic-web.org/go/StatisticalModeling/">&#8216;Statistical Modeling: A Fresh
Approach (2nd Edition)&#8217;</a> by <a href="http://www.macalester.edu/~kaplan/">Daniel Kaplan</a>.</p>
<p>I have made an effort to keep the text and explanations consistent between the
original (R-based) version and the Python tutorials, in order to keep things
comparable. With that in mind, any errors, omissions, and/or differences between
the two versions are mine, and any questions, comments, and/or concerns should
be <a href="mailto:carson.farmer@hunter.cuny.edu">directed to me</a>.</p>
          <p class="category">
        <i class="icon-certificate"></i>
        <a href="http://www.carsonfarmer.com/category/statistical-modeling-for-python.html">Statistical Modeling for Python</a> 
            </p>
          <p class="tag">
        <i class="icon-tags"></i>
         <a href="http://www.carsonfarmer.com/tag/helpful-tips.html">Helpful tips</a>
         <a href="http://www.carsonfarmer.com/tag/python.html">Python</a>
         <a href="http://www.carsonfarmer.com/tag/statistical-modeling.html">Statistical Modeling</a>
         <a href="http://www.carsonfarmer.com/tag/teaching.html">Teaching</a>
            </p>
    </div><!-- /.entry-content -->
    
  </article>
</section>
        <section id="extras" class="body shadow">
                    <div class="twitter">
        <h2><i class="icon-twitter"></i> twitter</h2>
        <a class="twitter-timeline" href="https://twitter.com/CarsonFarmer" 
            data-link-color="#2A75A9" 
            data-chrome="nofooter noheader noborders transparent" 
            data-widget-id="330339195518337025"
            height="300" lang="EN"
            data-related="CarsonFarmer">
            Tweets by @CarsonFarmer
        </a>
        <script>
            !function(d,s,id){
                var js,fjs=d.getElementsByTagName(s)[0], p=/^http:/.test(d.location)?'http':'https';
                if(!d.getElementById(id)){
                    js=d.createElement(s);
                    js.id=id;js.src=p+"://platform.twitter.com/widgets.js";
                    fjs.parentNode.insertBefore(js,fjs);
                }
            }(document,"script","twitter-wjs");
        </script>

</div>
                
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body ">
                <address id="about" class="vcard body shadow">
                                                                            <ul id="links">
                                    <li><a href="http://www.geo.hunter.cuny.edu/cfarmer/">CUNY Faculty Page</a></li>
                                    <li><a href="http://www.carsilab.org/">CARSI Lab</a></li>
                                </ul>
                                            Carson Farmer| Assistant Professor of GIScience | Department Geography</br>
                Hunter College - CUNY | 695 Park Avenue, New York | New York, 10065</br>
                </address><!-- /#about -->
                <p style="text-align: center;">This blog is proudly powered by <a href="http://getpelican.com/">Pelican</a>, 
                which takes great advantage of <a href="http://python.org">Python</a>.</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-41110370-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'carsonfarmer';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
    $(function() {
        var search = window.location.search.substring(1)
        if (search == "feed=rss2") window.location = "http://www.carsonfarmer.com/feeds/all.rss.xml"
    });

    $(document).ready(function() {
    
        //Calculate the height of <header>
        //Use outerHeight() instead of height() if have padding
        var aboveHeight = $('.navbar').position().top;

    //when scroll
        $(window).scroll(function() {
            //if scrolled down more than the header’s height
                if ($(window).scrollTop() > aboveHeight){
                // if yes, add "fixed" class to the <nav>
                // add padding top to the #content 
                    // if (!$('nav').hasClass('fixed')) {
                    //     $('.home_link').show("slide", { direction: "right" }, 250)
                    // };
                    $('.navbar').addClass('fixed').addClass('shadow').css('top','0').next() //.addClass('navbar-fixed-top').next()//
                    $('#content').css('margin-top',aboveHeight+20+'px'); // value is same as the height of the nav
                } else {
                // when scroll up or less than aboveHeight,
                // remove the “fixed” class, and the padding-top
                    // if ($('nav').hasClass('fixed')) {
                    //     console.log('test')
                    //     $('.home_link').hide("slide", { direction: "right" }, 250)
                    // };
                    $('.navbar').removeClass('fixed').removeClass('shadow').next()
                    $('#content').css('margin-top','0px');
                }
        });
        $("#top-query").keydown(function(event) {
            if (event.keyCode == 13) {
                event.preventDefault();
                site_search();
                return false;
            }
        });
        $("#top-btn").click(function(event) {
            event.preventDefault();
            site_search();
            return false;
        });
    });
    
function site_search() {
    var query = $("#top-query").val();
    if (query == "") return false;
    var api = 'http://tapirgo.com/api/1/search.json?';
    var token = '51980cd33f61b05bbb000ce0';
    var el = $("#top-results");
    el.empty();
    el.append('<li style="padding-left: 10px">Fetching results...</li>')
    $.getJSON(api + 'token=' + token + '&query=' + query + '&callback=?', 
        function(data) {
            // insert function here if needed
            if (data.length) {
                el.empty();
                $.each(data, function(key, val) {
                    var xx = new Date(val.published_on)+""
                    
                    el.append('<li><a href="http://' + val.link + '" data-toggle="tooltip" data-placement="right" ' + 
                        'title="'+ xx.substring(0,15) + '">' + val.title + '</a>' +
                        '</li>');
                });
            } else {
                el.empty();
                el.append('<li style="padding-left: 10px">No results found...</li>')
            };
        $("[data-toggle=tooltip]").tooltip();
    });
    $("#top-toggle").dropdown('toggle');
}
</script>
</body>
</html>