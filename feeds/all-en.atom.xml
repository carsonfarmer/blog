<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Carson Farmer</title><link href="http://www.carsonfarmer.com/" rel="alternate"></link><link href="http://www.carsonfarmer.com/feeds/all-en.atom.xml" rel="self"></link><id>http://www.carsonfarmer.com/</id><updated>2013-07-12T17:25:00-04:00</updated><entry><title>Essential Python Geospatial Libraries</title><link href="http://www.carsonfarmer.com/2013/07/essential-python-geo-libraries/" rel="alternate"></link><updated>2013-07-12T17:25:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2013-07-12:2013/07/essential-python-geo-libraries/</id><summary type="html">&lt;p&gt;Just so I don&amp;#8217;t forget, here is a list of really awesome Python libraries that
I&amp;#8217;m using these days to do lots of fun things with spatial&amp;nbsp;data:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://pandas.pydata.org/"&gt;pandas&lt;/a&gt; - For data handling and&amp;nbsp;munging&lt;/li&gt;
&lt;li&gt;&lt;a href="https://pypi.python.org/pypi/Shapely"&gt;shapely&lt;/a&gt; - For geometry&amp;nbsp;handling&lt;/li&gt;
&lt;li&gt;&lt;a href="http://scitools.org.uk/cartopy/"&gt;cartopy&lt;/a&gt; - For plotting spatial&amp;nbsp;data&lt;/li&gt;
&lt;li&gt;&lt;a href="http://toblerity.github.io/rtree/"&gt;rtree&lt;/a&gt; - For efficiently querying spatial&amp;nbsp;data&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.cityinabottle.org/nodebox/"&gt;nodebox-opengl&lt;/a&gt; - For playing around with&amp;nbsp;animations&lt;/li&gt;
&lt;li&gt;&lt;a href="http://statsmodels.sourceforge.net/"&gt;statsmodels&lt;/a&gt; - For models and stats in Python (otherwise I&amp;#8217;d use&amp;nbsp;R)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.numpy.org/"&gt;numpy&lt;/a&gt; - For pretty much anything that involves&amp;nbsp;arrays&lt;/li&gt;
&lt;li&gt;&lt;a href="https://code.google.com/p/geopy/"&gt;geopy&lt;/a&gt; - For geolocating and things like&amp;nbsp;that&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ipython.org/"&gt;ipython&lt;/a&gt; - For a wondering interactive environment in which to&amp;nbsp;play&lt;/li&gt;
&lt;li&gt;&lt;a href="https://code.google.com/p/freetype-py/"&gt;freetype-py&lt;/a&gt; - For converting font glyphs to polygons (odd I&amp;nbsp;know&amp;#8230;)&lt;/li&gt;
&lt;li&gt;[&lt;span class="caps"&gt;OGR&lt;/span&gt;/&lt;span class="caps"&gt;GDAL&lt;/span&gt;][] - For reading, writing, and transforming geospatial data&amp;nbsp;formats&lt;/li&gt;
&lt;li&gt;&lt;a href="http://toblerity.github.io/fiona/"&gt;fiona&lt;/a&gt; - For making it &lt;em&gt;easy&lt;/em&gt; to read/write geospatial data&amp;nbsp;formats&lt;/li&gt;
&lt;li&gt;&lt;a href="http://matplotlib.org/"&gt;matplotlib&lt;/a&gt; - For all my plotting&amp;nbsp;needs&lt;/li&gt;
&lt;li&gt;&lt;a href="http://networkx.github.io/"&gt;networkx&lt;/a&gt; - For working with networks&amp;nbsp;(duh!)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.getpelican.com/en/3.2/"&gt;pelican&lt;/a&gt; - For blogging about all this&amp;nbsp;stuff&amp;#8230;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Any others I&amp;#8217;ve&amp;nbsp;missed?&lt;/p&gt;
</summary><category term="Update"></category><category term="Useful Tips"></category><category term="Python"></category><category term="GIS"></category><category term="Open Source"></category></entry><entry><title>New York City Panel on Climate Change</title><link href="http://www.carsonfarmer.com/2013/06/nyc-panel-climate-change/" rel="alternate"></link><updated>2013-06-12T15:55:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2013-06-12:2013/06/nyc-panel-climate-change/</id><summary type="html">&lt;p&gt;This was recently announced on the &lt;a href="http://www.geo.hunter.cuny.edu/"&gt;Hunter Geography Department&lt;/a&gt;&amp;nbsp;website:&lt;/p&gt;
&lt;blockquote&gt;
&lt;h3&gt;&lt;span class="caps"&gt;CISC&lt;/span&gt; Produced Map Spearhead of Mayor Bloomberg&amp;#8217;s &lt;span class="caps"&gt;SIRR&lt;/span&gt;&amp;nbsp;Announcement&lt;/h3&gt;
&lt;p&gt;The &lt;a href="http://www.cunysustainablecities.org/climate-projections-future-flood-risk-maps-inform-a-stronger-resilient-york/"&gt;New York City Panel on Climate Change (&lt;span class="caps"&gt;NPCC2&lt;/span&gt;) Climate Risk Information 
2013 Report&lt;/a&gt; was released on June 11, 2013 in conjunction with the 
release of the &lt;span class="caps"&gt;NYC&lt;/span&gt; Special Initiative for Rebuilding and Resiliency&amp;#8217;s (&lt;span class="caps"&gt;SIRR&lt;/span&gt;) 
report entitled &lt;a href="http://www.nyc.gov/html/sirr/html/report/report.shtml"&gt;&amp;#8220;A Stronger, More Resilient New York.&amp;#8221;&lt;/a&gt; The reports 
were released by &lt;span class="caps"&gt;NYC&lt;/span&gt; Mayor Michael Bloomberg during a 
&lt;a href="http://www.nytimes.com/2013/06/12/nyregion/bloomberg-outlines-20-billion-plan-to-protect-city-from-future-storms.html?hp&amp;amp;_r=0"&gt;press conference&lt;/a&gt; on Tuesday June 11 at the Brooklyn Navy Yard. Work 
by the &lt;a href="http://www.cunysustainablecities.org/"&gt;&lt;span class="caps"&gt;CUNY&lt;/span&gt; Institute for Sustainable Cities (&lt;span class="caps"&gt;CISC&lt;/span&gt;)&lt;/a&gt; is heavily 
featured in the reports. Hunter College Geography Professor 
&lt;a href="http://www.geo.hunter.cuny.edu/people/fac/solecki.html"&gt;William Solecki&lt;/a&gt; and director of the &lt;span class="caps"&gt;CUNY&lt;/span&gt; Institute for Sustainable 
Cities, is co-chair of the &lt;span class="caps"&gt;NPCC2&lt;/span&gt; and &lt;a href="http://www.cunysustainablecities.org/lesley-patrick-program-manager/"&gt;Lesley Patrick&lt;/a&gt;, &lt;span class="caps"&gt;CISC&lt;/span&gt; program 
manager is the &lt;span class="caps"&gt;CISC&lt;/span&gt; lead of the &lt;span class="caps"&gt;NPCC2&lt;/span&gt; Technical&amp;nbsp;Team.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.cunysustainablecities.org/climate-projections-future-flood-risk-maps-inform-a-stronger-resilient-york/"&gt;&lt;img alt="image1" class="left" src="http://www.geo.hunter.cuny.edu/images/climate_risk_info2013.jpg" title="A Stronger, More Resilient New York" /&gt;&lt;/a&gt;
&lt;a href="http://www.nyc.gov/html/sirr/html/report/report.shtml"&gt;&lt;img alt="image2" src="http://www.geo.hunter.cuny.edu/images/sirr_report_cover.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary><category term="Announcement"></category><category term="Sustainability"></category><category term="News"></category><category term="CUNY"></category></entry><entry><title>New Journal: Spatial Demography</title><link href="http://www.carsonfarmer.com/2013/06/new-journal-spatial-demography/" rel="alternate"></link><updated>2013-06-06T13:11:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2013-06-06:2013/06/new-journal-spatial-demography/</id><summary type="html">&lt;p&gt;I have recently joined the &lt;a href="http://spatialdemography.org/editors-2/editorial-board/"&gt;editorial team&lt;/a&gt; at &lt;a href="http://spatialdemography.org/"&gt;Spatial Demography&lt;/a&gt;
&amp;#8212; a new journal outlet for demographers and others who use spatial data, 
methods, and&amp;nbsp;theory. &lt;/p&gt;
&lt;p&gt;A bit more &lt;a href="http://spatialdemography.org/about/"&gt;about the journal&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Spatial Demography [&lt;span class="caps"&gt;ISSN&lt;/span&gt;: 2164-7070 (online)] focuses on the spatial analysis 
of demographic processes. This cross-disciplinary work involves modern 
demographic data visualization, enhanced geo-referenced data availability, and 
spatial statistics, facilitated through full color graphics, motion video 
tools, and a quick time-to-publication. The journal publishes research 
articles, essays, research reports, data sources, computing software, teaching 
notes, and book reviews on a wide range of topics of interest to the social&amp;nbsp;demographer.&lt;/p&gt;
&lt;/blockquote&gt;


&lt;p&gt;Spatial Demography is more than just another new online journal - the editors 
strongly promote the use of the &lt;a href="http://spatialdemography.org/?page_id=669"&gt;forums&lt;/a&gt; as a place to engage with others on 
general research topics, as well as discuss specific articles from the journal 
and &lt;a href="http://spatialdemography.org/?page_id=42"&gt;Online First&lt;/a&gt; area. One of the really nice thing about the forums 
is that they have a familiar &amp;#8216;blog-feel&amp;#8217;, where users are encourage to post 
their thoughts about the work being done by others as well as their own&amp;nbsp;work. &lt;/p&gt;
&lt;p&gt;Another thing I really like about Spatial Demography is that the Associate 
Editors embrace technology and sharing of ideas in a very open way. For example, 
Corey Sparks does a cool column/forum for the journal on &lt;a href="http://spatialdemography.org/introduction-to-software-and-code-forum/"&gt;&amp;#8216;Software and Code&amp;#8217;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The purpose of this forum is to highlight the tools of the trade, our 
methodological toolbox, if you will.  With so many scientists in so many 
disciplines contributing to the area known as &amp;#8220;Spatial Demography&amp;#8221;, we all 
have our old stand by routines, our tricks and our tips for new&amp;nbsp;researchers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The &amp;#8216;Software and Code&amp;#8217; forum will routinely feature &amp;#8216;how-to guides&amp;#8217; for various 
spatial analysis techniques using primarily open source computing applications, 
with lots of annotated code to help others learn everything from the basics to 
the more advanced spatial statistics&amp;nbsp;methods.&lt;/p&gt;
&lt;p&gt;A big thanks to Frank Howell and Jeremy Porter (Editors-in-Chief) for inviting 
me on-board. I&amp;#8217;m excited to see where this journal goes, and I hope &lt;em&gt;you&amp;#8217;ll&lt;/em&gt; 
check it out as&amp;nbsp;well.&lt;/p&gt;</summary><category term="Announcement"></category><category term="Journal"></category><category term="Demography"></category><category term="Research"></category></entry><entry><title>Tim Stojanovic Guest Lecture</title><link href="http://www.carsonfarmer.com/2013/05/guest-speaker-june-2013/" rel="alternate"></link><updated>2013-05-28T18:29:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2013-05-28:2013/05/guest-speaker-june-2013/</id><summary type="html">&lt;p&gt;&lt;a href="http://www.st-andrews.ac.uk/gsd/people/tas21/"&gt;Dr. Tim Stojanovic&lt;/a&gt; will be coming to the &lt;a href="http://www.geo.hunter.cuny.edu/"&gt;Department of Geography 
at Hunter College&lt;/a&gt;, &lt;span class="caps"&gt;CUNY&lt;/span&gt; next week to give a talk entitled: &amp;#8220;Analysing 
Change in the Human Development of the World’s Oceans&amp;#8221;. The talk will be held 
on &lt;strong&gt;June 5th, 2013&lt;/strong&gt; at &lt;strong&gt;3:00 p.m.&lt;/strong&gt; in the Hunter North building, room 1004.
The talk is hosted by the Department of Geography, and the poster is &lt;a href="http://www.carsonfarmer.com/static/uploads/stojanovic_human_dev_oceans.pdf"&gt;available 
here&lt;/a&gt;.
&lt;/p&gt;
&lt;h2&gt;Abstract&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.carsonfarmer.com/static/images/global-oceans.png"&gt;&lt;img alt="image1" class="right" src="http://www.carsonfarmer.com/static/images/global-oceans-400x265.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The World’s oceans are a frontline for sustainability, given the expansion of 
human activity in coasts and seas, changes brought about by human forcing 
factors, and changes in the global ocean-atmosphere system.  Making an 
assessment of the extent and significance of change is a challenge for science, 
given the relative paucity of data and the multiple variables involved.  This 
paper reports on a study to empirically tests notions of &amp;#8216;industrialisation&amp;#8217; and 
&amp;#8216;colonisation&amp;#8217; in the oceans for the first time. The approach draws on a key 
global spatial dataset developed by Halpern et al (2008). The methods include 
the combined use of Raster and R to overcome methodological challenges in 
analysing large spatial datasets which map the footprint of human activity in 
the world&amp;#8217;s oceans. The findings show that human activity in the oceans has 
increased by multiple factors in the most recent long term wave of economic 
development and show distinct spatial patterns of development.  Further 
refinement of this assessment is required and is likely to be driven by a 
recently established &lt;span class="caps"&gt;UN&lt;/span&gt; Global Assessment of the State of the Marine&amp;nbsp;Environment.&lt;/p&gt;
&lt;h2&gt;Speaker&amp;nbsp;bio&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.st-andrews.ac.uk/gsd/people/tas21/"&gt;&lt;img alt="image2" class="left" src="http://www.carsonfarmer.com/static/images/stojanovic.jpg" title="Dr. Tim Stojanovic, Lecturer in Geography &amp;amp; Sustainable Development, Department of Geography &amp;amp; Sustainable Development,  Scottish Oceans Institute, Sustainability Institute,  University of St Andrews, UK" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Dr. Tim Stojanovic is a Lecturer (i.e. Associate Professor) in Geography and 
Sustainable Development at the University of St Andrews, &lt;span class="caps"&gt;UK&lt;/span&gt;. He has a PhD and 
BSc in Marine Geography from Cardiff University, &lt;span class="caps"&gt;UK&lt;/span&gt;.  Dr Stojanovic’s research 
interests relate to the sustainability of oceans and coasts, including work 
with interdisciplinary research teams in issues such as climate adaptation and 
ecosystem services, and social science research on effective&amp;nbsp;governance.&lt;/p&gt;
&lt;p&gt;&lt;/br&gt;
&lt;/br&gt;&lt;/p&gt;
&lt;p&gt;If you would like to learn more about the talk, the venue, or Dr Stojanovic&amp;#8217;s 
work, please &lt;a href="http://www.carsonfarmer.com/contact/"&gt;contact me&lt;/a&gt; for further&amp;nbsp;details.&lt;/p&gt;</summary><category term="Human Impacts"></category><category term="Policy"></category><category term="Research"></category><category term="Sustainability"></category><category term="Oceans"></category></entry><entry><title>Making the switch to Pelican</title><link href="http://www.carsonfarmer.com/2013/05/making-the-switch-to-pelican/" rel="alternate"></link><updated>2013-05-12T11:16:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2013-05-12:2013/05/making-the-switch-to-pelican/</id><summary type="html">&lt;p&gt;Welcome to the new and improved &lt;code&gt;carsonfarmer.com&lt;/code&gt;! If you are reading this, then
you are enjoying my new, responsive static website/blog. The new site is powered 
by &lt;a href="http://blog.getpelican.com/"&gt;Pelican&lt;/a&gt; &amp;#8212; a static website generator written in Python &amp;#8212; and is hosted 
on &lt;a href="https://github.com/"&gt;GitHub&lt;/a&gt; using &lt;a href="http://pages.github.com/"&gt;GitHub Pages&lt;/a&gt;. Most of the content on the 
site is written in Markdown, which makes it really easy to add headings, anchors, 
and all sorts of goodies to simplify writing blog posts and web-pages.
&lt;/p&gt;
&lt;p&gt;The move from WordPress to Pelican was relatively painless, though there were
some issues with comments and converting (some) existing posts to Markdown. I
also took the opportunity to update the site, change the page structure a bit
and try out a few things like adding icons (&lt;a href="http://fortawesome.github.io/Font-Awesome/"&gt;FontAwesome&lt;/a&gt;), using 
Twitter &lt;a href="http://twitter.github.io/bootstrap/"&gt;Bootstrap&lt;/a&gt; for some of the &lt;span class="caps"&gt;UI&lt;/span&gt;, and some other tweaks. To get 
me through the process, I took advantage of several blogs and sites dedicated to 
documenting the switch to&amp;nbsp;Pelican:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.getpelican.com/"&gt;Pelican documentation&lt;/a&gt; (which is&amp;nbsp;great)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://magically.us/2013-02-03/creating-a-pelican-powered-site-on-github-pages.html"&gt;Creating A Pelican-Powered Site on GitHub&amp;nbsp;Pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.macdrifter.com/2012/08/pelican-guide-moving-from-wordpress-and-initial-setup.html"&gt;Pelican Guide - Moving From WordPress and Initial&amp;nbsp;Setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.aclark.net/2012/09/21/yes-this-blog-is-now-powered-by-pelican/"&gt;Yes, this blog is now powered by&amp;nbsp;Pelican&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once I get things working, I&amp;#8217;ll also start to think about some of the 
&lt;a href="http://arunrocks.com/moving-blogs-to-pelican/"&gt;points here&lt;/a&gt;, to make things even &lt;em&gt;more&lt;/em&gt; responsive and&amp;nbsp;readable.&lt;/p&gt;
&lt;p&gt;&lt;span class="note right shadow"&gt;
One of the things that I did have trouble with was getting my &lt;code&gt;RSS&lt;/code&gt; feeds set 
up like it was in my WordPress site: &lt;code&gt;/?feed=rss2&lt;/code&gt;.
For now, I&amp;#8217;m just rerouting things to &lt;code&gt;/feeds/all.rss.xml&lt;/code&gt;, but search engines 
won&amp;#8217;t recognize this, and I&amp;#8217;m sure there is a better solution out there&amp;#8230; any 
thoughts?
&lt;/span&gt;
I am still missing some things that WordPress did quite nicely, including
comments (I&amp;#8217;m now relying on &lt;a href="http://disqus.com/"&gt;Disqus&lt;/a&gt; for comments), site search (I&amp;#8217;ve 
started using &lt;a href="http://tapirgo.com/"&gt;Tapir&lt;/a&gt; for this, and have implemented a cool search tool 
that I may turn into a Pelican plug-in if I find some time), and the plethora of 
plug-ins and themes available for WordPress sites. Having said that, it &lt;em&gt;is&lt;/em&gt; 
relatively easy to create new themes, and adding social networking components 
like a Twitter feed using standard html is pretty simple. 
&lt;/br&gt;&lt;/p&gt;</summary><category term="Announcement"></category><category term="Pelican"></category><category term="Blog"></category><category term="Update"></category></entry><entry><title>Paper published in Marine Policy</title><link href="http://www.carsonfarmer.com/2013/03/marine-policy-paper/" rel="alternate"></link><updated>2013-03-20T14:52:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2013-03-20:2013/03/marine-policy-paper/</id><summary type="html">&lt;p&gt;An article I worked on with &lt;a href="http://www.st-andrews.ac.uk/gsd/people/tas21/"&gt;Dr Tim Stojanovic&lt;/a&gt;, &amp;#8220;The development of
world oceans &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; coasts and concepts of sustainability&amp;#8221;, has recently been
&lt;a href="http://www.sciencedirect.com/science/article/pii/S0308597X13000481"&gt;published online&lt;/a&gt;, with the journal &lt;a href="http://www.sciencedirect.com/science/journal/0308597X"&gt;Marine Policy&lt;/a&gt;. The article
can be cited&amp;nbsp;as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Stojanovic T. &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Farmer &lt;span class="caps"&gt;C. J.&lt;/span&gt; Q., (2013) The development of world oceans &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt;
coasts and concepts of sustainability. &lt;em&gt;Marine Policy&lt;/em&gt; 42&amp;nbsp;157-165&lt;/p&gt;
&lt;/blockquote&gt;


&lt;p&gt;I am particularly excited about this article because it marks
a major shift from any previous work that I&amp;#8217;ve been involved with, and
is aimed directly at the world of policy - something I&amp;#8217;ve been thinking
about for a while now. Additionally, the &lt;a href="http://www.nceas.ucsb.edu/globalmarine"&gt;data that we used&lt;/a&gt; for this
paper provides enumerable avenues for further research and questions, so
hopefully this paper is the first in a series of collaborative works
with Dr. Stojanovic&amp;#8230; stay tuned for more to&amp;nbsp;come!&lt;/p&gt;
&lt;p&gt;If you would like a copy of the paper but do not have access to the
article online, please &lt;a href="http://www.carsonfarmer.com/contact/"&gt;contact me&lt;/a&gt; and I will forward you a &lt;span class="caps"&gt;PDF&lt;/span&gt;
version. The &lt;span class="caps"&gt;DOI&lt;/span&gt; for the paper is:
&lt;a href="http://dx.doi.org/10.1016/j.marpol.2013.02.005"&gt;http://dx.doi.org/10.1016/j.marpol.2013.02.005&lt;/a&gt;.&lt;/p&gt;</summary><category term="Global Dataset"></category><category term="Human Impacts"></category><category term="Marine Policy"></category><category term="Policy"></category><category term="Research"></category><category term="Sustainability"></category></entry><entry><title>Geocomputational landscapes and spaces</title><link href="http://www.carsonfarmer.com/2013/03/geocomp-special-session/" rel="alternate"></link><updated>2013-03-15T17:15:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2013-03-15:2013/03/geocomp-special-session/</id><summary type="html">&lt;p&gt;Special session titled &amp;#8220;Geocomputational landscapes and spaces&amp;#8221; at the
&lt;a href="http://www.ammcs2013.wlu.ca/"&gt;International Conference on Applied Mathematics, Modeling and
Computational Science&lt;/a&gt; (&lt;span class="caps"&gt;AMMCS&lt;/span&gt;-2013), to be held at &lt;a href="https://www.wlu.ca/"&gt;Wilfrid Laurier
University&lt;/a&gt;, August 26-30,&amp;nbsp;2013.&lt;/p&gt;
&lt;p&gt;The deadline for abstracts is &lt;strong&gt;April 15, 2013&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Description of the&amp;nbsp;session:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This session focuses on new applications and theoretical developments
in geocomputation. Increasingly, spatial analysis and modelling
requires advanced computational techniques (&lt;span class="caps"&gt;MCMC&lt;/span&gt;, &lt;span class="caps"&gt;INLA&lt;/span&gt;, GAs etc.) to
address problems related to land and resource management. This session
is devoted to current developments and advances in geocomputation for
understanding landscape patterns, processes, and building spatial
decision-support systems. For example, talks will explore
computational solutions to problems related to multi-objective
optimization of spatial configuration of land-uses, new computational
approaches to spatial model development and assessment and map
comparison analysis. We encourage submissions of additional
presentations related to geocomputation including spatial modelling,
genetic algorithm development, spatial databases, spatial
representation, visualization, and spatial analysis of &amp;#8216;Big&amp;nbsp;Data&amp;#8217;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Abstract &lt;a href="http://www.ammcs2013.wlu.ca/submit-abstract.html"&gt;submission is here&lt;/a&gt;, and be sure to note the &lt;strong&gt;special session&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Please share with colleagues and feel free to contact the organizers of
this session &lt;a href="mailto:crobertson@wlu.ca"&gt;Dr Colin Robertson&lt;/a&gt; and &lt;a href="mailto:sroberts@wlu.ca"&gt;Dr Steve Roberts&lt;/a&gt;.&lt;/p&gt;</summary><category term="Applied Mathematics"></category><category term="Computational Science"></category><category term="Conference"></category><category term="Geocomputation"></category><category term="Modeling"></category><category term="Special Session"></category><category term="Research"></category></entry><entry><title>Humans as systems</title><link href="http://www.carsonfarmer.com/2013/02/humans-as-systems/" rel="alternate"></link><updated>2013-02-14T03:38:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2013-02-14:2013/02/humans-as-systems/</id><summary type="html">&lt;p&gt;From &lt;a href="http://xkcd.com/1173/"&gt;xkcd&lt;/a&gt; comes another brilliant insight into the human&amp;nbsp;condition:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A human is a system for converting dust billions of years ago into
dust billions of years from now via a roundabout process which
involves checking email a&amp;nbsp;lot.&lt;/p&gt;
&lt;/blockquote&gt;


&lt;p&gt;And since it is Valentines&amp;nbsp;day&amp;#8230;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://xkcd.com/1016/" title="The worst resolution to the Valentine Prisoner's Dilemma when YOU decide not to give your partner a present but your PARTNER decides to testify against you in the armed robbery case."&gt;&lt;img alt="image" src="http://imgs.xkcd.com/comics/valentine_dilemma.png" /&gt;&lt;/a&gt;&lt;/p&gt;</summary><category term="Funny"></category><category term="xkcd"></category><category term="Quote"></category><category term="Comic"></category></entry><entry><title>Will it Python?</title><link href="http://www.carsonfarmer.com/2013/02/will-it-python/" rel="alternate"></link><updated>2013-02-12T22:31:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2013-02-12:2013/02/will-it-python/</id><summary type="html">&lt;p&gt;Over the past few weeks, I&amp;#8217;ve been following a really great blog by
&lt;a href="http://slendrmeans.wordpress.com/"&gt;Carl Vogel&lt;/a&gt;. This blog has an excellent (growing) collection of
Python examples based on porting code and examples from R to Python. In
general, it is useful for those &amp;#8220;interested in the Python data analysis
toolkit and its viability as an alternative to R&amp;#8221;. Carl draws on
examples from &lt;em&gt;&lt;a href="http://shop.oreilly.com/product/0636920018483.do"&gt;Machine Learning for Hackers&lt;/a&gt;&lt;/em&gt; by &lt;a href="http://www.drewconway.com/"&gt;Drew Conway&lt;/a&gt; and
&lt;a href="http://www.johnmyleswhite.com/"&gt;John Miles White&lt;/a&gt;, as well as &lt;a href="http://www.stat.columbia.edu/~gelman/"&gt;Gelman&lt;/a&gt; and &lt;a href="http://steinhardt.nyu.edu/faculty_bios/view/Jennifer_Hill"&gt;Hill’s&lt;/a&gt; &lt;em&gt;&lt;a href="http://www.stat.columbia.edu/~gelman/arm/"&gt;Data
Analysis Using Regression and Multilevel/Hierarchical Models&lt;/a&gt;&lt;/em&gt;.
&lt;/p&gt;
&lt;p&gt;From the&amp;nbsp;blog:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The objective [of this blog] isn’t to just make a key that translates
functions and methods in R into Python equivalents. Instead, the goal
is to reproduce the results and insights of the analysis in idiomatic
Python [&amp;#8230;] Sometimes there will be a direct translation from a line
of R to a line of Python; other times Python will suggest an
altogether different approach to the&amp;nbsp;problem.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;To make things even more useful for us, Carl has made the code,
examples, and &lt;a href="http://ipython.org/"&gt;IPython&lt;/a&gt; notebooks available in his &lt;a href="https://github.com/carljv/Will_it_Python"&gt;Github repo&lt;/a&gt;,
which makes it really easy to work through the examples. He&amp;#8217;s also open
to requests/suggestions, so if you have a good R resource you&amp;#8217;d like to
see ported to Python, maybe give him a&amp;nbsp;shout?&lt;/p&gt;
&lt;p&gt;As an extra bonus, I suggest you check out Blendtec&amp;#8217;s hilarious &lt;a href="http://www.willitblend.com/"&gt;&amp;#8220;Will
it blend?&amp;#8221;&lt;/a&gt; ad campaign, from which Carl derived his &amp;#8220;Will in Python&amp;#8221;
name and&amp;nbsp;logo&amp;#8230;&lt;/p&gt;
&lt;p&gt;Happy&amp;nbsp;coding!&lt;/p&gt;</summary><category term="Free open-source software (FOSS)"></category><category term="Helpful tips"></category><category term="How to"></category><category term="R"></category></entry><entry><title>Science, Canadian Style!</title><link href="http://www.carsonfarmer.com/2013/01/science-canadian-style/" rel="alternate"></link><updated>2013-01-20T21:55:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2013-01-20:2013/01/science-canadian-style/</id><summary type="html">&lt;p&gt;Recently, a &lt;a href="http://www.wlu.ca/homepage.php?grp_id=12616"&gt;colleague of mine&lt;/a&gt; from Wilfred Laurier University has
started a website with some colleagues called RinkWatch
(&lt;a href="http://rinkwatch.org/"&gt;http://rinkwatch.org/&lt;/a&gt;). The website is designed to track
climate-change by keeping tabs on local community ice rink(s). This
innovative use of &lt;a href="http://en.wikipedia.org/wiki/Citizen_science"&gt;Citizen Science&lt;/a&gt; is getting quite a bit of buzz up
in Canada, but the idea has implications for any country with a culture
of outdoor skating rinks. It is also a great way to get the public
involved in the climate debate, and science in general! RinkWatch
received a mention in the Canadian Association of Geographers&amp;#8217; Mailing
list, which I&amp;#8217;m posting here to help spread the good word. You can also
check out the &lt;a href="http://www.cbc.ca/hamilton/news/story/2013/01/18/hamilton-climate-change-rinks.html"&gt;full story and video here&lt;/a&gt;.&lt;/p&gt;


&lt;blockquote&gt;
&lt;p&gt;The site, created by a
group of geographers at Wilfred Laurier University, invites people to
register online and record the state of their homemade ice surfaces.
Researchers will use the data - when the flooding is done, how many
weeks the ice is useable - to track the progression of climate change.
According to Robert McLeman, one of the project&amp;#8217;s creators, it&amp;#8217;s also a
chance to educate Canadians about the real-world implications of climate
change, an issue that can seem abstract when discussed on &lt;span class="caps"&gt;TV&lt;/span&gt; or in the
classroom. &amp;#8220;People appreciate the scale of the problem, but don&amp;#8217;t
understand personally how it fits in with their life,&amp;#8221; McLeman, an
associate professor of geography and environmental science, told &lt;span class="caps"&gt;CBC&lt;/span&gt;
Hamilton. &amp;#8220;We thought this sort of provides an opportunity to connect
people to environmental research literally through their own backyards.&amp;#8221;
He said the website, which has already registered 375 rinks across
Canada and the northern U.S., has spawned some unintended, but very
welcome uses. Participants, he said, are sharing ice-making tips with
each other, creating a richer, more interactive online community than
he&amp;#8217;d anticipated. &amp;#8220;People who are coming to it really just are&amp;nbsp;passionate.&amp;#8221;&lt;/p&gt;
&lt;/blockquote&gt;</summary><category term="Citizen Science"></category><category term="Climate Change"></category><category term="Research"></category><category term="RinkWatch"></category></entry><entry><title>Postdocs and Lectureships at St Andrews</title><link href="http://www.carsonfarmer.com/2012/11/postdocs-lectureships-st-andrews/" rel="alternate"></link><updated>2012-11-08T16:54:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-11-08:2012/11/postdocs-lectureships-st-andrews/</id><summary type="html">&lt;p&gt;The &lt;a href="http://www.st-andrews.ac.uk/geoinformatics"&gt;Centre for GeoInformatics (&lt;span class="caps"&gt;CGI&lt;/span&gt;)&lt;/a&gt; at the &lt;a href="http://www.st-andrews.ac.uk/"&gt;University of St
Andrews&lt;/a&gt; in Scotland has the following open&amp;nbsp;positions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://www.st-andrews.ac.uk/geoinformatics/jobs-and-studentship/lectureship-in-geoinformatics/"&gt;Lectureship in Geoinformatics&lt;/a&gt;, permanent position, application
   &lt;span class="caps"&gt;DL&lt;/span&gt; 21 Dec&amp;nbsp;2012&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.st-andrews.ac.uk/geoinformatics/jobs-and-studentship/research-fellow-in-geoinformatics/"&gt;Postdoctoral researcher in Geoinformatics&lt;/a&gt;, preferably Visual
   Analytics/Visualisation (three year fixed post, application &lt;span class="caps"&gt;DL&lt;/span&gt; 7 Dec&amp;nbsp;2012)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.st-andrews.ac.uk/geoinformatics/research-fellow-in-geoinformatics-2/"&gt;Postdoctoral researcher in Geoinformatics&lt;/a&gt; (two year fixed post,
   application &lt;span class="caps"&gt;DL&lt;/span&gt; 21 Dec&amp;nbsp;2012)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In addition, there are three lectureships open at the Department of
Geography &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Sustainable Development in which &lt;span class="caps"&gt;CGI&lt;/span&gt; is&amp;nbsp;located:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://www.st-andrews.ac.uk/geoinformatics/jobs-and-studentship/environmental-geography-lectureships/"&gt;Two lectureships&lt;/a&gt; in Environmental&amp;nbsp;Geography&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.st-andrews.ac.uk/geoinformatics/jobs-and-studentship/lecturer-in-human-geography/"&gt;Lectureship&lt;/a&gt; in Human&amp;nbsp;Geography&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I&amp;#8217;ve just recently moved on from the &lt;span class="caps"&gt;CGI&lt;/span&gt; and St Andrews and I
can tell you that it is a great place to work! The people are fun to
work with, there are plenty of opportunities for collaborations and
cross-disciplinary research, there are funding opportunities for
geoinformatics research in the &lt;span class="caps"&gt;UK&lt;/span&gt; and &lt;span class="caps"&gt;EU&lt;/span&gt; right now, and you simply can&amp;#8217;t
beat the setting - St Andrews is a beautiful coastal town on the East
Coast of Scotland. If you are interested in any of the above positions,
don&amp;#8217;t hesitate to contact the &lt;span class="caps"&gt;CGI&lt;/span&gt;. Additionally, the &lt;span class="caps"&gt;CGI&lt;/span&gt; would greatly
appreciate if you could please forward this message to any potential
candidates. You can find more information about the above positions,
plus other &lt;a href="http://www.st-andrews.ac.uk/geoinformatics/jobs-and-studentship/"&gt;exciting opportunities at &lt;span class="caps"&gt;CGI&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;</summary><category term="Employement"></category><category term="GeoInformatics"></category><category term="Lecturship"></category><category term="Postdoc"></category><category term="Research"></category><category term="Scotland"></category><category term="St Andrews"></category></entry><entry><title>PhD position in GeoInformatics and Housing research</title><link href="http://www.carsonfarmer.com/2012/10/phd-position-in-geoinformatics-and-housing-research/" rel="alternate"></link><updated>2012-10-25T14:37:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-10-25:2012/10/phd-position-in-geoinformatics-and-housing-research/</id><summary type="html">&lt;p&gt;The &lt;span class="caps"&gt;CGI&lt;/span&gt; is looking for a talented PhD student to fill an
interdiciplinary PhD Studentship co-funded by the Economic and Social
Research Council and &lt;span class="caps"&gt;HOME&lt;/span&gt; Housing Association. Suitable candidates
should apply by &lt;strong&gt;23 November 2012&lt;/strong&gt; for a start date of &lt;strong&gt;1 January
2013&lt;/strong&gt;. Have a look at the &lt;a href="http://www.st-andrews.ac.uk/geoinformatics/jobs-and-studentship/"&gt;&lt;span class="caps"&gt;CGI&lt;/span&gt; vacancies webpage&lt;/a&gt; for more details.
This is a great opportunity for students interested in using and
developing state-of-the-art methods in geoinformatics and applying them
to fundamental questions in the social housing&amp;nbsp;sector.&lt;/p&gt;</summary><category term="News"></category><category term="Announcement"></category><category term="PhD opportunity"></category></entry><entry><title>Carson moves to the Big Apple</title><link href="http://www.carsonfarmer.com/2012/10/carson-moves-to-the-big-apple/" rel="alternate"></link><updated>2012-10-16T15:05:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-10-16:2012/10/carson-moves-to-the-big-apple/</id><summary type="html">&lt;p&gt;&lt;a href="http://www.carsonfarmer.com/static/images/postcards.png"&gt;&lt;img alt="image" src="http://www.carsonfarmer.com/static/images/postcards-300x135.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I am very excited to announce that I will soon be moving to New York to
take up a faculty position in the &lt;a href="http://www.geo.hunter.cuny.edu/"&gt;Department of Geography&lt;/a&gt; at &lt;a href="http://www.hunter.cuny.edu/"&gt;Hunter
College&lt;/a&gt; of the &lt;a href="http://www.cuny.edu/"&gt;City University of New York&lt;/a&gt;. The plans have been
in motion for quite a while, and now that my wife and I have started to
pack up our stuff, I thought I&amp;#8217;d post something here to make it
&amp;#8216;official&amp;#8217;. I start full time in &lt;span class="caps"&gt;NY&lt;/span&gt; at the end of January, at which
point I will be diving head first into teaching and research. I am
really looking forward to engaging with the active &lt;span class="caps"&gt;NY&lt;/span&gt; open source
community, teaching a whole slew of new courses, interacting more
directly with students, and working with my new colleagues on all sorts
of cool research&amp;nbsp;projects.&lt;/p&gt;
&lt;p&gt;With that in mind, I will also be sad to leave &lt;a href="http://www.st-andrews.ac.uk/"&gt;St
Andrews&lt;/a&gt;. The past year working in the &lt;a href="http://www.st-andrews.ac.uk/gg/"&gt;School of Geography and
Geosciences&lt;/a&gt; has been a great experience; I&amp;#8217;ve learned a lot about the
inner workings of a research centre by helping to set up the &lt;a href="http://www.st-andrews.ac.uk/geoinformatics/"&gt;Centre for
GeoInformatics&lt;/a&gt; and I&amp;#8217;ve made a lot of great personal and professional
connections. Combined, the past four years in Ireland and the &lt;span class="caps"&gt;UK&lt;/span&gt; have
been very exciting, and I have had excellent opportunities to make
friends, build collaborative networks, hone my research skills, carve
out my own research niche, and develop a longer-term research program
that should keep me busy for years to&amp;nbsp;come!&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll try to continue posting the occasional blog post over the next few
months, and hopefully compile a decent record of my progression from
postdoc to professor (lecturer to my &lt;span class="caps"&gt;EU&lt;/span&gt; friends) along the way. In the
mean time, feel free to &lt;a href="http://www.carsonfarmer.com/contact/"&gt;get in touch&lt;/a&gt; with me if you are ever in the
&lt;span class="caps"&gt;NY&lt;/span&gt;&amp;nbsp;area!&lt;/p&gt;</summary><category term="Announcement"></category><category term="Moving"></category><category term="New York"></category><category term="Research"></category><category term="St Andrews"></category></entry><entry><title>manageR and rpy2 installation problems</title><link href="http://www.carsonfarmer.com/2012/10/manager-and-rpy2-installation-problems/" rel="alternate"></link><updated>2012-10-06T14:26:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-10-06:2012/10/manager-and-rpy2-installation-problems/</id><summary type="html">&lt;p&gt;Unfortunately, I haven&amp;#8217;t had much time recently to update or work on
&lt;code&gt;manageR&lt;/code&gt;, but I&amp;#8217;m hoping that will change in the next few months&amp;#8230;
Having said that, there are quite a few people out there that have been
having trouble installing &lt;code&gt;manageR&lt;/code&gt; (and the required &lt;code&gt;rpy2&lt;/code&gt;) on their
system to get things working at all! I have had some individuals provide
possible fixes and suggestions on how to get things working properly on
various platforms, and I&amp;#8217;m going to use this post to amalgamate them,
and hopefully create a one stop post for all your &lt;code&gt;rpy2&lt;/code&gt; and &lt;code&gt;manageR&lt;/code&gt;
needs. I&amp;#8217;m also hoping that people will post potential fixes in the
comments to help others with more specific problems?

For now, I have the following potential fix for &lt;code&gt;OSX&lt;/code&gt; (Lion 10.7.2 at&amp;nbsp;least):&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Update &lt;code&gt;R&lt;/code&gt; to latest version (&lt;a href="http://www.r-project.org/"&gt;binary from r-project.org&lt;/a&gt;);&lt;/li&gt;
&lt;li&gt;Reinstall &lt;code&gt;QGIS&lt;/code&gt; (&lt;a href="http://www.kyngchaos.com/software/qgis"&gt;Kyngchaos installer&lt;/a&gt;);&lt;/li&gt;
&lt;li&gt;Reinstall &lt;code&gt;GDAL_complete&lt;/code&gt; (&lt;a href="http://www.kyngchaos.com/software/frameworks"&gt;Kyngchaos again&lt;/a&gt;);&lt;/li&gt;
&lt;li&gt;Reinstall &lt;code&gt;rpy2&lt;/code&gt; (latter via &lt;a href="http://rpy.sourceforge.net/rpy2_download.html"&gt;pip&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Reboot&amp;#8230;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Apparently the (potential) problem is actually related to previous &lt;code&gt;R&lt;/code&gt;
builds, where symlinks were referring to the wrong location. This
potential fix is courtesy of &lt;a href="http://gis.stackexchange.com/questions/17169/is-it-possible-to-run-an-r-script-on-a-layer-in-qgis" title="Run an R Script on layer in QGIS"&gt;this Stackexchange&amp;nbsp;thread&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ok, so does anyone else have some suggestions to get things working on
Windows? Perhaps someone out there has a Windows build they&amp;#8217;d like to
share? As far as I know (i.e., it works for me), things are working fine
on Linux, but if someone else has a different experience, please share
in the&amp;nbsp;comments.&lt;/p&gt;</summary><category term="manageR"></category><category term="Python"></category><category term="QGIS"></category><category term="R spatial"></category><category term="rpy2"></category><category term="Spatial"></category><category term="Free open-source software (FOSS)"></category></entry><entry><title>cartogram updates</title><link href="http://www.carsonfarmer.com/2012/08/cartogram-updates/" rel="alternate"></link><updated>2012-08-10T14:07:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-08-10:2012/08/cartogram-updates/</id><summary type="html">&lt;p&gt;It seems my &lt;a href="http://www.carsonfarmer.com/examples/olympic_countries/"&gt;Olympic medals cartogram&lt;/a&gt; is getting a bit more attention
(&lt;a href="http://www.guardian.co.uk/sport/datablog/interactive/2012/aug/10/olympics-medals-visualised"&gt;Guardian data blog&lt;/a&gt;, and &lt;a href="http://www.telegraph.co.uk/sport/olympics/olympic_infographics_and_data/9467077/London-2012-Olympics-interactive-world-medal-map-by-population-GDP-and-geographical-size.html"&gt;Telegraph data and graphics blog&lt;/a&gt;), so
I&amp;#8217;ve updated a few things and wanted to highlight/explain them a bit&amp;nbsp;here.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.carsonfarmer.com/examples/olympic_countries/"&gt;&lt;img alt="image" src="http://www.carsonfarmer.com/static/images/grenada.png" title="Grenada" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Firstly, you can now explore the medal data together with
population &lt;strong&gt;and&lt;/strong&gt; &lt;span class="caps"&gt;GDP&lt;/span&gt; as well as without any warping to get a feel for
how much things change. Secondly, in order to be able to display the map
in a way that is familiar to most people (i.e., landscape style), I had
to take a few liberties in terms of representation. For instance, the
&amp;#8216;projection&amp;#8217; used is not area preserving (in fact, it is just the
geographical coordinates), so some countries appear larger (smaller)
than they should, even with the warping. We all make compromises though
right? Third, because I wasn&amp;#8217;t happy with adding artificial medal counts
to make my algorithm happy, I decided to create a more &amp;#8216;realistic&amp;#8217;
graphic, so this time around, countries with zero medals have zero area
(i.e. are removed). Related to this, because Grenada only has about
110,821 people, its &lt;a href="http://www.medalspercapita.com/"&gt;per capita medal ranking&lt;/a&gt; is off the charts (note
that I&amp;#8217;m not using the the &lt;a href="http://www.medalspercapita.com/"&gt;http://www.medalspercapita.com/&lt;/a&gt; figures for the graphic)! This, coupled with its tiny
size, means that my cartogram algorithm emphasises Grenada at the
expense of all the other countries, making the graphic pretty boring
unless you live in Grenada. As a result, I&amp;#8217;ve excluded all countries
with less than two medals in total (I know, I&amp;#8217;m sorry, but it had to be
done). Having said that, if you click to view the &amp;#8216;normal&amp;#8217; map, then all
countries are added back, and you get medal counts for all of&amp;nbsp;them.&lt;/p&gt;</summary><category term="Cartogram"></category><category term="Olympics"></category><category term="Update"></category><category term="Visualisation"></category><category term="Update"></category></entry><entry><title>Cross-browser iframe scaling</title><link href="http://www.carsonfarmer.com/2012/08/cross-browser-iframe-scaling/" rel="alternate"></link><updated>2012-08-06T18:18:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-08-06:2012/08/cross-browser-iframe-scaling/</id><summary type="html">&lt;p&gt;This is just a quick post to document an annoyance (and solution) that
I&amp;#8217;ve recently discovered when trying to scale a webpage embedded in
another page using an &lt;code&gt;iframe&lt;/code&gt;. When trying to come up with a nice way
to embed &lt;a href="examples/olympic_countries/"&gt;this page&lt;/a&gt; inside &lt;a href="http://www.st-andrews.ac.uk/geoinformatics/"&gt;this page&lt;/a&gt;, I found that webkit based
browsers were not behaving as they should. After a lot of fiddling
about, I discovered that the following &lt;code&gt;css&lt;/code&gt; seems to fix the&amp;nbsp;issues:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nf"&gt;#wrap&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;  
    &lt;span class="k"&gt;width&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;630px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;height&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;300px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;padding&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;overflow&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;hidden&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="nf"&gt;#frame&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;  
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;zoom&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;moz&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;moz&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0px&lt;/span&gt; &lt;span class="m"&gt;50px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0px&lt;/span&gt; &lt;span class="m"&gt;50px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;webkit&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;5&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;webkit&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;transform&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;origin&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="nf"&gt;#frame&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;width&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;1230px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;height&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="m"&gt;530px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;overflow&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;hidden&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note that if instead of &lt;code&gt;-ms-zoom&lt;/code&gt; you use &lt;code&gt;zoom&lt;/code&gt;, webkit browsers seem
to &amp;#8216;double scale&amp;#8217; everything, which turned out to be the root of my
problem. With the above tweaks, everything works fine (for now) using
the following &lt;code&gt;HTML&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;wrap&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;iframe&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;frame&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://www.website.com/&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Hopefully this post will save someone (or me in the future) some
frustration and time. The above fix was cobbled together based on
suggestions from &lt;a href="http://stackoverflow.com/questions/166160/how-can-i-scale-the-content-of-an-iframe"&gt;here&lt;/a&gt; (see answers from &lt;code&gt;Kip&lt;/code&gt;, &lt;code&gt;lxs&lt;/code&gt;, and &lt;code&gt;r3cgm&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Carson&lt;/p&gt;</summary><category term="CSS"></category><category term="HTML"></category><category term="iframe"></category><category term="scaling"></category></entry><entry><title>Olympic cartogram</title><link href="http://www.carsonfarmer.com/2012/08/olympic-cartogram/" rel="alternate"></link><updated>2012-08-02T12:18:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-08-02:2012/08/olympic-cartogram/</id><summary type="html">&lt;p&gt;The London 2012 Summer Olympics have generated quite a bit of buzz in
terms of visualisations and interesting data analysis. In fact, news
sites here in the &lt;span class="caps"&gt;UK&lt;/span&gt; are doing all sorts of cools things with Olympic
data, and &lt;a href="http://www.guardian.co.uk/"&gt;The Guardian&lt;/a&gt; has an &lt;a href="http://www.guardian.co.uk/sport/series/london-2012-olympics-data"&gt;entire series&lt;/a&gt; devoted to Olympic
data. A colleague of mine also pointed out a &lt;a href="http://www.telegraph.co.uk/sport/olympics/9436640/London-2012-Olympics-dynamic-world-medal-map.html"&gt;cool graphic&lt;/a&gt; on &lt;a href="http://www.telegraph.co.uk/"&gt;The
Telegraph&lt;/a&gt; website, which is essentially a live cartogram of Olympic
medal counts. The cartogram is basically a spatial bubble plot, with the
size of the bubbles representing the number of medals obtained by each
country. The location of each bubbled is based on the corresponding
country&amp;#8217;s approximate geographic location. The graphic is pretty
effective, and it certainly tells a clear&amp;nbsp;story.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;m a big fan of these types of abstract &lt;a href="http://www.unicef.org/sowc2012/urbanmap/"&gt;representations of space&lt;/a&gt;,
so I thought The Telegraph&amp;#8217;s graphic was pretty fun. Having said that,
I&amp;#8217;m always a sucker for a more &amp;#8216;traditional&amp;#8217; rubber-sheet cartogram,
which is generally less abstract than a bubble plot, but can sometimes
lead to &lt;a href="http://www.worldmapper.org/"&gt;dramatic results&lt;/a&gt;. Since I felt like the only person on the
internet without their own Olympics visualisation, I decided to throw
together a cartogram to visualise Olympic medal achievements. Drawing
inspiration from The Telegraph graphic, I created a rubber-sheet
cartogram based on an &lt;a href="http://lambert.nico.free.fr/tp/biblio/Dougeniketal1985.pdf"&gt;iterative warping method&lt;/a&gt;. The &amp;#8216;live&amp;#8217; version
of the cartogram is &lt;a href="examples/olympic_countries/"&gt;available here&lt;/a&gt; (or by clicking on the image
below). [&lt;span class="caps"&gt;UPDATE&lt;/span&gt;] If you&amp;#8217;d like to include the map on a web page, you can
now do that by including this in your &lt;span class="caps"&gt;HTML&lt;/span&gt;&amp;nbsp;source:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;iframe&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://www.carsonfarmer.com/examples/olympic_countries_map.html&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;width=&lt;/span&gt;&lt;span class="s"&gt;1230&lt;/span&gt; &lt;span class="na"&gt;height=&lt;/span&gt;&lt;span class="s"&gt;545\&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;




&lt;p&gt;&lt;a href="examples/olympic_countries/"&gt;&lt;img alt="image" src="http://www.carsonfarmer.com/static/images/olympic_carto.png" title="Olympic cartogram" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The cartgram is interactive, and was created using &lt;a href="http://www.python.org/"&gt;Python&lt;/a&gt;
(&lt;a href="http://pandas.pydata.org/"&gt;pandas&lt;/a&gt;, &lt;a href="https://github.com/esnme/ultrajson"&gt;ujson&lt;/a&gt;, and &lt;a href="http://toblerity.github.com/shapely/manual.html"&gt;shapely&lt;/a&gt;) and &lt;a href="http://d3js.org/"&gt;D3.js&lt;/a&gt;. If I get a
chance, I&amp;#8217;ll try to post the code at some stage. In the mean time, here
is a bit more info about the&amp;nbsp;graphic:&lt;/p&gt;
&lt;p&gt;The size of each country is based on the total number of medals that
they have achieved, weighted by the type of medal (gold, silver,
bronze). For example, a country with one gold medal should be
approximately the same size as a country with three bronze medals.
Because the algorithm attempts to maintain the topological relationships
between countries, this relationship might not be perfect, but the
general trend is clear: the &lt;span class="caps"&gt;US&lt;/span&gt; and China and cleaning up! [&lt;span class="caps"&gt;UPDATE&lt;/span&gt;] I&amp;#8217;ve
also added relative per capita medal counts and counts by &lt;span class="caps"&gt;GDP&lt;/span&gt;, which
shrinks China down significantly&amp;#8230; now who&amp;#8217;s winning&amp;nbsp;&amp;#8216;big&amp;#8217;?!&lt;/p&gt;
&lt;p&gt;I don&amp;#8217;t have full access to the server that this website is running on,
&lt;strike&gt;so I couldn&amp;#8217;t get things set up with regular updates,&lt;/strike&gt; however, the
entire process is now automated, so &lt;strike&gt;I&amp;#8217;ll try to have the code run at
fairly regular intervals so that the results are relatively up-to-date&lt;/strike&gt;
I now have the maps updating every hour. In any case, have a play around
and let me know what you think, and if you know of any other cool
Olympics graphics or cool applications of cartograms, please let me know
in the&amp;nbsp;comments!&lt;/p&gt;</summary><category term="Cartogram"></category><category term="Olympics"></category><category term="Visualisation"></category></entry><entry><title>Paper published in Environmental Monitoring and Assessment</title><link href="http://www.carsonfarmer.com/2012/07/paper-published-in-environmental-monitoring-and-assessment/" rel="alternate"></link><updated>2012-07-30T18:02:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-07-30:2012/07/paper-published-in-environmental-monitoring-and-assessment/</id><summary type="html">&lt;p&gt;An article I worked on with Margaret E. Andrew, Trisalyn A. Nelson,
Michael A. Wulder, George W. Hobart, and Nicholas C. Coops, &amp;#8220;Ecosystem
classifications based on summer and winter conditions&amp;#8221;, has recently
been &lt;a href="http://www.springerlink.com/content/q9gnq10vp35m34r2/?MUD=MP"&gt;published on-line&lt;/a&gt;, with &lt;a href="http://www.springerlink.com/content/0167-6369/"&gt;Environmental Monitoring and
Assessment&lt;/a&gt;. For now, the article can be cited&amp;nbsp;as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Andrew, M. E., &lt;span class="caps"&gt;T. A.&lt;/span&gt; Nelson, &lt;span class="caps"&gt;M. A.&lt;/span&gt; Wulder, &lt;span class="caps"&gt;G. W.&lt;/span&gt; Hobart, &lt;span class="caps"&gt;N. C.&lt;/span&gt; Coops,
and &lt;span class="caps"&gt;C. J. Q.&lt;/span&gt; Farmer (in press). Ecosystem classifications based on
summer and winter conditions. Environmental Monitoring and Assessment.&amp;nbsp;doi:10.1007/s10661-012-2773-z&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you would like a copy, but do not have access to the article, please
email me and I can forward you a &lt;span class="caps"&gt;PDF&lt;/span&gt;&amp;nbsp;version.&lt;/p&gt;</summary><category term="News"></category><category term="Research"></category></entry><entry><title>Visualisation featured on wired.co.uk</title><link href="http://www.carsonfarmer.com/2012/05/visualisation-featured-in-wired-magazine/" rel="alternate"></link><updated>2012-05-29T00:01:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-05-29:2012/05/visualisation-featured-in-wired-magazine/</id><summary type="html">&lt;p&gt;A few weeks back the &lt;a href="http://www.st-andrews.ac.uk/geoinformatics/"&gt;&lt;span class="caps"&gt;CGI&lt;/span&gt;&lt;/a&gt; and I were approached by &lt;a href="http://nacenta.com/about/"&gt;Miguel Nacenta&lt;/a&gt;
from &lt;a href="http://sachi.cs.st-andrews.ac.uk/"&gt;&lt;span class="caps"&gt;SACHI&lt;/span&gt;&lt;/a&gt; about putting together an infographic for an article on
&lt;a href="http://fatfonts.org/"&gt;FatFonts&lt;/a&gt; (also see my &lt;a href="http://www.carsonfarmer.com/2012/05/visualising-data-with-fatfonts/"&gt;previous article&lt;/a&gt;) to be featured on the
&lt;a href="http://www.wired.co.uk/"&gt;Wired (&lt;span class="caps"&gt;UK&lt;/span&gt;) magazine&lt;/a&gt; website. Since Wired is one of my favourite
magazines, I jumped at the chance! Using data that &lt;a href="http://www.st-andrews.ac.uk/gsd/people/tas21/"&gt;Dr Timothy
Stojanovic&lt;/a&gt; and I are working with as part of Tim’s work linking
off-shore cumulative human impacts to on-shore terrestrial urbanization,
I put together several infographics depicting human impacts on the
oceans surrounding Edinburgh and London. One of these graphics was
selected for the article, which is now &lt;a href="http://www.wired.co.uk/news/archive/2012-05/25/fatfonts"&gt;available online&lt;/a&gt;. So go check
out the article, and click on &amp;#8220;View Gallery&amp;#8221; to check out my
infographic, along with several cool images from &lt;a href="http://nacenta.com/about/" title="About Miguel"&gt;Miguel Nacenta&lt;/a&gt;,
&lt;a href="http://www.utahinrichs.de/" title="FatFonts: Uta Hinrichs"&gt;Uta Hinrichs&lt;/a&gt;, and &lt;a href="http://pages.cpsc.ucalgary.ca/~sheelagh/wiki/pmwiki.php" title="Sheelagh's home page"&gt;Sheelagh Carpendale&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;The infographic in the article doesn&amp;#8217;t have a title or legend per se, so
I&amp;#8217;m going to create an amended version soon with an explanation of what
the values represent, and a bit of context to the data and what we are
hoping to show with it. So stayed tuned for&amp;nbsp;updates!&lt;/p&gt;</summary><category term="FatFonts"></category><category term="Infographic"></category><category term="Visualisation"></category><category term="Wired"></category></entry><entry><title>Presentation at CAG 2012 in Waterloo</title><link href="http://www.carsonfarmer.com/2012/05/presentation-at-cag-2012-in-waterloo/" rel="alternate"></link><updated>2012-05-28T17:23:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-05-28:2012/05/presentation-at-cag-2012-in-waterloo/</id><summary type="html">&lt;p&gt;I am giving a talk and chairing a session at the &lt;a href="http://www.cag2012.org/"&gt;Canadian Association
of Geographers (&lt;span class="caps"&gt;CAG&lt;/span&gt;) Annual Meeting&lt;/a&gt; this week in Waterloo, Ontario,
Canada. My session, entitled &amp;#8220;Spatial Modelling&amp;#8221;, is &lt;a href="http://www.cag2012.org/program.html"&gt;scheduled&lt;/a&gt; for
Thursday at 08:30, and is supported by the &lt;span class="caps"&gt;CAG&lt;/span&gt; &lt;span class="caps"&gt;GIS&lt;/span&gt; Study Group. If you
are in the neighbourhood, check out the session, and stick around for my
talk: &amp;#8220;Spatial interaction modelling of commuting flows within local
labour markets&amp;#8221;, which is also &lt;a href="/presentations/cag_2012/"&gt;available online&lt;/a&gt; (best viewed at 90%
on full&amp;nbsp;screen).&lt;/p&gt;
&lt;p&gt;Hope I see you&amp;nbsp;there!&lt;/p&gt;</summary><category term="News"></category><category term="Research"></category><category term="Presentation"></category></entry><entry><title>Visualising data with FatFonts</title><link href="http://www.carsonfarmer.com/2012/05/visualising-data-with-fatfonts/" rel="alternate"></link><updated>2012-05-26T20:30:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-05-26:2012/05/visualising-data-with-fatfonts/</id><summary type="html">&lt;p&gt;I recently posted an &lt;a href="http://www.st-andrews.ac.uk/geoinformatics/visualising-with-fatfonts/"&gt;article on the &lt;span class="caps"&gt;CGI&lt;/span&gt; blog&lt;/a&gt; about some
visualisations that I produced with researchers from [St Andrews&amp;#8217;
Computer Human Interaction Research Group (&lt;span class="caps"&gt;SACHI&lt;/span&gt;)][] using &lt;a href="http://fatfonts.org/"&gt;FatFonts&lt;/a&gt;,
a tpographic visualisation technique developed by &lt;span class="caps"&gt;SACHI&lt;/span&gt; co-founder
&lt;a href="http://nacenta.com/about/"&gt;Miguel Nacenta&lt;/a&gt; and colleagues (&lt;a href="http://www.utahinrichs.de/"&gt;Uta Hinrichs&lt;/a&gt;, and &lt;a href="http://pages.cpsc.ucalgary.ca/~sheelagh/wiki/pmwiki.php"&gt;Sheelagh
Carpendale&lt;/a&gt;).
The initial visualisations are now on-line, and feature flow matrices for 
&lt;a href="http://www.st-andrews.ac.uk/geoinformatics/examples/fatfonts/uk-migration/"&gt;English internal migration&lt;/a&gt; and &lt;a href="http://www.st-andrews.ac.uk/geoinformatics/examples/fatfonts/irish-commuting/"&gt;commuting between Irish local labour markets&lt;/a&gt;. We
have also produced several inforgraphics based on global oceans data
that &lt;a href="http://www.st-andrews.ac.uk/gsd/people/tas21/"&gt;Dr Timothy Stojanovic&lt;/a&gt; and I are working with as part of
Tim&amp;#8217;s work linking off-shore cumulative human impacts to
on-shore terrestrial urbanization (more on these graphics soon). I&amp;#8217;m
still experimenting with FatFonts at this stage, but so far, I&amp;#8217;m quite
pleased with the results, and find that they offer a nice way to add
beauty to my potentially boring data!
&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.carsonfarmer.com/static/images/fat_fonts.png"&gt;&lt;img alt="image" src="http://www.carsonfarmer.com/static/images/fat_fonts-300x122.png" title="Subset of FatFont image" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Carson&lt;/p&gt;</summary><category term="Research"></category><category term="FatFonts"></category><category term="News"></category><category term="Feature"></category></entry><entry><title>Introducing the Centre for GeoInformatics</title><link href="http://www.carsonfarmer.com/2012/05/introducing-the-centre-for-geoinformatics/" rel="alternate"></link><updated>2012-05-24T09:58:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-05-24:2012/05/introducing-the-centre-for-geoinformatics/</id><summary type="html">&lt;p&gt;&lt;a href="http://www.carsonfarmer.com/static/images/cgi_logo_full.png"&gt;&lt;img alt="image" src="http://www.carsonfarmer.com/static/images/cgi_logo_full-300x78.png" title="cgi_logo_full" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The new Centre for GeoInformatics (&lt;span class="caps"&gt;CGI&lt;/span&gt;) within the &lt;a href="http://www.st-andrews.ac.uk/gg/"&gt;School of Geography
and Geosciences&lt;/a&gt; and the &lt;a href="http://www.st-andrews.ac.uk/gsd/"&gt;Department of Geography and Sustainable
Development&lt;/a&gt; is now an official university &lt;a href="http://www.st-andrews.ac.uk/gsd/research/centres/#cgi"&gt;Research Centre&lt;/a&gt; at the
&lt;a href="http://www.st-andrews.ac.uk/"&gt;University of St Andrews&lt;/a&gt; in Scotland! A few months ago, I started my
new job as &lt;a href="http://www.st-andrews.ac.uk/gsd/people/cjqf/"&gt;Research Fellow&lt;/a&gt; with &lt;span class="caps"&gt;CGI&lt;/span&gt;, where I am continuing to work
with &lt;a href="http://www.st-andrews.ac.uk/gsd/people/asf7/"&gt;Prof. A. Stewart Fotheringham&lt;/a&gt;, who is the director of the new
centre, along with several new and continuing &lt;a href="http://www.st-andrews.ac.uk/geoinformatics/people/students/"&gt;PhD students&lt;/a&gt; and
&lt;a href="http://www.st-andrews.ac.uk/geoinformatics/people/faculty/"&gt;faculty members&lt;/a&gt;. Now that we have the centre officially up and
running, we are quickly getting ready for our &lt;a href="http://www.st-andrews.ac.uk/geoinformatics/featured-item/"&gt;official launch&lt;/a&gt; next
month, as well as the launch of &lt;a href="http://www.st-andrews.ac.uk/geoinformatics/"&gt;our website&lt;/a&gt; (which is still &amp;#8216;in
development&amp;#8217;). If you are interested in any aspect of GeoInformatics,
GIScience, Geocomputation, or spatial analysis, I strongly recommend you
check out our website to get a feel for what we are working on. We will
also be featuring a &lt;a href="http://www.st-andrews.ac.uk/geoinformatics/blog/"&gt;research blog&lt;/a&gt;, where we will post code, ideas,
thoughts, and results from our various research endeavours. Check it
out, and let us know what you&amp;nbsp;think!&lt;/p&gt;</summary><category term="Announcement"></category><category term="Centre for GeoInformatics"></category><category term="Research"></category></entry><entry><title>Paper published in International Journal of Applied Earth Observation and Geoinformation</title><link href="http://www.carsonfarmer.com/2012/04/paper-in-int-journal-applied-earth-observation-geoinformation/" rel="alternate"></link><updated>2012-04-13T15:48:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-04-13:2012/04/paper-in-int-journal-applied-earth-observation-geoinformation/</id><summary type="html">&lt;p&gt;An article I worked on with &lt;a href="http://www2.le.ac.uk/departments/geography/people/ajc36"&gt;Lex Comber&lt;/a&gt; and &lt;a href="http://www.liv.ac.uk/geography/staff/brunsdon.htm"&gt;Chris Brunsdon&lt;/a&gt;,
&amp;#8220;Community detection in spatial networks: Inferring land use from a
planar graph of land cover objects&amp;#8221;, has recently been &lt;a href="http://www.sciencedirect.com/science/article/pii/S0303243412000220"&gt;published
on-line&lt;/a&gt;, with the &lt;a href="http://www.journals.elsevier.com/international-journal-of-applied-earth-observation-and-geoinformation/"&gt;International Journal of Applied Earth Observation
and Geoinformation&lt;/a&gt;. The article can be cited&amp;nbsp;as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Comber, A. J., Brunsdon, C. F., and Farmer, &lt;span class="caps"&gt;C. J. Q.&lt;/span&gt;(2012) Community
detection in spatial networks: Inferring land use from a planar graph
of land cover objects. &lt;em&gt;International Journal of Applied Earth
Observation and Geoinformation&lt;/em&gt;, 18:&amp;nbsp;274–282&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you would like a copy, but do not have access to the article, please
email me and I can forward you a &lt;span class="caps"&gt;PDF&lt;/span&gt;&amp;nbsp;version.&lt;/p&gt;</summary><category term="Community structure"></category><category term="Journal article"></category><category term="Land cover"></category><category term="Land use"></category><category term="Remote sensing"></category><category term="Announcement"></category></entry><entry><title>Research dissemination and interactive visuals</title><link href="http://www.carsonfarmer.com/2012/04/research-dissemination-and-interactive-visuals/" rel="alternate"></link><updated>2012-04-10T22:12:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-04-10:2012/04/research-dissemination-and-interactive-visuals/</id><summary type="html">&lt;p&gt;One of my goals for this year is to spend more time and effort
developing effective visualisations for my various research projects, in
an effort to make my research more accessible to others. This is one
thing that I think many academics are particularly bad at: letting
others know what they are up to, and why it might be something worth
looking at. In order to avoid this pitfall, I plan to focus on producing
interactive, web-based visuals suitable for a more general audience &lt;em&gt;in
addition&lt;/em&gt; to more traditional forms of research dissemination such as
journals and conference papers. It is my hope that by doing this, I will
be making my research more readily available to those who might actually
be able to use it, and maybe even create some compelling visualisations
in the process. While I&amp;#8217;m not quite ready to start creating full-blown
interactive websites yet, I thought it might be a good idea to start
with something small to get the ball rolling; so I put together an
&lt;a href="/examples/visitors/"&gt;upgraded version&lt;/a&gt; of my &lt;a href="http://www.carsonfarmer.com/2012/03/because-its-fun-to-map-stuff/"&gt;previous map&lt;/a&gt; of visitors to www.carsonfarmer.com.
&lt;/p&gt;
&lt;p&gt;I used the excellent &lt;a href="http://mbostock.github.com/d3/"&gt;D3 JavaScript library&lt;/a&gt; to re-create the visitor
map, this time providing some basic interaction with the data. Most of
the functionality is based on &lt;a href="http://mbostock.github.com/d3/ex/"&gt;examples&lt;/a&gt; from the D3 website, and at
this point, the map is really more of a learning tool than anything. As
in my previous static map, the &lt;span class="caps"&gt;IP&lt;/span&gt; addresses were geocoded using the
&lt;a href="http://www.datasciencetoolkit.org/"&gt;Data Science Toolkit &lt;span class="caps"&gt;API&lt;/span&gt;&lt;/a&gt; via the &lt;a href="https://github.com/rtelmore/RDSTK"&gt;&lt;span class="caps"&gt;RDSTK&lt;/span&gt; R package&lt;/a&gt;, and all data
processing and manipulation was done using R. Additionally, the colour
scheme functionality comes from &lt;a href="http://mbostock.github.com/d3/talk/20111018/#25"&gt;slide 25&lt;/a&gt; of &lt;a href="http://mbostock.github.com/d3/talk/20111018/#0"&gt;this presentation&lt;/a&gt;,
and uses the sequential colour palettes from &lt;a href="http://colorbrewer2.org/"&gt;colorbrewer.org&lt;/a&gt;. There
are still a few kinks to work out (like how to get the &lt;code&gt;onmouseout&lt;/code&gt; event
to work properly in Internet Explorer), and tonnes of additional
features and functions could be added, so comments and suggestions are
welcome. Having said that, I think the new version looks quite nice, and
will likely form the basis for more complex visuals as I become more
familiar with Javascipt and various other web-development&amp;nbsp;tools.&lt;/p&gt;</summary><category term="D3"></category><category term="Interactive"></category><category term="Javascript"></category><category term="Online Maps"></category><category term="Visualisation"></category><category term="Free open-source software (FOSS)"></category><category term="Opinion"></category></entry><entry><title>Because its fun to map stuff…</title><link href="http://www.carsonfarmer.com/2012/03/because-its-fun-to-map-stuff/" rel="alternate"></link><updated>2012-03-30T17:46:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2012-03-30:2012/03/because-its-fun-to-map-stuff/</id><summary type="html">&lt;p&gt;Its been quite a while since my last post, and its Friday and I was
feeling creative, so I decided to map something! I&amp;#8217;ve been looking for
an excuse to produce a nice graphic like the one &lt;a href="http://underdark.wordpress.com/about/"&gt;Anita Graser&lt;/a&gt;
created to represent Vienna’s green-spaces. She used &lt;a href="http://qgis.org/"&gt;Quantum
&lt;span class="caps"&gt;GIS&lt;/span&gt;&lt;/a&gt; to produce a &lt;a href="http://underdark.wordpress.com/2012/03/04/mapping-density-with-hexagonal-grids/"&gt;hexagonal grid&lt;/a&gt; for representing the density of
Viennese trees instead of the standard heat map or kernel density map,
and the results are quite nice! I&amp;#8217;m a huge fan of &lt;span class="caps"&gt;QGIS&lt;/span&gt;, but I tend to do
most of my work in R, so I decided to see if I could produce something
similar using R. Turns out you can, and the final results are displayed
below (read on to see the full work-flow). Instead of trees, I went
ahead and mapped the locations of unique visitors to
&lt;code&gt;http://www.carsonfarmer.com/&lt;/code&gt; between 2009 and&amp;nbsp;2011:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.carsonfarmer.com/static/images/website_visitors.svg"&gt;&lt;img alt="Visitors map" src="http://www.carsonfarmer.com/static/images/website_visitors.svg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Work-flow&lt;/h3&gt;
&lt;p&gt;Firstly, I downloaded the logs for &lt;code&gt;www.carsonfarmer.com&lt;/code&gt;. I did this
directly from the console, though I&amp;#8217;m pretty sure I could have done this
from R as well. Next, I needed to extract the unique &lt;span class="caps"&gt;IP&lt;/span&gt; addresses from
the logs. I found this nice grep one-liner from &lt;a href="http://blogs.law.harvard.edu/djcp/2009/04/how-to-extract-uniq-ips-from-apache-via-grep-cut-and-uniq/"&gt;here&lt;/a&gt;, which I
modified to grab all unique &lt;span class="caps"&gt;IP&lt;/span&gt; addresses that &amp;#8216;&lt;span class="caps"&gt;GET&lt;/span&gt;&amp;#8217; something from the&amp;nbsp;site:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;grep &lt;span class="s1"&gt;&amp;#39;&lt;span class="caps"&gt;GET&lt;/span&gt;&amp;#39;&lt;/span&gt; access.log | cut -d&lt;span class="s1"&gt;&amp;#39; &amp;#39;&lt;/span&gt; -f1 | sort | uniq &amp;gt; ip_addresses.log
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To actually map the &lt;span class="caps"&gt;IP&lt;/span&gt; addresses, I obviously needed some way to convert
the raw &lt;span class="caps"&gt;IP&lt;/span&gt; addresses to latitude and longitude coordinates. Enter the
very nice &lt;a href="http://www.datasciencetoolkit.org/"&gt;Data Science Toolkit (&lt;span class="caps"&gt;DSTK&lt;/span&gt;)&lt;/a&gt; from Pete Warden and the very
handy &lt;a href="https://github.com/rtelmore/RDSTK"&gt;&lt;span class="caps"&gt;RDSTK&lt;/span&gt; R package&lt;/a&gt; from Ryan Elmore! Basically, the &lt;span class="caps"&gt;DSTK&lt;/span&gt; has an
&lt;span class="caps"&gt;API&lt;/span&gt; that can be queried for all sorts of information useful for &amp;#8216;data
science&amp;#8217; applications, and the &lt;span class="caps"&gt;RDSTK&lt;/span&gt; makes it possible to query to &lt;span class="caps"&gt;API&lt;/span&gt;
directly from within R. I first heard about both these projects from the
&lt;a href="http://blog.revolutionanalytics.com"&gt;Revolution Analytics blog&lt;/a&gt;, where there is an &lt;a href="http://blog.revolutionanalytics.com/2011/05/mapping-locations-in-r-with-the-data-science-toolkit.html"&gt;article&lt;/a&gt; summarising
Ryan Elmore&amp;#8217;s &lt;a href="http://thelogcabin.wordpress.com/2011/05/02/r-and-the-data-science-toolkit/"&gt;work on &lt;span class="caps"&gt;RDSTK&lt;/span&gt;&lt;/a&gt;, and a few other handy links. &lt;span class="caps"&gt;RDSTK&lt;/span&gt;
isn&amp;#8217;t (yet?) available on &lt;a href="http://cran.r-project.org/"&gt;&lt;span class="caps"&gt;CRAN&lt;/span&gt;&lt;/a&gt;, so I downloaded it directly from&amp;nbsp;github:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;wget https://github.com/rtelmore/RDSTK/raw/master/src/RDSTK_1.0.tar.gz
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then I installed it via &lt;code&gt;R CMD INSTALL&lt;/code&gt; (note that it requires other R
packages: &lt;code&gt;RCurl&lt;/code&gt;, &lt;code&gt;rjson&lt;/code&gt;, and &lt;code&gt;plyr&lt;/code&gt;):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;R CMD INSTALL RDSTK_1.0.tar.gz
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once I had all that stuff installed and ready to go, I actually started
up an R session and got&amp;nbsp;working:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;addresses &lt;span class="o"&gt;=&lt;/span&gt; read.table&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;ip_addresses.log&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; col.names&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;address&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
library&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="caps"&gt;RDSTK&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;?&lt;/span&gt; ip2coordinates
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;code&gt;ip2coordinates&lt;/code&gt; function requires multiple IPs to be contained
within a single string with comma-separated &lt;span class="caps"&gt;IP&lt;/span&gt; addresses, but we can
only do a few IPs at a time (about 100 I think?) so I had to do this
part in a loop (it probably isn&amp;#8217;t polite to slam &lt;span class="caps"&gt;DSTK&lt;/span&gt; with 1,000s of
requests, so be&amp;nbsp;nice!).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;ips &lt;span class="o"&gt;=&lt;/span&gt; paste&lt;span class="p"&gt;(&lt;/span&gt;as.character&lt;span class="p"&gt;(&lt;/span&gt;addresses&lt;span class="o"&gt;$&lt;/span&gt;address&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;80&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt; collapse&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;, &amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
out &lt;span class="o"&gt;=&lt;/span&gt; ip2coordinates&lt;span class="p"&gt;(&lt;/span&gt;ips&lt;span class="p"&gt;)&lt;/span&gt;
last &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;80&lt;/span&gt;
s &lt;span class="o"&gt;=&lt;/span&gt; c&lt;span class="p"&gt;(&lt;/span&gt;seq&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;160&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; nrow&lt;span class="p"&gt;(&lt;/span&gt;addresses&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="m"&gt;80&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; nrow&lt;span class="p"&gt;(&lt;/span&gt;addresses&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="kr"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;i &lt;span class="kr"&gt;in&lt;/span&gt; s&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    ips &lt;span class="o"&gt;=&lt;/span&gt; paste&lt;span class="p"&gt;(&lt;/span&gt;as.character&lt;span class="p"&gt;(&lt;/span&gt;addresses&lt;span class="o"&gt;$&lt;/span&gt;address&lt;span class="p"&gt;[(&lt;/span&gt;last&lt;span class="m"&gt;+1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;i&lt;span class="p"&gt;]),&lt;/span&gt; collapse&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;, &amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    out &lt;span class="o"&gt;=&lt;/span&gt; rbind&lt;span class="p"&gt;(&lt;/span&gt;out&lt;span class="p"&gt;,&lt;/span&gt; ip2coordinates&lt;span class="p"&gt;(&lt;/span&gt;ips&lt;span class="p"&gt;))&lt;/span&gt;
    last &lt;span class="o"&gt;=&lt;/span&gt; i
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once that is done running, the next step(s) are to a) convert the
returned &lt;code&gt;data.frame&lt;/code&gt; to a &lt;code&gt;SpatialPointsDataFrame&lt;/code&gt;, b) create a
&lt;code&gt;SpatialGrid&lt;/code&gt; based on the points, c) create a &lt;code&gt;SpatialPolygons&lt;/code&gt; object
from a hexagonal sample of the grid, and then finally d) create a
&lt;code&gt;SpatialPolygonsDataFrame&lt;/code&gt; for&amp;nbsp;plotting:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;library&lt;span class="p"&gt;(&lt;/span&gt;sp&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# make the output into a Spatial* object&lt;/span&gt;
coordinates&lt;span class="p"&gt;(&lt;/span&gt;out&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;longitude&lt;span class="o"&gt;+&lt;/span&gt;latitude
library&lt;span class="p"&gt;(&lt;/span&gt;maptools&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# need this for the following function&lt;/span&gt;
sg &lt;span class="o"&gt;=&lt;/span&gt; Sobj_SpatialGrid&lt;span class="p"&gt;(&lt;/span&gt;out&lt;span class="p"&gt;,&lt;/span&gt; maxDim&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;200&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; n&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;&lt;span class="caps"&gt;NULL&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="caps"&gt;SG&lt;/span&gt;
hex_pts &lt;span class="o"&gt;=&lt;/span&gt; spsample&lt;span class="p"&gt;(&lt;/span&gt;sg&lt;span class="p"&gt;,&lt;/span&gt; type&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;hexagonal&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; cellsize&lt;span class="o"&gt;=&lt;/span&gt;sg&lt;span class="o"&gt;@&lt;/span&gt;grid&lt;span class="o"&gt;@&lt;/span&gt;cellsize&lt;span class="p"&gt;)&lt;/span&gt;
hex_poly &lt;span class="o"&gt;=&lt;/span&gt; HexPoints2SpatialPolygons&lt;span class="p"&gt;(&lt;/span&gt;hex_pts&lt;span class="p"&gt;)&lt;/span&gt;
pts_poly &lt;span class="o"&gt;=&lt;/span&gt; over&lt;span class="p"&gt;(&lt;/span&gt;hex_poly&lt;span class="p"&gt;,&lt;/span&gt; out&lt;span class="p"&gt;,&lt;/span&gt; returnList&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;&lt;span class="caps"&gt;TRUE&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
pts_poly_count &lt;span class="o"&gt;=&lt;/span&gt; sapply&lt;span class="p"&gt;(&lt;/span&gt;pts_poly&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kr"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="p"&gt;)&lt;/span&gt; nrow&lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="p"&gt;))&lt;/span&gt;
poly &lt;span class="o"&gt;=&lt;/span&gt; SpatialPolygonsDataFrame&lt;span class="p"&gt;(&lt;/span&gt;poly&lt;span class="p"&gt;,&lt;/span&gt; data.frame&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;count&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;pts_poly_count&lt;span class="p"&gt;),&lt;/span&gt; 
    match.&lt;span class="caps"&gt;ID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;&lt;span class="caps"&gt;FALSE&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ok, now for some&amp;nbsp;plotting!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;# pick some reasonable break points&lt;/span&gt;
breaks &lt;span class="o"&gt;=&lt;/span&gt; c&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;10.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;20.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;50.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;100.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;500.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;2000.0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# use RColorBrewer to get a nice blue palette&lt;/span&gt;
library&lt;span class="p"&gt;(&lt;/span&gt;RColorBrewer&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# don&amp;#39;t use the lightest colour, it looks washed out&lt;/span&gt;
cols &lt;span class="o"&gt;=&lt;/span&gt; brewer.pal&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Blues&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="m"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; 
&lt;span class="c1"&gt;# plot the grid, which produces something close to our final product&lt;/span&gt;
spplot&lt;span class="p"&gt;(&lt;/span&gt;poly&lt;span class="p"&gt;[&lt;/span&gt;poly&lt;span class="o"&gt;$&lt;/span&gt;count&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,],&lt;/span&gt; col&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;white&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; col.regions&lt;span class="o"&gt;=&lt;/span&gt;cols&lt;span class="p"&gt;,&lt;/span&gt; at&lt;span class="o"&gt;=&lt;/span&gt;breaks&lt;span class="p"&gt;,&lt;/span&gt; 
       par.settings&lt;span class="o"&gt;=&lt;/span&gt;list&lt;span class="p"&gt;(&lt;/span&gt;axis.line&lt;span class="o"&gt;=&lt;/span&gt;list&lt;span class="p"&gt;(&lt;/span&gt;col&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;transparent&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I then used &lt;a href="http://inkscape.org/"&gt;Inkscape&lt;/a&gt; to tweak the final product, adding titles and
labels and modifying the colour key to look like something a bit more
suited to the map at hand. In the end I had a nice map of my blog
readers, and an excellent way to procrastinate on a sunny Friday&amp;nbsp;afternoon!&lt;/p&gt;</summary><category term="Data Science Toolkit"></category><category term="Hexagonal Grid"></category><category term="IP Addreses"></category><category term="Mapping"></category><category term="R spatial"></category><category term="Free open-source software (FOSS)"></category><category term="How to"></category></entry><entry><title>Environment and Planning A paper published</title><link href="http://www.carsonfarmer.com/2011/12/environment-and-planning-a-paper-published/" rel="alternate"></link><updated>2011-12-01T13:52:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2011-12-01:2011/12/environment-and-planning-a-paper-published/</id><summary type="html">&lt;p&gt;My latest article, &amp;#8220;Network-based functional regions&amp;#8221;, has recently been
&lt;a href="http://www.envplan.com/abstract.cgi?id=a44136"&gt;published on-line&lt;/a&gt;, with &lt;a href="http://www.envplan.com/A.html"&gt;Environment and Planning A&lt;/a&gt;. The article
can be cited&amp;nbsp;as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Farmer C J Q, Stewart Fotheringham A, 2011, &amp;#8220;Network-based functional
regions&amp;#8221; &lt;em&gt;Environment and Planning A&lt;/em&gt; 43(11) 2723 –&amp;nbsp;2741&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you would like a copy, but do not have access to the article, please
email me and I can forward you a &lt;span class="caps"&gt;PDF&lt;/span&gt;&amp;nbsp;version.&lt;/p&gt;</summary><category term="Community structure"></category><category term="Commuting"></category><category term="Environment and Planning A"></category><category term="Functional regions"></category><category term="Journal article"></category><category term="Networks"></category><category term="Research"></category></entry><entry><title>It’s about time…</title><link href="http://www.carsonfarmer.com/2011/11/its-about-time/" rel="alternate"></link><updated>2011-11-09T12:16:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2011-11-09:2011/11/its-about-time/</id><summary type="html">&lt;p&gt;Well its been a long time since my last post, but I &lt;em&gt;do&lt;/em&gt; have a
relatively good reason: I was finishing up my PhD thesis. The good news
is that I&amp;#8217;m now done and graduated! I&amp;#8217;m hoping I&amp;#8217;ll have a bit more time
to blog and continue working on side-projects that I had to put on-hold
while finishing up. My plan for the next few months is to finish up here
in Maynooth, (unofficially) start some post-doc work, and finish/get
going on several papers on my PhD research. I&amp;#8217;m also going to try to
learn Bayesian statistics, fiddle about with some visualizations I&amp;#8217;ve
been working on, and start getting back into &lt;span class="caps"&gt;QGIS&lt;/span&gt; and Python development&amp;nbsp;again&lt;/p&gt;
&lt;p&gt;In the mean time, I&amp;#8217;ve put together a fun little visualization of my
PhD thesis in the form of a word-cloud.
&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.carsonfarmer.com/static/images/wordcloud.png"&gt;&lt;img alt="image" src="http://www.carsonfarmer.com/static/images/wordcloud-300x280.png" title="Thesis wordcloud" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This is actually a pretty rough version, and I suspect there are a few
issues with hyphenated words and things like that; but it does give a
pretty good impression of what my thesis is all about, so I&amp;#8217;ll leave it
at that for now. For those who might be interested (and for my own
reference), the &lt;code&gt;R&lt;/code&gt; code to generate this figure is here (requires the
&lt;code&gt;wordcloud&lt;/code&gt; and &lt;code&gt;tm&lt;/code&gt; packages):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;# read in all the lines as a character vector&lt;/span&gt;
lines &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; readLines&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;modified.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
head&lt;span class="p"&gt;(&lt;/span&gt;lines&lt;span class="p"&gt;)&lt;/span&gt;
library&lt;span class="p"&gt;(&lt;/span&gt;tm&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# text mining package&lt;/span&gt;
library&lt;span class="p"&gt;(&lt;/span&gt;wordcloud&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# create a corpus object&lt;/span&gt;
corpus &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; Corpus&lt;span class="p"&gt;(&lt;/span&gt;DataframeSource&lt;span class="p"&gt;(&lt;/span&gt;data.frame&lt;span class="p"&gt;(&lt;/span&gt;lines&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="c1"&gt;# now start processing the text and removing punctuation etc&lt;/span&gt;
corpus &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; tm_map&lt;span class="p"&gt;(&lt;/span&gt;corpus&lt;span class="p"&gt;,&lt;/span&gt; removePunctuation&lt;span class="p"&gt;)&lt;/span&gt;
corpus &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; tm_map&lt;span class="p"&gt;(&lt;/span&gt;corpus&lt;span class="p"&gt;,&lt;/span&gt; tolower&lt;span class="p"&gt;)&lt;/span&gt;
corpus &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; tm_map&lt;span class="p"&gt;(&lt;/span&gt;corpus&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kr"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="p"&gt;)&lt;/span&gt; removeWords&lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="p"&gt;,&lt;/span&gt; stopwords&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;english&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;span class="c1"&gt;# create a term document matrix (don&amp;#39;t really know what that is...)&lt;/span&gt;
tdm &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; TermDocumentMatrix&lt;span class="p"&gt;(&lt;/span&gt;corpus&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# convert to matrix&lt;/span&gt;
m &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; as.matrix&lt;span class="p"&gt;(&lt;/span&gt;tdm&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# count up re-occuring words&lt;/span&gt;
v &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; sort&lt;span class="p"&gt;(&lt;/span&gt;rowSums&lt;span class="p"&gt;(&lt;/span&gt;m&lt;span class="p"&gt;),&lt;/span&gt; decreasing&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;&lt;span class="caps"&gt;TRUE&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# create dataframe for word cloud&lt;/span&gt;
d &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class="p"&gt;(&lt;/span&gt;word &lt;span class="o"&gt;=&lt;/span&gt; names&lt;span class="p"&gt;(&lt;/span&gt;v&lt;span class="p"&gt;),&lt;/span&gt; freq&lt;span class="o"&gt;=&lt;/span&gt;v&lt;span class="p"&gt;)&lt;/span&gt;
png&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;wordcloud.png&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; width&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1280&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; height&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;800&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
wordcloud&lt;span class="p"&gt;(&lt;/span&gt;d&lt;span class="o"&gt;$&lt;/span&gt;word&lt;span class="p"&gt;,&lt;/span&gt;d&lt;span class="o"&gt;$&lt;/span&gt;freq&lt;span class="p"&gt;,&lt;/span&gt;c&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;.3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="kc"&gt;&lt;span class="caps"&gt;TRUE&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;.15&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; vfont&lt;span class="o"&gt;=&lt;/span&gt;c&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;sans serif&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;plain&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
dev.off&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I actually got this snippet from &lt;a href="http://onertipaday.blogspot.com/2011/07/word-cloud-in-r.html?utm_source=feedburner&amp;amp;utm_medium=feed&amp;amp;utm_campaign=Feed:+OneRTipADay+(One+R+Tip+A+Day)"&gt;One R Tip A Day&lt;/a&gt; via &lt;a href="http://www.r-bloggers.com/"&gt;R-bloggers&lt;/a&gt;.&lt;/p&gt;</summary><category term="Announcement"></category><category term="PhD"></category><category term="R"></category><category term="snippet"></category><category term="Update"></category><category term="Helpful tips"></category></entry><entry><title>Adding direct editing of geometry fields in QGIS</title><link href="http://www.carsonfarmer.com/2011/03/adding-direct-editing-of-geometry-fields-in-qgis/" rel="alternate"></link><updated>2011-03-12T18:43:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2011-03-12:2011/03/adding-direct-editing-of-geometry-fields-in-qgis/</id><summary type="html">&lt;p&gt;Being able to add/remove attributes isn&amp;#8217;t actually a very new feature
for &lt;span class="caps"&gt;QGIS&lt;/span&gt; at this point. However, to date non of the fTools functions
(Vector menu) have taken advantage of this capability. If a tool needed
to create a new field in the input vector layer, it simply wrote a new
version of the vector layer to disk with the additional fields added.
There have been several requests to allow some tools to add/update
attributes directly on the input layers, so I went ahead and created a
script to test this functionality out. I&amp;#8217;ve 
&lt;a href="|filname|/uploads/add_geometry_information.py"&gt;provided a copy here&lt;/a&gt; 
for anyone who would like to test it out before I add it to &lt;span class="caps"&gt;QGIS&lt;/span&gt;
permanently. Basically, the script will replace/update three of the
Vector menu tools, including &lt;code&gt;Analysis \&amp;gt; Sum line lengths&lt;/code&gt;, &lt;code&gt;Analysis
\&amp;gt; Points in polygon&lt;/code&gt;, and &lt;code&gt;Geometry tools \&amp;gt; Add/Export geometry
info&lt;/code&gt;.

Here are some examples of the script&amp;#8217;s usage from the &lt;span class="caps"&gt;QGIS&lt;/span&gt; Python&amp;nbsp;console:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Add geometry information (assumes that the target layer in first
layer in the&amp;nbsp;layer-list):&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;mc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qgis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iface&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mapCanvas&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;layer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;add_geometry_information&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;add_geometry_information&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;addGeometryInformation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vlayer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;Count the number of points or length of lines in each polygon of an
input polygon layer (assumes polygon layer is second, and point or line
layer is the first in&amp;nbsp;layer-list):&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;polygonLayer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt; &lt;span class="n"&gt;Layer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;add_geometry_information&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;countFeaturesInPolygon&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;polygonLayer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;inputLayer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note that to import the module properly (and easily), make sure it is
somewhere that PyQGIS can find it, such as &lt;code&gt;\~/.qgis/python&lt;/code&gt;. If the layer
is in editing mode, then udpates can be undone, otherwise, updates are
written automatically to the provider. The &lt;code&gt;countFeaturesInPolygon()&lt;/code&gt;
function automatically recognizes if an input layer is a point or line
layer, and computes the correct information accordingly (outputting a
count for points, and line lengths for lines). For both functions, the
last argument can be a boolean specifying whether to update selected
features only (&lt;code&gt;default=False&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;C&lt;/p&gt;</summary><category term="Geographic information science/systems (GIS)"></category><category term="Geometry"></category><category term="PyQGIS"></category><category term="Python"></category><category term="QGIS"></category><category term="Free open-source software (FOSS)"></category></entry><entry><title>Because its Friday</title><link href="http://www.carsonfarmer.com/2010/11/because-its-friday/" rel="alternate"></link><updated>2010-11-06T01:00:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-11-06:2010/11/because-its-friday/</id><summary type="html">&lt;p&gt;My two favorite scientific programming languages are &lt;a href="http://www.python.org"&gt;Python&lt;/a&gt; and
&lt;a href="http://http://www.r-project.org/"&gt;R&lt;/a&gt;, each for their own specific strengths. I stick with R for most of
my serious stats stuff, but for everyday processing, analysis, and &lt;span class="caps"&gt;GUI&lt;/span&gt;
building, Python is my &lt;em&gt;modus operandi&lt;/em&gt;. Lately however, I&amp;#8217;ve been doing
more and more things in Python&amp;#8230; even the stats stuff. When doing
statistical analysis in Python, I usually use the excellent &lt;a href="http://rpy.sourceforge.net/rpy2.html"&gt;rpy2&lt;/a&gt;
library to communicate between Python and R. As a result, I have put
together quite a few little code snippets to work with R commands in
Python. Recently, I decided to put a bunch of these snippets together to
create what I&amp;#8217;ve called fakeR. Basically it is a simple Python script
that emulates a very basic (toy) R console. The fakeR console supports
multi-line commands and pretty much all regular R commands, but has no
history or any nice features like that. The cool and/or handy thing
about it is that it separates the input/output from the actual
processing via the very cool &lt;a href="http://docs.python.org/library/multiprocessing.html"&gt;multiprocessing&lt;/a&gt; Python package. Using
this package, it is possible to separate the input/output and processing
into two separate processes running in parallel, with communication back
and forth done via a duplex (two-way) pipe. I&amp;#8217;ve &lt;a href="http://www.carsonfarmer.com/static/uploads/faker.py"&gt;uploaded the script&lt;/a&gt;
for anyone interested in having a play with it. If anyone has any ideas
on how to (safely) cancel a currently running R command on the
processing side, I&amp;#8217;d be very interested to hear&amp;nbsp;them.&lt;/p&gt;
&lt;p&gt;Carson&lt;/p&gt;</summary><category term="Multiprocessing"></category><category term="Python"></category><category term="R"></category><category term="Statistics"></category><category term="Free open-source software (FOSS)"></category></entry><entry><title>Evolution is beautiful…</title><link href="http://www.carsonfarmer.com/2010/10/evolution-is-beautiful/" rel="alternate"></link><updated>2010-10-27T16:33:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-10-27:2010/10/evolution-is-beautiful/</id><summary type="html">&lt;p&gt;Check out &lt;a href="http://vimeo.com/16148504"&gt;this video&lt;/a&gt; of the evolution of OpenSteetMap in Europe! It
sure is cool to see how much ground a bunch of nerds with &lt;span class="caps"&gt;GPS&lt;/span&gt; units can
cover! Link courtesy of &lt;a href="http://slashgeo.org/"&gt;slashgeo.org&lt;/a&gt;.&lt;/p&gt;</summary><category term="Data"></category><category term="Free"></category><category term="Open-source"></category><category term="OpenStreetMap"></category></entry><entry><title>pgRouting, OpenStreetMap, and QGIS</title><link href="http://www.carsonfarmer.com/2010/10/pgrouting-openstreetmap-and-qgis/" rel="alternate"></link><updated>2010-10-14T12:26:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-10-14:2010/10/pgrouting-openstreetmap-and-qgis/</id><summary type="html">&lt;p&gt;I mentioned &lt;a href="http://www.carsonfarmer.com/2010/05/osm-data-by-country/"&gt;a few posts back&lt;/a&gt; that there was a great resource for
downloading OpenStreetMap data, and that it was relatively easy to
import osm data into &lt;code&gt;PostgreSQL&lt;/code&gt;/&lt;code&gt;PostGIS&lt;/code&gt; for use with &lt;code&gt;pgRouting&lt;/code&gt; to
calculate shortest paths and various other network-based operations. In
this post, I&amp;#8217;ll outline the steps required to get all this up and going,
and provide a quick example to show how this can be combined with &lt;span class="caps"&gt;QGIS&lt;/span&gt;
to visualise the computed shortest path directly.
&lt;/p&gt;
&lt;p&gt;Firstly, we need to install all the required packages. I&amp;#8217;m assuming you
already have &lt;code&gt;PostgreSQL&lt;/code&gt; and &lt;code&gt;PostGIS&lt;/code&gt; installed, but if not, have a &lt;a href="http://www.carsonfarmer.com/2008/11/quick-guide-to-setting-up-postgis-database/"&gt;look
here&lt;/a&gt; for a quick guide to getting things set up (Note that the latest
version of &lt;code&gt;PostgreSQL&lt;/code&gt; is now&amp;nbsp;8.4).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo apt-get install postgresql-server-dev-8.4 libboost-graph-dev
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you don&amp;#8217;t have them already, you might also need tools for building
the required software packages, as well as subversion and&amp;nbsp;cmake.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo apt-get install build-essential subversion cmake
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To be able to run the driving distance algorithms we need&amp;nbsp;&lt;span class="caps"&gt;CGAL&lt;/span&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo apt-get install libcgal*
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And the traveling sales person algorithm requires&amp;nbsp;&lt;span class="caps"&gt;GAUL&lt;/span&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;wget http://downloads.sourceforge.net/gaul/gaul-devel-0.1850-0.tar.gz
tar -xzf gaul-devel-0.1850-0.tar.gz &lt;span class="nb"&gt;cd &lt;/span&gt;gaul-devel-0.1850-0/
./configure --disable-slang
make
sudo make install
sudo ldconfig
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now it&amp;#8217;s time to download, build, and install &lt;code&gt;pgRouting&lt;/code&gt;. If you don&amp;#8217;t
have subversion, or you don&amp;#8217;t want to have the latest trunk version of
&lt;code&gt;pgRouting&lt;/code&gt;, you can also &lt;a href="http://pgrouting.postlbs.org/wiki/pgRoutingDownload"&gt;download it manually&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;svn checkout http://pgrouting.postlbs.org/svn/pgrouting/trunk pgrouting
&lt;span class="nb"&gt;cd &lt;/span&gt;pgrouting/
cmake -DWITH_TSP&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="caps"&gt;ON&lt;/span&gt; -DWITH_DD&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="caps"&gt;ON&lt;/span&gt; . make
sudo make install
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once we&amp;#8217;ve got that installed and ready to go, we need to set up
&lt;code&gt;PostgreSQL&lt;/code&gt; so that it &amp;#8216;trusts&amp;#8217; local database&amp;nbsp;connections.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo gedit /etc/postgresql/8.4/main/pg_hba.conf
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Scroll to the bottom, and make sure you change the &lt;code&gt;METHOD&lt;/code&gt; to&amp;nbsp;&amp;#8216;trust&amp;#8217;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;# &lt;span class="caps"&gt;TYPE&lt;/span&gt;  &lt;span class="caps"&gt;DATABASE&lt;/span&gt;    &lt;span class="caps"&gt;USER&lt;/span&gt;        &lt;span class="caps"&gt;CIDR&lt;/span&gt;-&lt;span class="caps"&gt;ADDRESS&lt;/span&gt;          &lt;span class="caps"&gt;METHOD&lt;/span&gt;&lt;/span&gt;
&lt;span class="n"&gt;local&lt;/span&gt;   &lt;span class="n"&gt;all&lt;/span&gt;         &lt;span class="n"&gt;all&lt;/span&gt;                               &lt;span class="n"&gt;trust&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And now that we&amp;#8217;ve made these changes, we need to restart &lt;code&gt;PostgreSQL&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo /etc/init.d/postgresql-8.4 restart
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Next we simply create a routing database to store our data&amp;nbsp;in&amp;#8230;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;createdb -U postgres routing createlang -U postgres plpgsql routing
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&amp;#8230;add the &lt;code&gt;PostGIS&lt;/code&gt; functions&amp;#8230;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;psql -U postgres -f /usr/share/postgresql/8.4/contrib/postgis-1.5/postgis.sql routing
psql -U postgres -f /usr/share/postgresql/8.4/contrib/postgis-1.5/spatial_ref_sys.sql routing
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&amp;#8230;add all the &lt;code&gt;pgRouting&lt;/code&gt; functions&amp;#8230;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;psql -U postgres -f /usr/share/postlbs/routing_core.sql routing
psql -U postgres -f /usr/share/postlbs/routing_core_wrappers.sql routing
psql -U postgres -f /usr/share/postlbs/routing_topology.sql routing
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&amp;#8230;including the traveling salesman&amp;nbsp;functions&amp;#8230;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;psql -U postgres -f /usr/share/postlbs/routing_tsp.sql routing
psql -U postgres -f /usr/share/postlbs/routing_tsp_wrappers.sql routing
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&amp;#8230;and finally the driving distance&amp;nbsp;functions.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;psql -U postgres -f /usr/share/postlbs/routing_dd.sql routing
psql -U postgres -f /usr/share/postlbs/routing_dd_wrappers.sql routing
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We now have a fully working &lt;code&gt;pgRouting&lt;/code&gt; database ready to be populated
with data! So in order to do that relatively painlessly, we first
install the &lt;a href="http://pgrouting.postlbs.org/wiki/tools/osm2pgrouting"&gt;osm2pgrouting&lt;/a&gt; tool, which will help us import our osm
data directly into our &lt;code&gt;pgRouting&lt;/code&gt; database with the correct structure and&amp;nbsp;everything.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;svn checkout http://pgrouting.postlbs.org/svn/pgrouting/tools/osm2pgrouting/trunk osm2pgrouting
&lt;span class="nb"&gt;cd &lt;/span&gt;osm2pgrouting/
make
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once that&amp;#8217;s finished building, we can go ahead and download our osm data
from &lt;a href="http://download.geofabrik.de/osm/"&gt;http://download.geofabrik.de/osm/&lt;/a&gt;. See this &lt;a href="http://www.carsonfarmer.com/2010/05/osm-data-by-country/"&gt;previous post&lt;/a&gt;
for details. For this example, I&amp;#8217;ll be using the osm data for&amp;nbsp;Ireland&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;wget http://download.geofabrik.de/osm/europe/ireland.osm.bz2
bzip2 -d ireland.osm.bz2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once we have that downloaded and extracted, we&amp;#8217;re ready to import the
osm data into our database using the &lt;code&gt;osm2pgrouting&lt;/code&gt; tool&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;./osm2pgrouting -file /home/cfarmer/Downloads/ireland.osm -conf mapconfig.xml -dbname routing -user postgres -clean
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once that is finished (could take a long time) we&amp;#8217;re ready to query the
network (Note that the values 52343 and 39219 represent network node&amp;nbsp;ids)&amp;#8230;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;psql -U postgres routing
&lt;span class="k"&gt;select&lt;/span&gt; * from shortest_path
    &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;select gid as id,&lt;/span&gt;
&lt;span class="s1"&gt;        source::int4,&lt;/span&gt;
&lt;span class="s1"&gt;        target::int4,&lt;/span&gt;
&lt;span class="s1"&gt;        length::double precision as cost&lt;/span&gt;
&lt;span class="s1"&gt;        from ways&amp;#39;&lt;/span&gt;,
    52343, 39219, &lt;span class="nb"&gt;false&lt;/span&gt;, &lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&amp;#8230;to produce something like&amp;nbsp;this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;vertex_id&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;edge_id&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;        &lt;span class="n"&gt;cost&lt;/span&gt;
&lt;span class="o"&gt;----------+---------+---------------------&lt;/span&gt;
&lt;span class="err"&gt;   &lt;/span&gt; &lt;span class="mi"&gt;52343&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mi"&gt;78055&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mf"&gt;0.217641978736602&lt;/span&gt;
&lt;span class="err"&gt;   &lt;/span&gt; &lt;span class="mi"&gt;52341&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mi"&gt;78052&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;  &lt;span class="mf"&gt;0.0230665826613562&lt;/span&gt;
&lt;span class="err"&gt;   &lt;/span&gt; &lt;span class="mi"&gt;52342&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mi"&gt;78053&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;  &lt;span class="mf"&gt;0.0839311516838216&lt;/span&gt;
&lt;span class="err"&gt;   &lt;/span&gt; &lt;span class="mi"&gt;20390&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mi"&gt;28717&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mf"&gt;0.166809293071158&lt;/span&gt;
&lt;span class="err"&gt;   &lt;/span&gt; &lt;span class="mi"&gt;20389&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mi"&gt;28716&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mf"&gt;0.493120178133836&lt;/span&gt;
&lt;span class="err"&gt;   &lt;/span&gt; &lt;span class="mi"&gt;20388&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mi"&gt;28715&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mf"&gt;0.271165901884914&lt;/span&gt;
&lt;span class="err"&gt;   &lt;/span&gt; &lt;span class="mi"&gt;20387&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;  &lt;span class="mi"&gt;112841&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mf"&gt;0.101669458767093&lt;/span&gt;
&lt;span class="err"&gt;   &lt;/span&gt; &lt;span class="mi"&gt;14183&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mi"&gt;22893&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;   &lt;span class="mf"&gt;0.106433172954507&lt;/span&gt;
&lt;span class="p"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Assuming your database is structured as &lt;code&gt;pgRouting&lt;/code&gt; expects (which it
should be if you&amp;#8217;ve used &lt;code&gt;osm2pgrouting&lt;/code&gt;), you can use the some of the
functions which return geometries for use with other &lt;code&gt;PostGIS&lt;/code&gt; functions:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;select&lt;/span&gt; * from dijkstra_sp&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ways&amp;#39;&lt;/span&gt;, 52343, 39219&lt;span class="o"&gt;)&lt;/span&gt;;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;id&lt;/span&gt;  &lt;span class="o"&gt;|&lt;/span&gt;  &lt;span class="n"&gt;gid&lt;/span&gt;   &lt;span class="o"&gt;|&lt;/span&gt;          &lt;span class="n"&gt;the_geom&lt;/span&gt;
&lt;span class="o"&gt;----+--------+----------------------------&lt;/span&gt;
&lt;span class="err"&gt; &lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;  &lt;span class="mi"&gt;78055&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mf"&gt;0105000020E610000001000&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="err"&gt; &lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;  &lt;span class="mi"&gt;78052&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mf"&gt;0105000020E610000001000&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="err"&gt; &lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;  &lt;span class="mi"&gt;78053&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mf"&gt;0105000020E610000001000&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="err"&gt; &lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;  &lt;span class="mi"&gt;28717&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mf"&gt;0105000020E610000001000&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="err"&gt; &lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;  &lt;span class="mi"&gt;28716&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mf"&gt;0105000020E610000001000&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="err"&gt; &lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;  &lt;span class="mi"&gt;28715&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mf"&gt;0105000020E610000001000&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="err"&gt; &lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;112841&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mf"&gt;0105000020E610000001000&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="err"&gt; &lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;  &lt;span class="mi"&gt;22893&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mf"&gt;0105000020E610000001000&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="p"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;These queries are all fine and dandy, and can easily be used to
calculate the distances of shortest paths etc, but what I really want to
do is visualise this output in a &lt;span class="caps"&gt;GIS&lt;/span&gt; so I can get an idea of what these
shortest paths looks like. In &lt;em&gt;another&lt;/em&gt; &lt;a href="http://www.carsonfarmer.com/2010/04/postgis-select-statement-as-vector-layer-in-qgis/"&gt;previous post&lt;/a&gt;, I mentioned
how we could visualise spatial &lt;code&gt;SQL&lt;/code&gt; queries directly in &lt;span class="caps"&gt;QGIS&lt;/span&gt; from both
the Python console, and using a handy plugin. We can do the same thing
here using &lt;code&gt;pgRouting&lt;/code&gt; to produce a lovely spatial representation of our
shortest path&amp;nbsp;query:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.carsonfarmer.com/static/images/shortest_path.png"&gt;&lt;img alt="image" src="http://www.carsonfarmer.com/static/images/shortest_path-300x213.png" title="shortest_path" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And there you go, a full fledged routing library built right into our&amp;nbsp;database!&lt;/p&gt;</summary><category term="Networks"></category><category term="OpenStreeMap"></category><category term="pgRouting"></category><category term="PostgreSQL/PostGIS"></category><category term="QGIS"></category><category term="Free open-source software (FOSS)"></category><category term="Geographic information science/systems (GIS)"></category><category term="How to"></category><category term="Networks"></category></entry><entry><title>Happy 42 day!</title><link href="http://www.carsonfarmer.com/2010/10/happy-42-day/" rel="alternate"></link><updated>2010-10-10T19:37:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-10-10:2010/10/happy-42-day/</id><summary type="html">&lt;p&gt;Happy &lt;a href="http://fortytwoday.com/42daycities.html"&gt;42 day&lt;/a&gt; to all those nerds and geeks out there! May this day
bring you the question to the ultimate&amp;nbsp;answer!&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
    &lt;a href="http://www.carsonfarmer.com/static/images/hitchhikersguide.jpg"&gt;&lt;img alt="image" src="http://www.carsonfarmer.com/static/images/hitchhikersguide-300x123.jpg" /&gt;&lt;/a&gt;
&lt;/center&gt;&lt;/p&gt;</summary><category term="42 day"></category></entry><entry><title>Adding a bit of class(ification) to QGIS…</title><link href="http://www.carsonfarmer.com/2010/09/adding-a-bit-of-classification-to-qgis/" rel="alternate"></link><updated>2010-09-29T00:40:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-09-29:2010/09/adding-a-bit-of-classification-to-qgis/</id><summary type="html">&lt;p&gt;In my &lt;a href="http://www.carsonfarmer.com/2010/09/playing-around-with-classification-algorithms-python-and-qgis/"&gt;last post&lt;/a&gt;, I implemented several classification algorithms for
quantitative data which could be used directly from the Python console
in &lt;span class="caps"&gt;QGIS&lt;/span&gt;. While this was a handy addition to my PyQGIS toolkit, it wasn&amp;#8217;t
quite handy enough for me, so I decided to (re)implement the same
algorithms in C++ so that they could be added directly to the &lt;span class="caps"&gt;QGIS&lt;/span&gt; &lt;span class="caps"&gt;API&lt;/span&gt;.
Before I did that however, I wanted to fix a few issues, and speed
things up a bit, particularly for the Jenks Natural Breaks algorithm,
which can be quite slow for large datasets.
&lt;/p&gt;
&lt;p&gt;After porting everything over to C++, I noticed that things were still
a little too slow for large datasets. My first thought was to limit the
amount of data that the algorithm had to go through by taking a random
sample (without replacement) and only running the algorithm on this
sample. Based on trial and error, I found that about 1000 values was a
good number to use, as it was still relatively fast, but generally not
too small to be unrepresentative of the overall distribution. In the
end, I went with using &lt;code&gt;max(1000, n*0.10)&lt;/code&gt; for layers with more than
1000&amp;nbsp;features.&lt;/p&gt;
&lt;p&gt;Since several of my colleagues here still use &lt;span class="caps"&gt;ESRI&lt;/span&gt; products, I also
decided to compare my version with the Natural Breaks algorithm in
ArcMAP. I noticed right away that their version was much faster (when I
didn&amp;#8217;t use the random sampling scheme), so I decided to search around
for information on their implementation. Obviously &lt;span class="caps"&gt;ESRI&lt;/span&gt;’s documentation
didn&amp;#8217;t explain the specifics of their algorithm, but it does produce
very similar class breaks to mine (and the implementation &lt;a href="http://cran.r-project.org/web/packages/classInt/index.html"&gt;available in
R&lt;/a&gt;, 
so I was relatively confident that the main underlying algorithm
was similar. I then stumbled upon this question in an 
&lt;a href="http://mappingcenter.esri.com/index.cfm?fa=ask.answers&amp;amp;q=541"&gt;&lt;span class="caps"&gt;ESRI&lt;/span&gt; forum&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Does ArcMap use the Jenks-Caspall or the Fisher-Jenks algorithm for
classifying data into natural breaks. I did some support.esri.com
research and found that ArcView 3.x appeared to have used the
Fisher-Jenks, but ArcGIS Desktop only generically talked about Jenks
Optimization without eluded to what algorithm it was&amp;nbsp;using.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The initial response was quite good, but unfortunately, like all
propriety software companies, when asked exactly how the algorithm was
implemented, they responded&amp;nbsp;with:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;That&amp;#8217;s proprietary information, along the lines of a trade secret, and
so corporate policy is that we do not provide&amp;nbsp;it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Bummer&amp;#8230; I &lt;em&gt;was&lt;/em&gt; able to figure out a few things from simply clicking
around the various different options in ArcMAP, and I found that for
large datasets, ArcMAP&amp;#8217;s version of the Jenks algorithm also uses
sampling to reduce computation time. However, I was surprised to find
that their sampling technique appears to simply sample the first &lt;code&gt;x&lt;/code&gt;
data values (where &lt;code&gt;x&lt;/code&gt; defaults to 10,000, but can be changed by the
user). Depending on how the data was created/digitised, this may not
produce a statistically representative sample at all! In my opinion, it
is better to use a random sampling scheme, with the constraint that both
the minimum and maximum values are included in the random sample so that
we don&amp;#8217;t lose values off the ends of our class intervals. Which is
exactly what I&amp;#8217;ve&amp;nbsp;done&amp;#8230;&lt;/p&gt;
&lt;p&gt;At the moment I&amp;#8217;m still looking at ways to optimize my rather basic
implementation. So far I use a relatively simple sampling procedure, but
it might be possible to do something more &amp;#8216;intelligent&amp;#8217; here to speed
things up while maintaining a statistically representative sample.
Comments are more than welcome. I have also posted the diff file to the
&lt;span class="caps"&gt;QGIS&lt;/span&gt; developers mailing list for evaluation, and once I tidy up a few
issues I&amp;#8217;ll commit to this trunk, making it available for future
versions of&amp;nbsp;&lt;span class="caps"&gt;QGIS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Just to remind you of how important it is to carefully consider the
classification scheme you use when presenting your data, here is a
graphic of the 5 different classification schemes (soon to be) available
in &lt;span class="caps"&gt;QGIS&lt;/span&gt;. All 5 methods are grouping the same underlying data (2007
population) into the same number of classes&amp;nbsp;(5).&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.carsonfarmer.com/static/images/class_intervals.png"&gt;&lt;img alt="image" src="http://www.carsonfarmer.com/static/images/class_intervals-300x118.png" /&gt;&lt;/a&gt;&lt;/p&gt;</summary><category term="ArcGIS"></category><category term="C++"></category><category term="Jenks"></category><category term="Python"></category><category term="QGIS"></category><category term="Free open-source software (FOSS)"></category><category term="Geographic information science/systems (GIS)"></category><category term="Python"></category></entry><entry><title>Playing around with classification algorithms: Python and QGIS</title><link href="http://www.carsonfarmer.com/2010/09/playing-around-with-classification-algorithms-python-and-qgis/" rel="alternate"></link><updated>2010-09-23T10:56:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-09-23:2010/09/playing-around-with-classification-algorithms-python-and-qgis/</id><summary type="html">&lt;p&gt;Data visualisation is part of my everyday work-flow. More often than
not, I&amp;#8217;m playing around with my data in a &lt;span class="caps"&gt;GIS&lt;/span&gt; to tease out interesting
or informative spatial patterns, or to ensure that I&amp;#8217;m getting the
results that I&amp;#8217;m expecting. As a result, I am constantly trying out
different classification schemes to help me generalise spatial patterns,
highlight outliers and/or patterns, or just plain &lt;a href="http://www.markmonmonier.com/how_to_lie_with_maps_14880.htm"&gt;mess around with my
data&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;Unfortunately, &lt;a href="http://www.qgis.org/"&gt;&lt;span class="caps"&gt;QGIS&lt;/span&gt;&lt;/a&gt; (which has been my primary &lt;span class="caps"&gt;GIS&lt;/span&gt; for several years
now) only &lt;strike&gt;has&lt;/strike&gt; had &amp;#8216;Equal Interval&amp;#8217; and &amp;#8216;Quantiles&amp;#8217; classification algorithms
implemented. While these classification schemes are no doubt useful and
revealing when used in the right context, I often need something that
better represents the &amp;#8216;actual&amp;#8217; distribution of values in my data. For
this, I usually turn to the &lt;a href="http://en.wikipedia.org/wiki/Jenks_Natural_Breaks_Optimization"&gt;Jenks Optimisation&lt;/a&gt; (or Natural Breaks)
classification. Essentially, this classification algorithm generates
class intervals that minimise within group variance, and maximise
between group variance. In this way, given a certain number (&lt;code&gt;k&lt;/code&gt;) of
classes, we arrive at an &amp;#8216;optimal&amp;#8217; classification of our data into &lt;code&gt;k&lt;/code&gt;
classes. In the past, I would import my data into &lt;a href="http://www.r-project.org/"&gt;R&lt;/a&gt;, and calculate
class intervals using the very handy &lt;a href="http://cran.r-project.org/web/packages/classInt/index.html"&gt;classInt&lt;/a&gt; package. However,
moving data between &lt;span class="caps"&gt;QGIS&lt;/span&gt; and R, while slightly easier using my &lt;a href="http://code.google.com/p/ftools-qgis/"&gt;manageR
tool&lt;/a&gt; (shameless plug!), is not optimal when all I really want to do
is fiddle around with different classification schemes. So I decided to
reimplement the Jenks algorithm in Python so that I could do things
directly from the Python console in&amp;nbsp;&lt;span class="caps"&gt;QGIS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Obviously I didn&amp;#8217;t really want to implement this algorithm from scratch,
so I had a look at the R code from the &lt;code&gt;classInterval&lt;/code&gt; function in the
classInt package (ah open source!), as well as the handy Python script
&lt;a href="http://danieljlewis.org/2010/06/07/jenks-natural-breaks-algorithm-in-python/"&gt;from here&lt;/a&gt;. Once I had the code in hand, it didn&amp;#8217;t take long to have
a nice Python script ready to be run on my data directly from within
&lt;span class="caps"&gt;QGIS&lt;/span&gt;. While I was at it, I also implemented a few other classification
algorithms to play around with, including &amp;#8216;Equal Interval&amp;#8217;, &amp;#8216;Quantiles&amp;#8217;,
&amp;#8216;Standard Deviation&amp;#8217;, and R&amp;#8217;s &amp;#8216;Pretty&amp;#8217; algorithm. For those of you who
don&amp;#8217;t know, R&amp;#8217;s pretty algorithm basically computes a sequence of about
&amp;#8216;n+1&amp;#8217; equally spaced &amp;#8216;round&amp;#8217; values which cover the range of our input
data, such that the class breaks are 1, 2 or 5 times a power of 10. The
Python script is &lt;a href="http://www.carsonfarmer.com/static/uploads/class_intervals.py"&gt;available here&lt;/a&gt;, and has a version of the pretty
algorithm based on code from the &lt;a href="https://r-forge.r-project.org/projects/labeling/"&gt;labeling&lt;/a&gt;&amp;nbsp;package.&lt;/p&gt;</summary><category term="Classification"></category><category term="Jenks"></category><category term="Python"></category><category term="QGIS"></category><category term="R"></category><category term="Free open-source software (FOSS)"></category><category term="Geographic information science/systems (GIS)"></category></entry><entry><title>New online GIS resource</title><link href="http://www.carsonfarmer.com/2010/07/new-online-gis-resource/" rel="alternate"></link><updated>2010-07-29T20:59:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-07-29:2010/07/new-online-gis-resource/</id><summary type="html">&lt;p&gt;The new Geographic Information Systems Stack Exchange site is now open
to the&amp;nbsp;public!&lt;/p&gt;
&lt;p&gt;It&amp;#8217;s brand new, and has the potential to be an extremely valuable
resource for &lt;span class="caps"&gt;GIS&lt;/span&gt; professionals, academics, enthusiasts, and just about
anyone else looking for answers to &lt;span class="caps"&gt;GIS&lt;/span&gt; related questions.
Check it out here: &lt;a href="http://gis.stackexchange.com"&gt;http://gis.stackexchange.com&lt;/a&gt;&lt;/p&gt;</summary><category term="Forum"></category><category term="GIS"></category><category term="Online resource"></category><category term="Geographic information science/systems (GIS)"></category></entry><entry><title>OSM data by country</title><link href="http://www.carsonfarmer.com/2010/05/osm-data-by-country/" rel="alternate"></link><updated>2010-05-13T12:05:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-05-13:2010/05/osm-data-by-country/</id><summary type="html">&lt;p&gt;For part of a traffic simulation project I am currently working on we
need country-wide road network data for Ireland. In the past, getting
decent road network data for an area this large was quite a task (not to
mention expensive and time consuming), however, with OpenStreetMap we
have access to this type of data instantly, and for free! In order to
download full country coverage all at once, all I had to do was turn to
this &lt;a href="http://download.geofabrik.de/osm/"&gt;extremely useful site&lt;/a&gt;, which provides links for daily excerpts
of OpenStreetMap data for any country in Europe plus several non-country
regions such as the Alps region, as well as select countries outside of
Europe. It currently also features &lt;a href="http://labs.geofabrik.de/haiti/"&gt;special coverage of Haiti&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Now that I have the &lt;span class="caps"&gt;OSM&lt;/span&gt; data downloaded, it should be relatively easy to
import it into my PostGIS database using &lt;a href="http://pgrouting.postlbs.org/"&gt;pgRouting&lt;/a&gt; and the
&lt;a href="http://pgrouting.postlbs.org/wiki/tools/osm2pgrouting"&gt;osm2pgrouting&lt;/a&gt; import tool. More to come on this topic once I get
things working&amp;nbsp;nicely&amp;#8230;&lt;/p&gt;</summary><category term="Ireland"></category><category term="OpenStreetMap"></category><category term="PostGIS"></category><category term="Road Networks"></category><category term="Geographic information science/systems (GIS)"></category><category term="Helpful tips"></category><category term="Networks"></category><category term="Research"></category></entry><entry><title>PostGIS ‘select’ statement as vector layer in QGIS</title><link href="http://www.carsonfarmer.com/2010/04/postgis-select-statement-as-vector-layer-in-qgis/" rel="alternate"></link><updated>2010-04-27T17:40:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-04-27:2010/04/postgis-select-statement-as-vector-layer-in-qgis/</id><summary type="html">&lt;p&gt;Several colleagues of mine have asked whether it is possible to
visualise the results of a &lt;code&gt;SELECT&lt;/code&gt; statement on a &lt;a href="http://postgis.refractions.net/"&gt;PostGIS&lt;/a&gt; database
that returns spatial data in &lt;a href="http://www.qgis.org/"&gt;&lt;span class="caps"&gt;QGIS&lt;/span&gt;&lt;/a&gt;. In other words, can we map the
results of something&amp;nbsp;like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;SELECT id, st_union&lt;span class="o"&gt;(&lt;/span&gt;the_geom&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="caps"&gt;FROM&lt;/span&gt; spatial_table &lt;span class="caps"&gt;GROUP&lt;/span&gt; &lt;span class="caps"&gt;BY&lt;/span&gt; id;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;My usual answer to this in the past has been &amp;#8220;not yet&amp;#8230;&amp;#8221;, but now thanks
to Giuseppe Sucameli and Jürgen E. Fischer, the answer is a resounding
&amp;#8220;yes!&amp;#8221;. A &lt;a href="https://trac.osgeo.org/qgis/changeset/13340"&gt;recent patch&lt;/a&gt; to &lt;span class="caps"&gt;QGIS&lt;/span&gt; trunk now makes custom Postgres
queries possible via the postgres data provider.
&lt;/p&gt;
&lt;p&gt;&lt;strike&gt;Unfortunately there is no user interface implemented to take advantage
of this functionality (yet!)&lt;/strike&gt;There is now a plugin available from the
&lt;a href="http://www.faunalia.it/qgis/plugins.xml"&gt;Faunalia python plugin repository&lt;/a&gt; called &lt;code&gt;RT Sql Layer&lt;/code&gt; which provides
a &lt;span class="caps"&gt;GUI&lt;/span&gt; for loading &lt;code&gt;PostGIS&lt;/code&gt; &lt;code&gt;SELECT&lt;/code&gt; statements as layer, but you can also
access this handy feature via the &lt;code&gt;QGIS&lt;/code&gt; &lt;code&gt;Python&lt;/code&gt; console:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;db_conn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;dbname=&amp;#39;gis&amp;#39; host=localhost port=5432 user=&amp;#39;cfarmer&amp;#39; password=&amp;#39;xxxx&amp;#39;&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;id_field&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;id&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;table&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;(select id, st_union(the_geom) from spatial_table group by id)&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;uri&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s"&gt; key=&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s"&gt; table=&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s"&gt; (the_geom) sql=&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;db_conn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;id_field&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="p"&gt;,)&lt;/span&gt;
&lt;span class="n"&gt;layer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QgsVectorLayer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;uri&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;testlayer&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;postgres&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;we can then add the layer to the map canvas&amp;nbsp;via:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;QgsMapLayerRegistry&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;instance&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;addMapLayer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;layer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and even query/measure it via something&amp;nbsp;like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;provider&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;layer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dataProvider&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;feat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QgsFeature&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;provider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;([],&lt;/span&gt; &lt;span class="n"&gt;QgsRectangle&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;provider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nextFeature&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;feat&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;dist&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QgsDistanceArea&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;dist&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;measure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;feat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;geometry&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Just another one of the many new features being added to &lt;span class="caps"&gt;QGIS&lt;/span&gt; every&amp;nbsp;day!&lt;/p&gt;</summary><category term="PostGIS"></category><category term="QGIS"></category><category term="Query"></category><category term="Vector"></category><category term="Free open-source software (FOSS)"></category><category term="Geographic information science/systems (GIS)"></category><category term="How to"></category></entry><entry><title>Parallel bootstrapping with R</title><link href="http://www.carsonfarmer.com/2010/04/parallel-bootstrapping-with-r/" rel="alternate"></link><updated>2010-04-21T15:34:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-04-21:2010/04/parallel-bootstrapping-with-r/</id><summary type="html">&lt;p&gt;In a &lt;a href="http://www.carsonfarmer.com/2009/10/community-structure-in-directed-weighted-networks/"&gt;recent post&lt;/a&gt;, I mentioned that I was testing the stability of
clusters generated from a modified network partitioning algorithm using
bootstrap resampling techniques. I also mentioned that I was doing this
in R, using the very nice &lt;a href="http://cran.r-project.org/web/packages/foreach/index.html"&gt;foreach&lt;/a&gt; package published by &lt;a href="http://www.revolution-computing.com/"&gt;REvolution
Computing&lt;/a&gt;. To show just how nice this package is, below is a minimal
example of bootstrapping a network partitioning algorithm which takes
advantage of a multicore processor:
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;library&lt;span class="p"&gt;(&lt;/span&gt;doMC&lt;span class="p"&gt;)&lt;/span&gt;
library&lt;span class="p"&gt;(&lt;/span&gt;foreach&lt;span class="p"&gt;)&lt;/span&gt;
library&lt;span class="p"&gt;(&lt;/span&gt;igraph&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# Jaccard coeficcient function (taken from package fpc)&lt;/span&gt;
clujaccard &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kr"&gt;function&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;c1&lt;span class="p"&gt;,&lt;/span&gt; c2&lt;span class="p"&gt;,&lt;/span&gt; zerobyzero &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;&lt;span class="caps"&gt;NA&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kr"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;sum&lt;span class="p"&gt;(&lt;/span&gt;c1&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; sum&lt;span class="p"&gt;(&lt;/span&gt;c2&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; sum&lt;span class="p"&gt;(&lt;/span&gt;c1 &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; c2&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        out &lt;span class="o"&gt;=&lt;/span&gt; zerobyzero
    &lt;span class="kr"&gt;else&lt;/span&gt;
        out &lt;span class="o"&gt;=&lt;/span&gt; sum&lt;span class="p"&gt;(&lt;/span&gt;c1 &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; c2&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;sum&lt;span class="p"&gt;(&lt;/span&gt;c1&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; sum&lt;span class="p"&gt;(&lt;/span&gt;c2&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; sum&lt;span class="p"&gt;(&lt;/span&gt;c1 &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; c2&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="kr"&gt;return&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;out&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
registerDoMC&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;# registers the parallel backend&lt;/span&gt;
B &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1000&lt;/span&gt; &lt;span class="c1"&gt;# number of bootstrap replicates to create&lt;/span&gt;
load&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;igraph_network.Rdata&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# load a previously saved network (network name: g)&lt;/span&gt;
fg &lt;span class="o"&gt;=&lt;/span&gt; fastgreedy.community&lt;span class="p"&gt;(&lt;/span&gt;g&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# compute original clustering&lt;/span&gt;
mm &lt;span class="o"&gt;=&lt;/span&gt; which.max&lt;span class="p"&gt;(&lt;/span&gt;fg&lt;span class="o"&gt;$&lt;/span&gt;modularity&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# find level of max modularity&lt;/span&gt;
moc &lt;span class="o"&gt;=&lt;/span&gt; community.to.membership&lt;span class="p"&gt;(&lt;/span&gt;g&lt;span class="p"&gt;,&lt;/span&gt; fg&lt;span class="o"&gt;$&lt;/span&gt;merges&lt;span class="p"&gt;,&lt;/span&gt; mm&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;membership &lt;span class="c1"&gt;# get membership&lt;/span&gt;
noc &lt;span class="o"&gt;=&lt;/span&gt; length&lt;span class="p"&gt;(&lt;/span&gt;unique&lt;span class="p"&gt;(&lt;/span&gt;moc&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c1"&gt;# count the number original clusters&lt;/span&gt;
bg &lt;span class="o"&gt;=&lt;/span&gt; g &lt;span class="c1"&gt;# make a copy of g for bootstrapping&lt;/span&gt;
clusters &lt;span class="o"&gt;=&lt;/span&gt; foreach&lt;span class="p"&gt;(&lt;/span&gt;i&lt;span class="o"&gt;=&lt;/span&gt;seq&lt;span class="p"&gt;(&lt;/span&gt;B&lt;span class="p"&gt;),&lt;/span&gt; .combine&lt;span class="o"&gt;=&lt;/span&gt;cbind&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;%dopar%&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    E&lt;span class="p"&gt;(&lt;/span&gt;bg&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;weight &lt;span class="o"&gt;=&lt;/span&gt; sample&lt;span class="p"&gt;(&lt;/span&gt;E&lt;span class="p"&gt;(&lt;/span&gt;g&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;weight&lt;span class="p"&gt;,&lt;/span&gt; replace&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;&lt;span class="caps"&gt;TRUE&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# resample the edge weights&lt;/span&gt;
    fg &lt;span class="o"&gt;=&lt;/span&gt; fastgreedy.community&lt;span class="p"&gt;(&lt;/span&gt;bg&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# compute bootstrap clustering&lt;/span&gt;
    mm &lt;span class="o"&gt;=&lt;/span&gt; which.max&lt;span class="p"&gt;(&lt;/span&gt;fg&lt;span class="o"&gt;$&lt;/span&gt;modularity&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# find level of max modularity&lt;/span&gt;
    mbc &lt;span class="o"&gt;=&lt;/span&gt; community.to.membership&lt;span class="p"&gt;(&lt;/span&gt;bg&lt;span class="p"&gt;,&lt;/span&gt; fg&lt;span class="o"&gt;$&lt;/span&gt;merges&lt;span class="p"&gt;,&lt;/span&gt; mm&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;membership &lt;span class="c1"&gt;# get membership&lt;/span&gt;
    nbc &lt;span class="o"&gt;=&lt;/span&gt; length&lt;span class="p"&gt;(&lt;/span&gt;unique&lt;span class="p"&gt;(&lt;/span&gt;mbc&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c1"&gt;# count the number new clusters&lt;/span&gt;
    bootresult &lt;span class="o"&gt;=&lt;/span&gt; c&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="kr"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;j &lt;span class="kr"&gt;in&lt;/span&gt; seq&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; noc&lt;span class="m"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="c1"&gt;# for each of the original clusters...&lt;/span&gt;
        maxgamma &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;
        &lt;span class="kr"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;nbc &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kr"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;k &lt;span class="kr"&gt;in&lt;/span&gt; seq&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; nbc&lt;span class="m"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="c1"&gt;# for each of the new clusters...&lt;/span&gt;
                bv &lt;span class="o"&gt;=&lt;/span&gt; as.vector&lt;span class="p"&gt;(&lt;/span&gt;mbc &lt;span class="o"&gt;==&lt;/span&gt; k&lt;span class="p"&gt;)&lt;/span&gt;
                ov &lt;span class="o"&gt;=&lt;/span&gt; as.vector&lt;span class="p"&gt;(&lt;/span&gt;moc &lt;span class="o"&gt;==&lt;/span&gt; j&lt;span class="p"&gt;)&lt;/span&gt;
                jc &lt;span class="o"&gt;=&lt;/span&gt; clujaccard&lt;span class="p"&gt;(&lt;/span&gt;ov&lt;span class="p"&gt;,&lt;/span&gt; bv&lt;span class="p"&gt;,&lt;/span&gt; zerobyzero&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="kr"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;jc &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; maxgamma&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# if these two clusters are most similar...&lt;/span&gt;
                    maxgamma &lt;span class="o"&gt;=&lt;/span&gt; jc
            &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
        bootresult &lt;span class="o"&gt;=&lt;/span&gt; c&lt;span class="p"&gt;(&lt;/span&gt;bootresult&lt;span class="p"&gt;,&lt;/span&gt; maxgamma&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# combine results&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="kr"&gt;return&lt;/span&gt; bootresult &lt;span class="c1"&gt;# return the results of this iteration (and cbind with the rest)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
bootmean &lt;span class="o"&gt;=&lt;/span&gt; apply&lt;span class="p"&gt;(&lt;/span&gt;clusters&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; mean&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# mean Jaccard coefficient for each cluster&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The above example might not produce great results, as it simply
resamples (with replacement) the weights of all the network edges, and
therefore a more sophisticated resampling regime might be warranted.
Having said that, it&amp;#8217;s quite a useful example, and as you can see, the
only &amp;#8216;extra&amp;#8217; bits required to make this run on multiple cores is the
&lt;code&gt;registerDoMC()&lt;/code&gt; command which simply registers the parallel backend
(uses the multicore package) and the &lt;code&gt;foreach ... %dopar%&lt;/code&gt; which tells &lt;code&gt;R&lt;/code&gt;
to run the loops in parallel. I ran a similar analysis using a different
community detection algorithm on a computer with 4 cores, and was
(finally) able to take full advantage of my processing&amp;nbsp;power:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.carsonfarmer.com/static/images/foreachcpu.png"&gt;&lt;img alt="cpu_usage" src="http://www.carsonfarmer.com/static/images/foreachcpu-300x114.png" title="foreachcpu" /&gt;&lt;/a&gt;&lt;/p&gt;</summary><category term="Bootstrapping"></category><category term="Cluster"></category><category term="Networks"></category><category term="R"></category><category term="Free open-source software (FOSS)"></category><category term="How to"></category><category term="Networks"></category><category term="Research"></category></entry><entry><title>Bootstrapping network partitioning methods</title><link href="http://www.carsonfarmer.com/2010/04/bootstrapping-network-partitioning-methods/" rel="alternate"></link><updated>2010-04-17T14:26:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-04-17:2010/04/bootstrapping-network-partitioning-methods/</id><summary type="html">&lt;p&gt;My PhD research at the moment focuses on network-based algorithms for
delineating functional regions (geographical regions within which a
large majority of the local population seeks employment, and the
majority of local employers recruit their labour). Currently I&amp;#8217;m using a
network partitioning algorithm based on &lt;a href="http://en.wikipedia.org/wiki/Modularity_(networks)"&gt;modularity maximisation&lt;/a&gt;. I
have found my results to be quite good so far, but, &amp;#8216;quite good&amp;#8217; isn&amp;#8217;t
really a very scientific description of validity, so obviously some
others means of validation is required. Enter bootstrap resampling!
&lt;/p&gt;
&lt;p&gt;Bootstrapping can be used to assess the &lt;strong&gt;validity&lt;/strong&gt; of a
particular network partitioning by measuring the &lt;strong&gt;stability&lt;/strong&gt; of the
detected partitions (or clusters). Here, a cluster may be thought of as
stable if, for example, it remains relatively invariant to random- or
sampling-error and noise. In this sense, we&amp;#8217;re interested in
distinguishing between clusters which reﬂect the true nature of the
dataset, and those generated as a result of random effects, data
uncertainties, or measurement&amp;nbsp;error.&lt;/p&gt;
&lt;p&gt;The process works like&amp;nbsp;this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Generate a large number of random &amp;#8216;bootstrap samples&amp;#8217; from a
   (directed) weighted&amp;nbsp;network,&lt;/li&gt;
&lt;li&gt;Apply some network partitioning algorithm to the original&amp;nbsp;network,&lt;/li&gt;
&lt;li&gt;(Re)apply the network partitioning algorithm to each bootstrap&amp;nbsp;sample,&lt;/li&gt;
&lt;li&gt;For each cluster in the original network partitioning, the most
   similar cluster in each bootstrap replicate is found using the
   &lt;a href="http://en.wikipedia.org/wiki/Jaccard_index"&gt;Jaccard coeffcient&lt;/a&gt; &lt;code&gt;γ&lt;/code&gt; as a measure of similarity, and
   similarity is&amp;nbsp;recorded,&lt;/li&gt;
&lt;li&gt;The stability of each cluster is assessed based on the mean Jaccard
   similarity over all resampled&amp;nbsp;datasets.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Once the above process is run, we get an estimate of how stable each
cluster is. We can then use this information to decide which clusters to
keep, and which ones need to be merged with their closest neighbour.
There are several ways to specify how we resample the data. If we assume
no specific structure in the dataset, regular non-parametric bootstrap
resampling will work fine, however, alternative resampling strategies
include: a) replacing network edge weights with noise, b) adding a small
amount of noise to (a percentage of) the network edges, or c) using only
a subset of the original network (i.e., generating a subgraph of the
original&amp;nbsp;network).&lt;/p&gt;
&lt;p&gt;I tested this process on a computer generated network with three
predefined clusters using resampling strategy (&lt;em&gt;&lt;code&gt;b&lt;/code&gt;&lt;/em&gt;) above, by adding
random noise to &lt;em&gt;&lt;code&gt;k&lt;/code&gt;&lt;/em&gt; percent of the network edges, and observed the
effect of increasing levels of uncertainty by applying the resampling
technique to increasing values of &lt;em&gt;&lt;code&gt;k&lt;/code&gt;&lt;/em&gt;. The results show just what we
would expect: as more noise is added to the dataset, the stability of
the detected clusters goes down. The nice bit however, is that for
&lt;em&gt;&lt;code&gt;k &amp;lt;= 0.5&lt;/code&gt;&lt;/em&gt;, the detected clusters remained relatively stable
(&lt;em&gt;&lt;code&gt;γ &amp;gt;= 0.6&lt;/code&gt;&lt;/em&gt;), meaning the network partitioning algorithm I was using
is doing a pretty good job.&amp;nbsp;Nice!&lt;/p&gt;
&lt;p&gt;This bootstrapping process is part of a paper I&amp;#8217;m working on at the
moment, and uses a geographical variant of &lt;a href="community-structure-in-directed-weighted-networks.html"&gt;this algorithm&lt;/a&gt; to detect
functional regions in travel to work data. I&amp;#8217;ll post more on the
algorithm and my bootstrapping implementation in R (using the very cool
&lt;a href="http://cran.r-project.org/web/packages/foreach/index.html"&gt;foreach&lt;/a&gt; package) here&amp;nbsp;soon.&lt;/p&gt;
&lt;p&gt;C&lt;/p&gt;
&lt;h3&gt;References&lt;/h3&gt;
&lt;p&gt;Leicht, E. A., &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Newman, &lt;span class="caps"&gt;M. E. J.&lt;/span&gt;(2008). &lt;a href="http://prl.aps.org/abstract/PRL/v100/i11/e118703"&gt;Community structure in
directed networks&lt;/a&gt;. &lt;em&gt;Physical Review Letters&lt;/em&gt;, 100(11),&amp;nbsp;118703.&lt;/p&gt;
&lt;p&gt;Hennig, C. (2007). &lt;a href="http://www.sciencedirect.com/science/article/B6V8V-4MJJMV8-1/2/303f8dd772cd73d54aea3a224b188005"&gt;Cluster-wise assessment of cluster stability&lt;/a&gt;.
&lt;em&gt;Computational Statistics &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Data Analysis&lt;/em&gt;, 52(1),&amp;nbsp;258-271.&lt;/p&gt;</summary><category term="Bootstrapping"></category><category term="Networks"></category><category term="R"></category><category term="Stability"></category><category term="Uncertainty"></category><category term="Validity"></category><category term="How-to"></category></entry><entry><title>Why I’m *not* going to use Mendeley</title><link href="http://www.carsonfarmer.com/2010/04/why-im-not-going-to-use-mendeley/" rel="alternate"></link><updated>2010-04-14T23:57:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-04-14:2010/04/why-im-not-going-to-use-mendeley/</id><summary type="html">&lt;p&gt;Besides the obvious: &amp;#8220;It&amp;#8217;s not open source!&amp;#8221;, I&amp;#8217;m also not making the
switch from &lt;a href="http://www.zotero.org/"&gt;Zotero&lt;/a&gt; to &lt;a href="http://www.mendeley.com/"&gt;Mendeley&lt;/a&gt; for my academic reference
management needs due to the answer to this question on the Mendeley &lt;span class="caps"&gt;FAQ&lt;/span&gt;&amp;nbsp;page:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Is Mendeley&amp;nbsp;free?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The straight answer would be yes and no. Yes, it&amp;#8217;s free, because:
Everything you get when you sign up to Mendeley is completely free and
will always remain free - including the features described in &lt;a href="http://www.mendeley.com/faq/#what-is-mendeley"&gt;What is&amp;nbsp;Mendeley?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;No, it&amp;#8217;s not &lt;em&gt;completely&lt;/em&gt; free, because: At a later point in time, we
will expand upon the existing features and introduce additional ones
for professional users &amp;#8211; these will be available for a (very
reasonable)&amp;nbsp;fee.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It&amp;#8217;s also not &lt;em&gt;free&lt;/em&gt; as in &lt;em&gt;freedom&lt;/em&gt;&amp;#8230;&lt;/p&gt;</summary><category term="Mendeley"></category><category term="Open-source"></category><category term="Publications"></category><category term="Zotero"></category><category term="Research"></category></entry><entry><title>Speeding up geoprocessing in QGIS</title><link href="http://www.carsonfarmer.com/2010/04/speeding-up-geoprocessing-in-qgis/" rel="alternate"></link><updated>2010-04-01T14:55:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2010-04-01:2010/04/speeding-up-geoprocessing-in-qgis/</id><summary type="html">&lt;p&gt;Last night I had an uncontrollable urge to make geopoprocessing in &lt;span class="caps"&gt;QGIS&lt;/span&gt;
better, faster and more fun! I had come across a couple of posts
(&lt;a href="http://lin-ear-th-inking.blogspot.com/search?q=cascaded"&gt;here&lt;/a&gt;, &lt;a href="http://blog.cleverelephant.ca/2009/01/must-faster-unions-in-postgis-14.html"&gt;here&lt;/a&gt;) on the idea of a cascaded union operation, and
since it has recently been added to &lt;a href="http://trac.osgeo.org/geos/"&gt;&lt;span class="caps"&gt;GEOS&lt;/span&gt;&lt;/a&gt; (which &lt;span class="caps"&gt;QGIS&lt;/span&gt; uses for its
geometry operations), I thought I&amp;#8217;d give a much needed boost to the
fTools union tool and related functions.
&lt;/p&gt;
&lt;p&gt;This required a bit of mucking about with &lt;a href="http://doc.qgis.org/stable/classQgsGeometry.html"&gt;QgsGeometry&lt;/a&gt;, but in the
end it really didn&amp;#8217;t take too much hacking to get things working
properly. I was able to add a &lt;code&gt;combineCascaded(QList&amp;lt;QgsGeometry*&amp;gt;)&lt;/code&gt;
function to the &lt;code&gt;QgsGeometry&lt;/code&gt; class, as well as the required Python
bindings. Basically what this function does is union small subsets of
the input layer, then union groups of the resulting features, and so on
recursively until the final union of all features in the input list is
computed. There is a nice explanation of the algorithm straight from the
horses mouth &lt;a href="http://lin-ear-th-inking.blogspot.com/search?q=cascaded"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I haven&amp;#8217;t yet committed these additions, as I&amp;#8217;m not quite sure I like
how I&amp;#8217;ve done things, but just to prove how much faster things can be,
here is a quick little demo that can be run from the built-in &lt;span class="caps"&gt;QGIS&lt;/span&gt;
Python&amp;nbsp;console:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;
&lt;span class="n"&gt;canvas&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qgis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iface&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mapCanvas&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;layer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;canvas&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# assumes target layer is fist in layer list&lt;/span&gt;
&lt;span class="n"&gt;provider&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;layer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dataProvider&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;attrs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;provider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attributeIndexes&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;provider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;attrs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;geoms&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;feat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QgsFeature&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c"&gt;# get a list of all the feature geometries in the layer&lt;/span&gt;
&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;provider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nextFeature&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;feat&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
    &lt;span class="n"&gt;geom&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QgsGeometry&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;feat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;geometry&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
    &lt;span class="n"&gt;geoms&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;geom&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;First, using the current method, which adds all the geometries together one by&amp;nbsp;one:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;regular_geom&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;geom&lt;/span&gt; &lt;span class="c"&gt;# start with the last geometry in the layer&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;geometry&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;geoms&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;regular_geom&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QgsGeometry&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;regular_geom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;combine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;geometry&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;end&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Secondly, using cascaded union, which uses magic to combine geometries together
more efficiently. Also requires fewer lines of&amp;nbsp;code!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;cascaded_geom&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;geom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;combineCascaded&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;geoms&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;end&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;When I tested this last night on the &lt;code&gt;grassland.shp&lt;/code&gt; layer from the
&lt;a href="http://www.qgis.org/en/download/sample-data.html"&gt;&lt;span class="caps"&gt;QGIS&lt;/span&gt; sample dataset&lt;/a&gt; the results were about &lt;strong&gt;86.89&lt;/strong&gt; seconds for the
&amp;#8216;old&amp;#8217; method, and &lt;strong&gt;6.14&lt;/strong&gt; seconds for the cascaded union method. That&amp;#8217;s
a &lt;strong&gt;14.15&lt;/strong&gt; times speedup on a relatively small layer (about 143
features of varying complexity)! I&amp;#8217;ve tested the function on both
poylgons and lines so far, and it appears to work quite nicely.
Eventually I&amp;#8217;ll add this to the official &lt;span class="caps"&gt;QGIS&lt;/span&gt; &lt;span class="caps"&gt;API&lt;/span&gt; so that others can
take advantage of the speedup. Additionally, the other fTools functions
which rely to some degree on unioning will also benefit from the extra
speed, which is always a good&amp;nbsp;thing.&lt;/p&gt;</summary><category term="C++"></category><category term="geoprocessing"></category><category term="Python"></category><category term="QGIS"></category><category term="Free open-source software (FOSS)"></category><category term="Geographic information science/systems (GIS)"></category></entry><entry><title>QGIS developer meeting update</title><link href="http://www.carsonfarmer.com/2009/11/qgis-developer-meeting-update/" rel="alternate"></link><updated>2009-11-11T17:33:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-11-11:2009/11/qgis-developer-meeting-update/</id><summary type="html">&lt;p&gt;Last week I attended the 2009 &lt;span class="caps"&gt;QGIS&lt;/span&gt; Developers Meeting in Vienna,
Austria. We all had a really good time, &lt;a href="http://blog.qgis.org/node/139"&gt;met many new people&lt;/a&gt;, and
actually got a lot done in the process. There have been updates about
the meeting &lt;a href="http://qgis.org/en/developer-meeting.html"&gt;(hackfest)&lt;/a&gt; on the &lt;span class="caps"&gt;QGIS&lt;/span&gt; blog, and Tim Sutton has &lt;a href="http://linfiniti.com/2009/11/report-back-on-the-qgis-hackfest-in-vienna-november-2009/"&gt;written
a few words&lt;/a&gt; about our progress as well. I&amp;#8217;m not going to repeat what
others have said, but I &lt;em&gt;would&lt;/em&gt; like to give a quick update on the work
that I was doing at the meeting, and show off the new geoprocessing
features now available to all &lt;span class="caps"&gt;QGIS&lt;/span&gt; developers (Python and C++).
&lt;/p&gt;
&lt;p&gt;My main goal for the meeting was to start/continue work on the new
&amp;#8216;Analysis Library&amp;#8217; for &lt;span class="caps"&gt;QGIS&lt;/span&gt;. Basically, this was intended to be a port
(to C++ from Python) of the &lt;a href="http://www.ftools.ca/"&gt;fTools&lt;/a&gt; suite of tools already available
in &lt;span class="caps"&gt;QGIS&lt;/span&gt;. These tools currently provide geoprocessing, geometry, and
various other analysis functionality natively within &lt;span class="caps"&gt;QGIS&lt;/span&gt;. However, the
Python implementation is simply a Python plugin, and so does not provide
these functions to other developers hoping use/add geoprocessing
capabilities to their own plugins or tools. In addition, in some cases
the Python fTools functions can be quite slow, and would benefit greatly
from the speed-ups afforded by a compiled language like&amp;nbsp;C++.&lt;/p&gt;
&lt;p&gt;Porting these functions to C++ is still underway, and so far we have
implementations for buffering, dissolving, centroids, convex hulls,
layer extents in the QgsGeometryAnalyzer class, and intersections in the
QgsOverlayAnalyzer class. We have set it up so that it should be
relatively easy to add functions and classes to the library in the
future, though I expect there will be many changes to the library along
the way. We have also created Python bindings for the library, so these
functions will also be available to Python developers. By doing so, it
is now extremely easy to perform geoprocessing functions directly from
the &lt;span class="caps"&gt;QGIS&lt;/span&gt; Python console, or from &lt;span class="caps"&gt;QGIS&lt;/span&gt; Python plugins, with only a few
lines of&amp;nbsp;code.&lt;/p&gt;
&lt;h3&gt;The old&amp;nbsp;way&lt;/h3&gt;
&lt;p&gt;In the past, Python developers had to operate directly on the
geometries of the layers in order to do any sort of geoprocessing. For
example, to perform a (very) simple buffer, one had to use the following
code in the &lt;span class="caps"&gt;QGIS&lt;/span&gt; Python&amp;nbsp;console:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;qgis.core&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;iface&lt;/span&gt;
&lt;span class="n"&gt;mc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;iface&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mapCanvas&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# get a reference to the map canvas&lt;/span&gt;
&lt;span class="n"&gt;layer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# get a reference to the first layer in the layer list&lt;/span&gt;
&lt;span class="n"&gt;provider&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;layer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dataProvider&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# data provider for the layer&lt;/span&gt;
&lt;span class="n"&gt;provider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;select&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;layer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pendingAllAttributesList&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;QgsRectangle&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# select features to buffer&lt;/span&gt;
&lt;span class="n"&gt;in_feat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QgsFeature&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# empty input feature&lt;/span&gt;
&lt;span class="n"&gt;out_feat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QgsFeature&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# empty output feature&lt;/span&gt;
&lt;span class="n"&gt;writer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QgsVectorFileWriter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;output_path.shp&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;provider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;encoding&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;provider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fields&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; 
&lt;span class="n"&gt;QGis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;WKBPolygon&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;provider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;crs&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# use this to write results to disk (as shapefile)&lt;/span&gt;
&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;provider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nextFeature&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;feat&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt; &lt;span class="c"&gt;# for each feature that we selected...&lt;/span&gt;
    &lt;span class="n"&gt;geometry&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;feat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;geometry&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# grab it&amp;#39;s geometry&lt;/span&gt;
    &lt;span class="nb"&gt;buffer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;geometry&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# buffer the geometry&lt;/span&gt;
    &lt;span class="n"&gt;out_feat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setAttributeMap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;in_feat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attributeMap&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="c"&gt;# set the attributes for the output feature&lt;/span&gt;
    &lt;span class="n"&gt;out_feat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setGeometry&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# set the bufer as the output geometry&lt;/span&gt;
    &lt;span class="n"&gt;writer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;addFeature&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;out_feat&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# write the feature to file&lt;/span&gt;
&lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="n"&gt;writer&lt;/span&gt; &lt;span class="c"&gt;# delete/close the writer to save to disk&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;The new&amp;nbsp;way&lt;/h3&gt;
&lt;p&gt;With the new &lt;span class="caps"&gt;QGIS&lt;/span&gt; Analysis Library, things are much simpler, and the
same (or more complex) buffering example can be completed with only 5
lines of code in the &lt;span class="caps"&gt;QGIS&lt;/span&gt; Python&amp;nbsp;Console:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;qgis.core&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;iface&lt;/span&gt; &lt;span class="c"&gt;# import iface (interface)&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;qgis.analysis&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;QgsGeometryAnalyzer&lt;/span&gt; &lt;span class="c"&gt;# import (par of) the analysis library&lt;/span&gt;
&lt;span class="n"&gt;mc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;iface&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mapCanvas&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c"&gt;# get a reference to the map canvas&lt;/span&gt;
&lt;span class="n"&gt;layer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mc&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;layer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# get a reference to the first layer in the layer list&lt;/span&gt;
&lt;span class="n"&gt;QgsGeometryAnalyzer&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;layer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;output_path.shp&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# perform the buffer&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note: only the first two parameters in the buffer function are really
required, and the additional parameters control the buffer distance,
whether to use a subset (selected features) of the layer, whether to
dissolve the output buffer regions, and whether to use a field (field
&lt;span class="caps"&gt;ID&lt;/span&gt;) from the input layer&amp;#8217;s attribute table as the buffer&amp;nbsp;distance.&lt;/p&gt;
&lt;p&gt;Pretty nice eh? For now, the &lt;span class="caps"&gt;QGIS&lt;/span&gt; Analysis Library is only available in
Trunk, however, before long these tools should be available as part of
the official releases, so I hope we will start to see more Plugins
taking advantage of these new capabilities in the&amp;nbsp;future&amp;#8230;&lt;/p&gt;</summary><category term="C++"></category><category term="geoprocessing"></category><category term="Python"></category><category term="QGIS"></category><category term="Free open-source software (FOSS)"></category><category term="Geographic information science/systems (GIS)"></category><category term="Helpful tips"></category><category term="How to"></category></entry><entry><title>Community structure in directed, weighted networks</title><link href="http://www.carsonfarmer.com/2009/10/community-structure-in-directed-weighted-networks/" rel="alternate"></link><updated>2009-10-20T16:24:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-10-20:2009/10/community-structure-in-directed-weighted-networks/</id><summary type="html">&lt;p&gt;Many natural and human systems can be represented as networks, including
the Internet, social interactions, food webs, and transportation and
communication flows. One thing that these types of networks have in
common, is that they can each be represented as a series of vertices (or
nodes) and edges (or links). This &lt;a href="http://toreopsahl.com/2008/11/28/network-weighted-network/"&gt;blog entry&lt;/a&gt; presents a nice
description of networks, highlighting the differences between various
network types (directed, undirected, weighted, unweighted, etc.).
&lt;/p&gt;
&lt;p&gt;According to &lt;a href="http://arxiv.org/abs/0709.4500"&gt;this paper&lt;/a&gt;, many
networks are found to display &amp;#8220;community structure&amp;#8221;, which basically
refers to groupings of vertices where &lt;em&gt;within&lt;/em&gt;-group edge connections
are more dense than &lt;em&gt;between&lt;/em&gt;-group edge connections. In order to detect
and delineate these groupings, &lt;a href="http://arxiv.org/abs/0709.4500"&gt;Leicht &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Newman (2008)&lt;/a&gt; present a nice &amp;#8220;modularity&amp;#8221; optimisation algorithm which is
designed to find a &amp;#8220;good&amp;#8221; division of a network by&amp;nbsp;maximising&lt;/p&gt;
&lt;p&gt;$$Q =&amp;nbsp;\frac{1}{2m}s^TB_s,$$&lt;/p&gt;
&lt;p&gt;where $s$ is a vector whose elements define which group each node
belongs to, and $\mathbf{B}$ is the so-called modularity matrix, with&amp;nbsp;elements&lt;/p&gt;
&lt;p&gt;$$B_{ij} = A_{ij} - \frac{k_{i}^{in}&amp;nbsp;k_{j}^{out}}{m},$$&lt;/p&gt;
&lt;p&gt;where $A_{ij}$ is an element in the adjacency matrix $\mathbf{A}$, $k_{i}^{in}$
and $k_{j}^{out}$ are the in- and out-degrees of the vertices, and $m$ is
the total sum of edges in the network. In practice, this can be extended
to directed networks by considering the matrix $\mathbf{B} + \mathbf{B}^T$ (for an
explanation of why this is the case, see &lt;a href="http://arxiv.org/abs/0709.4500"&gt;Leicht &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Newman&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;It is relatively straight-forward to extend the above modularity
optimisation algorithm to the case of a weighted network by computing
the modularity matrix using the in- and out-&lt;em&gt;strength&lt;/em&gt;(see link to blog
post above) of the vertices instead of the degree. This is similar to
the concept presented in &lt;a href="http://arxiv.org/abs/cond-mat/0407503"&gt;Newman (2004)&lt;/a&gt;, and indeed the
theory of the modularity algorithm holds for this more general case
(note that an unweighted network can simply be represented as a weighted
network where the edge weights are all set to 1). As such, our new
modularity matrix can be computed&amp;nbsp;as&lt;/p&gt;
&lt;p&gt;$$B_{ij} = A_{ij} - \frac{s_{i}^{in}&amp;nbsp;s_{j}^{out}}{m},$$&lt;/p&gt;
&lt;p&gt;where $m = \sum_{i}s_{i}^{in} = \sum_{j} s_j^{out}$, and $s$ represents the vertex
strength. As such, using the above &lt;em&gt;new&lt;/em&gt; definition of $\mathbf{B}$, the
modularity of a directed, weighted network is computed&amp;nbsp;as&lt;/p&gt;
&lt;p&gt;$$Q =&amp;nbsp;\frac{1}{4m}s^{T}(\mathbf{B}-\mathbf{B}^{T})s.$$&lt;/p&gt;
&lt;p&gt;My current research uses a modified modularity optimisation algorithm to
compute &lt;a href="http://en.wikipedia.org/wiki/Functional_region"&gt;functional regions&lt;/a&gt; for Ireland based on a range of
socio-economic variables. The goal is to provide a consistent framework
for computing functional regions which are comparable across different
countries and/or&amp;nbsp;regions.&lt;/p&gt;
&lt;p&gt;C&lt;/p&gt;
&lt;h3&gt;References&lt;/h3&gt;
&lt;p&gt;Leicht, &lt;span class="caps"&gt;E. A.&lt;/span&gt; &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Newman, &lt;span class="caps"&gt;M. E. J.&lt;/span&gt;(2008). &lt;a href="http://arxiv.org/abs/0709.4500"&gt;Community structure in directed networks&lt;/a&gt;.
&lt;em&gt;Physical Review Letters&lt;/em&gt;, 100(11),&amp;nbsp;118703.&lt;/p&gt;
&lt;p&gt;Newman, &lt;span class="caps"&gt;M. E. J.&lt;/span&gt;(2004). &lt;a href="http://arxiv.org/abs/cond-mat/0407503"&gt;Analysis of weighted networks&lt;/a&gt;. &lt;em&gt;Physical Review E&lt;/em&gt;, 70(5),&amp;nbsp;056131.&lt;/p&gt;</summary><category term="Community structure"></category><category term="Directed"></category><category term="Modularity"></category><category term="Networks"></category><category term="Weighted"></category><category term="Helpful tips"></category><category term="Research"></category></entry><entry><title>Canadian Geographer paper published</title><link href="http://www.carsonfarmer.com/2009/10/canadian-geographer-paper-published/" rel="alternate"></link><updated>2009-10-12T12:32:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-10-12:2009/10/canadian-geographer-paper-published/</id><summary type="html">&lt;p&gt;My article &amp;#8220;Spatial-temporal patterns of snow cover in western Canada&amp;#8221;,
has now been &lt;a href="http://www3.interscience.wiley.com/journal/122636489/abstract"&gt;published on-line&lt;/a&gt; with &lt;a href="http://www.wiley.com/bw/journal.asp?ref=0008-3658"&gt;The Canadian Geographer&lt;/a&gt;.
&lt;strike&gt;At this stage, only the proof copy is available online.&lt;/strike&gt;
The article is now officially published, and can be cited&amp;nbsp;as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Farmer, &lt;span class="caps"&gt;C. J.&lt;/span&gt; Q., Nelson, T. A., Wulder, &lt;span class="caps"&gt;M.A.&lt;/span&gt; and Derksen, C. (2009).
Spatial-temporal patterns of snow cover in western Canada, &lt;em&gt;Canadian
Geographer&lt;/em&gt;, 53 (4):&amp;nbsp;473-487.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you would like a copy, but do not have access to the article, please
email me and I can forward you a &lt;span class="caps"&gt;PDF&lt;/span&gt;&amp;nbsp;version.&lt;/p&gt;
&lt;p&gt;C&lt;/p&gt;</summary><category term="Canadian Geographer"></category><category term="Publication"></category><category term="Research"></category><category term="Announcement"></category></entry><entry><title>Remote Sensing of Environment paper published</title><link href="http://www.carsonfarmer.com/2009/10/remote-sensing-of-environment-paper-published/" rel="alternate"></link><updated>2009-10-06T13:30:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-10-06:2009/10/remote-sensing-of-environment-paper-published/</id><summary type="html">&lt;p&gt;My latest article, &amp;#8220;Identification of snow cover regimes through spatial
and temporal clustering of satellite microwave brightness temperatures&amp;#8221;,
has recently been &lt;a href="http://dx.doi.org/10.1016/j.rse.2009.09.002"&gt;published on-line&lt;/a&gt;, with the journal&lt;a href="http://www.sciencedirect.com/science/journal/00344257"&gt;Remote Sensing
of Environment&lt;/a&gt;. &lt;strike&gt;For now,&lt;/strike&gt;
&lt;span class="caps"&gt;UPDATE&lt;/span&gt;: The article can be cited&amp;nbsp;as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Farmer, &lt;span class="caps"&gt;C. J.&lt;/span&gt; Q., Nelson, T. A., Wulder, &lt;span class="caps"&gt;M.A.&lt;/span&gt; and Derksen, C. (2010).
Identiﬁcation of snow cover regimes through spatial and temporal
clustering of satellite microwave brightness temperatures, &lt;em&gt;Remote
Sensing of Environment&lt;/em&gt;, 114 (1):&amp;nbsp;199-210.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you would like a copy, but do not have access to the article, please
email me and I can forward you a &lt;span class="caps"&gt;PDF&lt;/span&gt;&amp;nbsp;version.&lt;/p&gt;</summary><category term="Publication"></category><category term="Remote sensing"></category><category term="SWE"></category><category term="Announcement"></category><category term="Geographic information science/systems (GIS)"></category></entry><entry><title>Introduction to Open Source Geospatial Software</title><link href="http://www.carsonfarmer.com/2009/09/introduction-to-open-source-geospatial-software/" rel="alternate"></link><updated>2009-09-25T10:48:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-09-25:2009/09/introduction-to-open-source-geospatial-software/</id><summary type="html">&lt;p&gt;Announcing an opportunity to learn about the leading edge free and
open-source technologies for desktop and web-based mapping and data
analysis. This is a two day Masterclass focusing on introducing
participants to the wonderful world of open source geospatial software.
Check out the &lt;a href="http://shortcourses.maths.lancs.ac.uk/geospatial"&gt;announcement&lt;/a&gt; from the Postgraduate Statistics Centre
at Lancaster&amp;nbsp;University.&lt;/p&gt;</summary><category term="Free open-source software (FOSS)"></category><category term="Masterclass"></category><category term="Geographic information science/systems (GIS)"></category></entry><entry><title>Voronoi polygons with R</title><link href="http://www.carsonfarmer.com/2009/09/voronoi-polygons-with-r/" rel="alternate"></link><updated>2009-09-16T22:30:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-09-16:2009/09/voronoi-polygons-with-r/</id><summary type="html">&lt;p&gt;To create a nice bounded Voronoi polygons tessellation of a point layer
in &lt;code&gt;R&lt;/code&gt;, we need two libraries: &lt;code&gt;sp&lt;/code&gt; and &lt;code&gt;deldir&lt;/code&gt;. The following function
takes a &lt;code&gt;SpatialPointsDataFrame&lt;/code&gt; as input, and returns a
&lt;code&gt;SpatialPolygonsDataFrame&lt;/code&gt; that represents the Voronoi tessellation of
the input point layer.
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;voronoipolygons &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kr"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;layer&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    require&lt;span class="p"&gt;(&lt;/span&gt;deldir&lt;span class="p"&gt;)&lt;/span&gt;
    crds &lt;span class="o"&gt;=&lt;/span&gt; layer&lt;span class="o"&gt;@&lt;/span&gt;coords
    z &lt;span class="o"&gt;=&lt;/span&gt; deldir&lt;span class="p"&gt;(&lt;/span&gt;crds&lt;span class="p"&gt;[,&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; crds&lt;span class="p"&gt;[,&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    w &lt;span class="o"&gt;=&lt;/span&gt; tile.list&lt;span class="p"&gt;(&lt;/span&gt;z&lt;span class="p"&gt;)&lt;/span&gt;
    polys &lt;span class="o"&gt;=&lt;/span&gt; vector&lt;span class="p"&gt;(&lt;/span&gt;mode&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;list&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; length&lt;span class="o"&gt;=&lt;/span&gt;length&lt;span class="p"&gt;(&lt;/span&gt;w&lt;span class="p"&gt;))&lt;/span&gt;
    require&lt;span class="p"&gt;(&lt;/span&gt;sp&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="kr"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;i &lt;span class="kr"&gt;in&lt;/span&gt; seq&lt;span class="p"&gt;(&lt;/span&gt;along&lt;span class="o"&gt;=&lt;/span&gt;polys&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        pcrds &lt;span class="o"&gt;=&lt;/span&gt; cbind&lt;span class="p"&gt;(&lt;/span&gt;w&lt;span class="p"&gt;[[&lt;/span&gt;i&lt;span class="p"&gt;]]&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;x&lt;span class="p"&gt;,&lt;/span&gt; w&lt;span class="p"&gt;[[&lt;/span&gt;i&lt;span class="p"&gt;]]&lt;/span&gt;&lt;span class="o"&gt;$&lt;/span&gt;y&lt;span class="p"&gt;)&lt;/span&gt;
        pcrds &lt;span class="o"&gt;=&lt;/span&gt; rbind&lt;span class="p"&gt;(&lt;/span&gt;pcrds&lt;span class="p"&gt;,&lt;/span&gt; pcrds&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,])&lt;/span&gt;
        polys&lt;span class="p"&gt;[[&lt;/span&gt;i&lt;span class="p"&gt;]]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; Polygons&lt;span class="p"&gt;(&lt;/span&gt;list&lt;span class="p"&gt;(&lt;/span&gt;Polygon&lt;span class="p"&gt;(&lt;/span&gt;pcrds&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="caps"&gt;ID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;as.character&lt;span class="p"&gt;(&lt;/span&gt;i&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="caps"&gt;SP&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; SpatialPolygons&lt;span class="p"&gt;(&lt;/span&gt;polys&lt;span class="p"&gt;)&lt;/span&gt;
    voronoi &lt;span class="o"&gt;=&lt;/span&gt; SpatialPolygonsDataFrame&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="caps"&gt;SP&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; data&lt;span class="o"&gt;=&lt;/span&gt;data.frame&lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="o"&gt;=&lt;/span&gt;crds&lt;span class="p"&gt;[,&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; 
        y&lt;span class="o"&gt;=&lt;/span&gt;crds&lt;span class="p"&gt;[,&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; row.names&lt;span class="o"&gt;=&lt;/span&gt;sapply&lt;span class="p"&gt;(&lt;/span&gt;slot&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="caps"&gt;SP&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;polygons&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; 
        &lt;span class="kr"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="p"&gt;)&lt;/span&gt; slot&lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;&lt;span class="caps"&gt;ID&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))))&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To save the output to shapefile, simply use&lt;code&gt;writeOGR&lt;/code&gt; from the &lt;code&gt;rgdal&lt;/code&gt;
library:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;library&lt;span class="p"&gt;(&lt;/span&gt;rgdal&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;?&lt;/span&gt;writeOGR
&lt;/pre&gt;&lt;/div&gt;</summary><category term="R"></category><category term="Tesselation"></category><category term="Voronoi polygons"></category><category term="Free open-source software (FOSS)"></category><category term="How to"></category><category term="R spatial"></category></entry><entry><title>Journal of Spatial Information Science</title><link href="http://www.carsonfarmer.com/2009/09/journal-of-spatial-information-science/" rel="alternate"></link><updated>2009-09-10T11:19:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-09-10:2009/09/journal-of-spatial-information-science/</id><summary type="html">&lt;p&gt;Check out the &lt;a href="http://josis.org/index.php/josis/index"&gt;Journal of Spatial Information Science&lt;/a&gt;, a new,
peer-reviewed, open-access journal with a range of well established
geospatial academics on the editorial board.
&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The Journal of Spatial Information Science (&lt;span class="caps"&gt;JOSIS&lt;/span&gt;) is an
international, interdisciplinary, open-access journal dedicated to
publishing high-quality, original research articles in spatial
information science. The journal aims to publish research spanning the
theoretical foundations of spatial and geographical information
science, through computation with geospatial information, to
technologies for geographical information&amp;nbsp;use.&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;JOSIS&lt;/span&gt; is run as a service to the geographic information science
community, supported entirely through the efforts of volunteers. &lt;span class="caps"&gt;JOSIS&lt;/span&gt;
does not aim to profit from the articles published in the journal,
which are open&amp;nbsp;access.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Since it&amp;#8217;s run entirely by volunteers, they provide a link to &lt;a href="http://josis.org/index.php/josis/user/register"&gt;become
involved&lt;/a&gt; as a reader, reviewer, or&amp;nbsp;author.&lt;/p&gt;
&lt;p&gt;Thanks to &lt;a href="http://www.le.ac.uk/geography/staff/academic_brunsdon.html"&gt;Professor Chris Brunsdon&lt;/a&gt; for the&amp;nbsp;heads-up!&lt;/p&gt;</summary><category term="Journal"></category><category term="Open-access"></category><category term="Peer-review"></category><category term="Spatial information analysis"></category><category term="Geographic information science/systems (GIS)"></category></entry><entry><title>Python, Matlab, and R</title><link href="http://www.carsonfarmer.com/2009/08/python-matlab-and-r/" rel="alternate"></link><updated>2009-08-12T15:29:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-08-12:2009/08/python-matlab-and-r/</id><summary type="html">&lt;p&gt;One project I&amp;#8217;m working on at the moment involves exploring a dynamic
extension of the Isomap algorithm for visualising constantly varying
real-world road networks. Currently, we are testing out the method on a
small scale simulated road network, and most of the original code
(written by &lt;a href="http://ticc.uvt.nl/~lvdrmaaten/Laurens_van_der_Maaten/Home.html"&gt;Laurens van der Maaten&lt;/a&gt;, with updates by &lt;a href="http://ncg.nuim.ie/ncg/people/staff/pozdnoukhov/index.shtml"&gt;Alexei
Pozdnoukhov&lt;/a&gt;), was done in Matlab. Since this work is eventually going
to have to run on relatively large datasets, and probably behind the
scenes on a server somewhere, we decided that Python was the way to go.
The goal therefore was to reproduce the Matlab code using only Python
libraries, and the fewer additional libraries required, the better.
&lt;/p&gt;
&lt;p&gt;The most difficult stage in all this was to convert the Matlab code to
Python code, while still remaining relatively fast and simple. The
solution is of course the NumPy Python library, and nothing could have
made this conversion more simple than this &lt;a href="http://www.carsonfarmer.com/static/uploads/matlab-python-xref.pdf"&gt;pdf document&lt;/a&gt;. It is
basically a syntax conversion chart between Matlab/Octave, Python, and
R&amp;#8230;&amp;nbsp;brilliant!&lt;/p&gt;
&lt;p&gt;Check out Vidar Bronken Gundersen&amp;#8217;s &lt;a href="http://mathesaurus.sourceforge.net/"&gt;Mathesaurus&lt;/a&gt; site for this, and
other useful resources for converting between different mathematical
computation&amp;nbsp;environments.&lt;/p&gt;</summary><category term="Matlab"></category><category term="Python"></category><category term="R"></category><category term="Free open-source software (FOSS)"></category></entry><entry><title>FOSS4G and teaching GIS</title><link href="http://www.carsonfarmer.com/2009/07/foss4g-and-teaching-gis/" rel="alternate"></link><updated>2009-07-20T10:45:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-07-20:2009/07/foss4g-and-teaching-gis/</id><summary type="html">&lt;p&gt;Two quicks notes to&amp;nbsp;share:&lt;/p&gt;
&lt;p&gt;Firstly, please check out this &lt;a href="http://linfiniti.com/dla/"&gt;excellent introduction to &lt;span class="caps"&gt;GIS&lt;/span&gt;&lt;/a&gt; by Tim
Sutton, Otto Dassau, and Marcelle Sutton in partnership with the Chief
Directorate for Spatial Planning &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt; Information, Department of Land
Affairs, Eastern Cape, South Africa, and the Spatial Information
Management Unit, Office of the Premier, Eastern Cape, South Africa. They
use &lt;span class="caps"&gt;QGIS&lt;/span&gt; to present some basic &lt;span class="caps"&gt;GIS&lt;/span&gt; concepts and skills, and I
particularly like their section on Coordinate Reference&amp;nbsp;Systems.&lt;/p&gt;
&lt;p&gt;Secondly, don&amp;#8217;t forget to checkout the &lt;a href="http://2009.foss4g.org/"&gt;&lt;span class="caps"&gt;FOSS4G&lt;/span&gt; 2009 Free and open source
software for geospatial&lt;/a&gt; conference in Sydney in October. There will
be loads of excellent presentations and exhibitors, and the atmosphere
is always very cool. I will be presenting &lt;a href="http://www.ftools.ca/plugins.html"&gt;some software&lt;/a&gt; that I&amp;#8217;ve
been developing for a while now, and will hopefully get a chance to
represent &lt;a href="http://www.qgis.org/"&gt;&lt;span class="caps"&gt;QGIS&lt;/span&gt;&lt;/a&gt; there as&amp;nbsp;well!&lt;/p&gt;</summary><category term="Conference"></category><category term="GIS"></category><category term="Teaching"></category><category term="Free open-source software (FOSS)"></category></entry><entry><title>‘Watch’ long running processes</title><link href="http://www.carsonfarmer.com/2009/07/keep-an-eye-on-long-running-processes/" rel="alternate"></link><updated>2009-07-08T12:23:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-07-08:2009/07/keep-an-eye-on-long-running-processes/</id><summary type="html">&lt;p&gt;The other day I was loading a shapefile of approximately 11 million
records into a PostGIS database (stay tuned for more on that later) and
I wanted to know when shp2pgsql was done. Instead of continually
checking the console, I decided to &amp;#8216;watch&amp;#8217; the process using the *nix
command &lt;code&gt;watch&lt;/code&gt;. I discovered this handy tool a while ago, and have
found that for long running processes, I can use &lt;code&gt;watch&lt;/code&gt; to notify me
when the process has finished, using the following&amp;nbsp;command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;watch -ben 1 &lt;span class="s2"&gt;&amp;quot;ps u -C shp2pgsql&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;




&lt;p&gt;In this case, the three parameters &lt;code&gt;b&lt;/code&gt;, &lt;code&gt;e&lt;/code&gt;, and &lt;code&gt;n&lt;/code&gt; tell &lt;code&gt;watch&lt;/code&gt; to
&lt;code&gt;[b]&lt;/code&gt;eep if the command has a non-zero exit (in this case when &lt;code&gt;shp2pgsql&lt;/code&gt;
is no longer running), &lt;code&gt;[e]&lt;/code&gt;xit watch if the command has a non-zero exit
(again when &lt;code&gt;shp2pgsql&lt;/code&gt; is done), and the i&lt;code&gt;[n]&lt;/code&gt;terval (in seconds) to wait
between updates (in this case 1 second). The rest of the command,
&lt;code&gt;ps u -C&lt;/code&gt; is the command that &lt;code&gt;watch&lt;/code&gt; runs each second. In this case, it
uses &lt;code&gt;ps&lt;/code&gt; to report info on the running process, where the &lt;code&gt;-C&lt;/code&gt; flag
tells &lt;code&gt;ps&lt;/code&gt; to report the process matching the name &lt;code&gt;"shp2pgsql"&lt;/code&gt;. When
&lt;code&gt;shp2pgsql&lt;/code&gt; is no longer running, &lt;code&gt;ps u -C&lt;/code&gt; will have a non-zero exit,
and I get my beep: very handy!
This can be made even more useful by changing the above command&amp;nbsp;to:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;watch -ben 1 &lt;span class="s2"&gt;&amp;quot;ps u -C shp2pgsql&amp;quot;&lt;/span&gt;; mail -s &lt;span class="s2"&gt;&amp;quot;Process complete!&amp;quot;&lt;/span&gt; email.address@some.one &amp;lt; /home/username/email_text.txt
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here I&amp;#8217;ve added the &lt;code&gt;mail&lt;/code&gt; command to send me an email when &lt;code&gt;watch&lt;/code&gt;
exits (the &amp;#8216;;&amp;#8217; simply allows me to have two commands on one line). If
you&amp;#8217;re really smart, you could probably have &lt;code&gt;watch&lt;/code&gt; save important info
about the running process to a file and send this with the email, but
for my purposes, the above works just&amp;nbsp;fine.&lt;/p&gt;
&lt;p&gt;The next step is figuring out how to make my computer text me when a
long process is complete&amp;#8230; and thanks to &lt;a href="https://twitter.com/w_dowling"&gt;Will&lt;/a&gt;, I may be &lt;a href="http://o2sms.sourceforge.net/"&gt;one step
closer&lt;/a&gt; to this&amp;nbsp;goal.&lt;/p&gt;</summary><category term="long running"></category><category term="PostGIS"></category><category term="watch"></category><category term="Free open-source software (FOSS)"></category><category term="How to"></category><category term="Linux"></category></entry><entry><title>Syntax highlighting with PyQt</title><link href="http://www.carsonfarmer.com/2009/07/syntax-highlighting-with-pyqt/" rel="alternate"></link><updated>2009-07-02T15:28:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-07-02:2009/07/syntax-highlighting-with-pyqt/</id><summary type="html">&lt;p&gt;A few months ago I decided to add syntax highlighting capabilities to a
&lt;a href="http://www.ftools.ca/plugins.html"&gt;piece of software&lt;/a&gt; that I have been working on. Since it is a PyQt
based application, the obvious choice for implementing syntax
highlighting was to use Qt&amp;#8217;s QSyntaxHighlighter. Unfortunately, there
weren&amp;#8217;t many examples around that implemented syntax highlighting in
Python, so I decided to post my own.
&lt;/p&gt;
&lt;p&gt;The Python file used in this example is &lt;a href="http://www.carsonfarmer.com/static/uploads/highlighter.py"&gt;available here&lt;/a&gt;.
To implement syntax highlighting, we need to subclass
QSyntaxHighlighter, reimplement the &lt;code&gt;highlightBlock&lt;/code&gt; function, and
specify several highlighting rules. Generally, a rule consists of a
QRegExp pattern and a QTextCharFormat instance. For this example, the
syntax rules are based on the R statistical programming language. The
various rules can be stored using a Python&amp;nbsp;list.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;PyQt4.QtGui&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;PyQt4.QtCore&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;MyHighlighter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;QSyntaxHighlighter&lt;/span&gt; &lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;parent&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;theme&lt;/span&gt; &lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;QSyntaxHighlighter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;parent&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parent&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;parent&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;highlightingRules&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;

        &lt;span class="n"&gt;keyword&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QTextCharFormat&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;keyword&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setForeground&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;Qt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;darkBlue&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;keyword&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setFontWeight&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;QFont&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Bold&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;keywords&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QStringList&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;break&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;else&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;for&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;if&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;in&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                  &lt;span class="s"&gt;&amp;quot;next&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;repeat&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;return&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;switch&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                  &lt;span class="s"&gt;&amp;quot;try&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;while&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;keywords&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QRegExp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s"&gt;b&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s"&gt;b&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HighlightingRule&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;keyword&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;highlightingRules&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;MyHighlighter&lt;/code&gt; is the subclassed &lt;code&gt;QSyntaxHighlighter&lt;/code&gt; class, and will
contain our reimplemented &lt;code&gt;highlightBlock&lt;/code&gt; function. The above example
is for the &lt;code&gt;keyword&lt;/code&gt; rule, which recognizes the most common R keywords.
We give &lt;code&gt;keyword&lt;/code&gt; a bold, dark blue font. For each keyword, we assign
the keyword and the specified format to a &lt;code&gt;HighlightingRule&lt;/code&gt; object (see
the attached Python file) and append the object to our list of rules.
We can specify further syntax rules, including &lt;code&gt;reservedClasses&lt;/code&gt;,
&lt;code&gt;assignmentOperators&lt;/code&gt;, and &lt;code&gt;numbers&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;reservedClasses&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QTextCharFormat&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;reservedClasses&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setForeground&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;Qt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;darkRed&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;reservedClasses&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setFontWeight&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;QFont&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Bold&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;keywords&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QStringList&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;array&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;character&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;complex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="s"&gt;&amp;quot;data.frame&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;double&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;factor&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="s"&gt;&amp;quot;function&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;integer&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;list&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="s"&gt;&amp;quot;logical&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;matrix&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;numeric&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="s"&gt;&amp;quot;vector&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;keywords&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QRegExp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s"&gt;b&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s"&gt;b&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HighlightingRule&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;reservedClasses&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;highlightingRules&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assignmentOperator&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QTextCharFormat&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QRegExp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;(&amp;lt;){1,2}-&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assignmentOperator&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setForeground&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;Qt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;green&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;assignmentOperator&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setFontWeight&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;QFont&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Bold&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HighlightingRule&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;assignmentOperator&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;highlightingRules&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;number&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QTextCharFormat&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QRegExp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setMinimal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;number&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setForeground&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;Qt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;blue&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HighlightingRule&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;number&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;highlightingRules&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After a QSyntaxHighlighter object is created, its highlightBlock()
function will be called automatically whenever it is necessary by the
rich text engine, highlighting the given text block. To perform the
actual formatting, the QSyntaxHighlighter class provides the &lt;code&gt;setFormat&lt;/code&gt;
function. This function operates on the text block that is passed as
argument to the &lt;code&gt;highlightBlock&lt;/code&gt; function. The specified format is
applied to the text from the given start position for the given length.
The formatting properties set in the given format are merged at display
time with the formatting information stored directly in the&amp;nbsp;document.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;highlightBlock&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;highlightingRules&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;expression&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QRegExp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;rule&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;expression&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;indexIn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;length&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;expression&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;matchedLength&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setFormat&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rule&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;indexOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;expression&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;length&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setCurrentBlockState&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This process is repeated until the last occurrence of the pattern in the
current text block is found. For rules that apply over multiple blocks
or lines, further logic is needed. For an example, see the
&lt;a href="http://doc.trolltech.com/4.2/richtext-syntaxhighlighter.html"&gt;QSynatxHighlighter&lt;/a&gt; documentation.
In order to apply the syntax highlighter to a QTextEdit, we simply
create an instance of our QSyntaxHighlighter subclass, and pass it the
QTextEdit or QTextDocument that we want the syntax highlighting to be
applied to, as the following test application&amp;nbsp;demonstrates:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TestApp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;QMainWindow&lt;/span&gt; &lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;QMainWindow&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;editor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QTextEdit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;highlighter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;MyHighlighter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;editor&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setCentralWidget&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;editor&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setWindowTitle&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Syntax Highlighter Example&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once implemented, the above example produces output like&amp;nbsp;this:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.carsonfarmer.com/static/images/screenshot.png" title="screenshot"&gt;&lt;img alt="image" src="http://www.carsonfarmer.com/static/images/screenshot.png" title="screenshot" /&gt;&lt;/a&gt;&lt;/p&gt;</summary><category term="PyQT"></category><category term="Python"></category><category term="Syntax highlighting"></category><category term="Free open-source software (FOSS)"></category></entry><entry><title>R featured in New York Times</title><link href="http://www.carsonfarmer.com/2009/01/r-featured-in-new-york-times/" rel="alternate"></link><updated>2009-01-28T12:14:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-01-28:2009/01/r-featured-in-new-york-times/</id><summary type="html">&lt;p&gt;I&amp;#8217;m sure everyone has seen this already, but I&amp;#8217;m going to post it
anyway, as I think the more exposure open-source tools get, the better
off we&amp;#8217;ll all&amp;nbsp;be!&lt;/p&gt;
&lt;p&gt;Check out this &lt;a href="http://www.nytimes.com/2009/01/07/technology/business-computing/07program.html?e%3Cbr%20/%3Em" title="Data Analysts Captivated by R’s Power"&gt;New York Times article&lt;/a&gt; which features &lt;code&gt;R&lt;/code&gt;, the
open-source statistical programming language. &lt;code&gt;R&lt;/code&gt; now has quite an
extensive range of &lt;a href="http://cran.r-project.org/web/views/Spatial.html" title="CRAN Task View: Analysis of Spatial Data"&gt;spatial analysis options&lt;/a&gt;, and is the software of
choice for researchers using spatial statistics and geographic
information&amp;nbsp;analysis.&lt;/p&gt;</summary><category term="New York Times"></category><category term="R"></category><category term="Spatial statistics"></category><category term="Free open-source software (FOSS)"></category><category term="R spatial"></category></entry><entry><title>Open up your online maps with OpenStreetMap</title><link href="http://www.carsonfarmer.com/2009/01/open-up-your-web-maps-with-openstreetmap/" rel="alternate"></link><updated>2009-01-26T23:27:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-01-26:2009/01/open-up-your-web-maps-with-openstreetmap/</id><summary type="html">&lt;p&gt;OpenStreetMap (&lt;span class="caps"&gt;OSM&lt;/span&gt;) is a project designed to create and provide free
spatial data (street maps) to anyone and everyone who wants them. It is
based on an open-source &lt;a href="http://wiki.openstreetmap.org/wiki/FAQ#Why_OpenStreetMap.3F" title="OpenStreetMap Philosophy"&gt;philosophy&lt;/a&gt;, and combines wiki-like user
generated data, with &lt;a href="http://www.opengeodata.org/?p=262"&gt;free access&lt;/a&gt;, allowing users to create, edit,
download, and use &lt;span class="caps"&gt;OSM&lt;/span&gt; data to their hearts content. According to the
&lt;a href="http://www.openstreetmap.org/index.html"&gt;&lt;span class="caps"&gt;OSM&lt;/span&gt; website&lt;/a&gt;, &amp;#8220;the project was started because most maps you think of
as free actually have legal or technical restrictions on their use,
holding back people from using them in creative, productive or
unexpected ways.&amp;#8221; There are now tones of websites and open-source
software projects that incorporate &lt;span class="caps"&gt;OSM&lt;/span&gt; data, and the growing popularity
of the site means that the data is only going to get better (more
accurate) and bigger (more data).
&lt;/p&gt;
&lt;p&gt;Essentially, OpenStreetMap contributors go out into the world
with handheld &lt;span class="caps"&gt;GPS&lt;/span&gt; units, and an insatiable need to map everything around
them. They track their own movements down streets and trails, and along
the way they record street names, parks, towns, cities, and other points
of interest (POIs). All these &lt;span class="caps"&gt;GPS&lt;/span&gt; tracks can be uploaded into the &lt;span class="caps"&gt;OSM&lt;/span&gt;
database, along with place names, street names, and any other pertinent
information (type of road, and/or road intersections). All the while,
others can do the same thing, in the same area, adjusting the same data,
making more and more accurate maps of the&amp;nbsp;region.&lt;/p&gt;
&lt;p&gt;If all this free data isn&amp;#8217;t enough, &lt;span class="caps"&gt;OSM&lt;/span&gt; also processes the uploaded
data, and produces detailed street-level maps which are freely available
for publishing on websites. If fact, in 5 simple steps, you too can have
a beautiful &lt;span class="caps"&gt;OSM&lt;/span&gt; powered map on your&amp;nbsp;website.&lt;/p&gt;
&lt;h3&gt;How to put an OpenStreetMap on your own&amp;nbsp;site&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Browse the OpenStreetMap and find the area you want to map, using
   the zoom tools to zoom right in to your area of&amp;nbsp;interest.&lt;/li&gt;
&lt;li&gt;Select the export&amp;nbsp;tab.&lt;/li&gt;
&lt;li&gt;When choosing the export format, select &amp;#8220;Embeddable&amp;nbsp;&lt;span class="caps"&gt;HTML&lt;/span&gt;&amp;#8221;.&lt;/li&gt;
&lt;li&gt;If you want, pop in a marker symbol so everyone knows where to&amp;nbsp;look&amp;#8230;&lt;/li&gt;
&lt;li&gt;Copy the provided &lt;span class="caps"&gt;HTML&lt;/span&gt; code, and paste into your site wherever you want the map to show&amp;nbsp;up.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For an example, check out &lt;a href="/contact"&gt;my contact page&lt;/a&gt;. As you can see, &lt;strike&gt;there
aren&amp;#8217;t a lot of people collecting data in Maynooth&amp;#8230;&lt;/strike&gt;, recent work in
Maynooth has created an extremely rich, usable, and downright decent map
of Maynooth. Nice work Blazej&amp;nbsp;Ciepluch!&lt;/p&gt;</summary><category term="Online Maps"></category><category term="Open-access"></category><category term="Open-source"></category><category term="OpenStreetMap"></category><category term="Geographic information science/systems (GIS)"></category></entry><entry><title>Understanding spatial reference systems</title><link href="http://www.carsonfarmer.com/2009/01/understanding-spatial-reference-systems/" rel="alternate"></link><updated>2009-01-12T15:31:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2009-01-12:2009/01/understanding-spatial-reference-systems/</id><summary type="html">&lt;p&gt;For those of you who are still unclear about what exactly a spatial
reference system is, how it is used, and what it means for your data, I
found a pretty good quick guide to &lt;a href="http://www.sharpgis.net/post/2007/05/05/Spatial-references2c-coordinate-systems2c-projections2c-datums2c-ellipsoids-e28093-confusing.aspx"&gt;spatial references, coordinate
systems, projections, datums and ellipsoids&lt;/a&gt;. This article was written
by Morten Nielsen (who works for &lt;span class="caps"&gt;ESRI&lt;/span&gt;), and it does a good job of
quickly and simply describing what makes up a spatial reference system,
and some of the errors that people make when talking about their spatial&amp;nbsp;data.&lt;/p&gt;
&lt;p&gt;Having a good grasp of this stuff is important when working with spatial
data, so guides like the one above should really only be used as a quick
reference to more in-depth material covering these concepts. Check out
the links below if you want to learn a little bit&amp;nbsp;more:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://webhelp.esri.com/arcgisdesktop/9.3/body.cfm?tocVisable=0&amp;amp;ID=87&amp;amp;TopicName=An%20overview%20of%20map%20projections#"&gt;An &lt;span class="caps"&gt;ESRI&lt;/span&gt; overview of map&amp;nbsp;projections&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://spatialreference.org/"&gt;spatialreference.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.progonos.com/furuti/MapProj/Normal/TOC/cartTOC.html"&gt;Carlos A. Furuti&amp;#8217;s Map Projection&amp;nbsp;Pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.kartografie.nl/geometrics/Map%20projections/mappro.html"&gt;Knippers, &lt;span class="caps"&gt;R.A.&lt;/span&gt;- Map&amp;nbsp;projections&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="Coordinates"></category><category term="Spatial data"></category><category term="Spatial reference systems"></category><category term="WGS84"></category><category term="Geographic information science/systems (GIS)"></category></entry><entry><title>gedit: The ultimate LaTeX editor</title><link href="http://www.carsonfarmer.com/2008/12/gedit-the-ultimate-latex-editor/" rel="alternate"></link><updated>2008-12-12T00:56:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2008-12-12:2008/12/gedit-the-ultimate-latex-editor/</id><summary type="html">&lt;p&gt;Out of the box &lt;em&gt;gedit&lt;/em&gt; is a basic text editor, but it comes equipped
with about 12 standard plugins, and another 9 readily available. In
addition to this, there are a range of &amp;#8216;third-party&amp;#8217; plugins developed
to do various specific tasks, such as assist you in writing and
exporting LaTeX documents!

First, get all the basic&amp;nbsp;plugins:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo apt-get install gedit-plugins&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and enable them in gedit by going to &lt;code&gt;Edit &amp;gt; Preferences &amp;gt; Plugins&lt;/code&gt;, and
checking the ones that you&amp;nbsp;want.&lt;/p&gt;
&lt;p&gt;Second, make sure you have all the required dependencies for the actual
$\LaTeX$ plugin:
1. The plugin is written in Python 2.4 and relies on PyGTK 2.4: &lt;code&gt;sudo apt-get install python-gtk2&lt;/code&gt;
2. Ensure that you have rubber installed. It is used for automated document 
compiling: &lt;code&gt;sudo apt-get install rubber&lt;/code&gt;
3. To use the &lt;span class="caps"&gt;DVI&lt;/span&gt; inverse search you need the Python bindings for D-&lt;span class="caps"&gt;BUS&lt;/span&gt;: &lt;code&gt;sudo apt-get install python-dbus&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Third, download the latest version of the $\LaTeX$ plugin from &lt;a href="http://live.gnome.org/Gedit/LaTeXPlugin"&gt;here&lt;/a&gt;,
and extract and copy the contained folder and a file to
&lt;code&gt;~/.gnome2/gedit/plugins&lt;/code&gt;. You may have to create &lt;code&gt;gedit/plugins&lt;/code&gt; if you 
haven&amp;#8217;t installed any other plugins&amp;nbsp;yet.&lt;/p&gt;
&lt;p&gt;After that, restart &lt;code&gt;gedit&lt;/code&gt; and activate the plugin in the settings
dialog as we did with the other&amp;nbsp;plugins.&lt;/p&gt;
&lt;p&gt;Now you have an editor with all sorts of handy functions, including
inline spell check, code completion, tag, symbol, and character
insertion, a file and document browser, and an embedded terminal, as
well as tools to automatically create new $\LaTeX$ files, insert graphics,
tables, and matrices, and a fantastic dialog for automatically inserting
BibTeX entries. Also, if you&amp;#8217;re an R user who creates reports etc. you
can use Sweave directly from gedit to embed R code in your LaTeX&amp;nbsp;documents.&lt;/p&gt;
&lt;p&gt;All this in a lightweight text editor,&amp;nbsp;nice!&lt;/p&gt;</summary><category term="gedit"></category><category term="LaTeX"></category><category term="Free open-source software (FOSS)"></category><category term="How to"></category><category term="Linux"></category></entry><entry><title>Quick guide to setting up a PostGIS database</title><link href="http://www.carsonfarmer.com/2008/11/quick-guide-to-setting-up-postgis-database/" rel="alternate"></link><updated>2008-11-28T12:01:00-05:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2008-11-28:2008/11/quick-guide-to-setting-up-postgis-database/</id><summary type="html">&lt;p&gt;Recently I decided to seriously start using PostGIS to manage my spatial
data. As I have several projects on the go, organizing and managing my
data effectively has become extremely important, and PostGIS is by far
the most convenient way to do this. There is lots of documentation out
there that explains in detail how to set up PostGIS, but by far the best
reference I&amp;#8217;ve found is from &lt;a href="http://tim.linfiniti.com/" title="Tim Sutton's blog"&gt;Tim Sutton&amp;#8217;s blog&lt;/a&gt;, mainly because he
uses Ubuntu, and sudo-apt gets everything you need to have PostGIS
working in minutes.
&lt;/p&gt;
&lt;p&gt;Here is a &lt;a href="http://tim.linfiniti.com/page/3" title="Setting Up Postgis on Ubuntu"&gt;link to the article&lt;/a&gt;, and below is a quote from his&amp;nbsp;blog:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Another reason I love Ubuntu - getting postgis + postgresql is really&amp;nbsp;easy&amp;#8230;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo apt-get install postgis postgresql-8.3-postgis
sudo su postgres
createuser -s -d -r -l -P -E -e timlinux
&lt;span class="nb"&gt;exit&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;Enter prompts following above commands as needed. Now you have
postgres installed and a user created. Next create an empty spatial&amp;nbsp;database:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;createdb qgis
createlang plpgsql qgis
psql qgis &amp;lt; /usr/share/postgresql-8.3-postgis/lwpostgis.sql
psql qgis &amp;lt; /usr/share/postgresql-8.3-postgis/spatial_ref_sys.sql
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;Easy&amp;nbsp;peasy.&lt;/p&gt;
&lt;/blockquote&gt;</summary><category term="PostGIS"></category><category term="Quick Guide"></category><category term="Ubuntu"></category><category term="Free open-source software (FOSS)"></category><category term="Geographic information science/systems (GIS)"></category><category term="How to"></category><category term="Linux"></category></entry><entry><title>View spatial data attribute tables in R</title><link href="http://www.carsonfarmer.com/2008/10/view-spatial-data-attribute-tables-in-r/" rel="alternate"></link><updated>2008-10-14T13:44:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2008-10-14:2008/10/view-spatial-data-attribute-tables-in-r/</id><summary type="html">&lt;p&gt;Many &lt;span class="caps"&gt;GIS&lt;/span&gt; offer the ability to view the attribute table of a vector
layer. While this is perhaps less obvious in the R environment, it is
not impossible. The following command allows you to visually inspect,
and change any data.frame (or other vector, matrix, etc.), including
Spatial*DataFrames.
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;invisible&lt;span class="p"&gt;(&lt;/span&gt;edit&lt;span class="p"&gt;(&lt;/span&gt;spatial_layer&lt;span class="o"&gt;@&lt;/span&gt;data&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note: &lt;code&gt;invisible&lt;/code&gt; allows you to close the viewer without filling the
console with the attributes of the table. You could also&amp;nbsp;use:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;new_data &lt;span class="o"&gt;=&lt;/span&gt; edit&lt;span class="p"&gt;(&lt;/span&gt;spatial_layer&lt;span class="o"&gt;@&lt;/span&gt;data&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to assign changes made to the data to a new variable, or&amp;nbsp;use:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;spatial_layer&lt;span class="o"&gt;@&lt;/span&gt;data &lt;span class="o"&gt;=&lt;/span&gt; edit&lt;span class="p"&gt;(&lt;/span&gt;spatial_layer&lt;span class="o"&gt;@&lt;/span&gt;data&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;or,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;fix&lt;span class="p"&gt;(&lt;/span&gt;spatial_layer&lt;span class="o"&gt;@&lt;/span&gt;data&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to make changes to the Spatial*DataFrame&amp;nbsp;itself.&lt;/p&gt;</summary><category term="Free open-source software (FOSS)"></category><category term="Geographic information science/systems (GIS)"></category><category term="How to"></category><category term="R spatial"></category></entry><entry><title>R spatial indentify tool</title><link href="http://www.carsonfarmer.com/2008/09/r-spatial-indentify-tool/" rel="alternate"></link><updated>2008-09-23T12:36:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2008-09-23:2008/09/r-spatial-indentify-tool/</id><summary type="html">&lt;p&gt;This is useful for visually exploring R spatial data such as
&lt;code&gt;SpatialPointDataFrames&lt;/code&gt; or &lt;code&gt;SpatialGridDataFrames&lt;/code&gt;. By clicking on various
features, the value at that point will be&amp;nbsp;displayed.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;library&lt;span class="p"&gt;(&lt;/span&gt;rgdal&lt;span class="p"&gt;)&lt;/span&gt;
y &lt;span class="o"&gt;=&lt;/span&gt; readGDAL&lt;span class="p"&gt;(&lt;/span&gt;system.file&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;pictures/Rlogo.jpg&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; package&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;rgdal&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; band&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
y.grid &lt;span class="o"&gt;=&lt;/span&gt; y&lt;span class="o"&gt;@&lt;/span&gt;grid
y.coords &lt;span class="o"&gt;=&lt;/span&gt; coordinates&lt;span class="p"&gt;(&lt;/span&gt;y.grid&lt;span class="p"&gt;)&lt;/span&gt; 
image&lt;span class="p"&gt;(&lt;/span&gt;y&lt;span class="p"&gt;)&lt;/span&gt;
identify&lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="o"&gt;=&lt;/span&gt;y.coords&lt;span class="p"&gt;,&lt;/span&gt; y&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;&lt;span class="caps"&gt;NULL&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; n&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;where &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; refer to coordinates (in this case because &lt;code&gt;y.coords&lt;/code&gt;
contains both &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt; coordinates, &lt;code&gt;y&lt;/code&gt; can be set to &lt;code&gt;NULL&lt;/code&gt;), and &lt;code&gt;n&lt;/code&gt; is the
number of features to&amp;nbsp;identify.&lt;/p&gt;</summary><category term="Free open-source software (FOSS)"></category><category term="Geographic information science/systems (GIS)"></category><category term="How to"></category><category term="Linux"></category><category term="R spatial"></category></entry><entry><title>Find and replace multiple files</title><link href="http://www.carsonfarmer.com/2008/09/find-and-replace-multiple-files/" rel="alternate"></link><updated>2008-09-08T09:09:00-04:00</updated><author><name>cfarmer</name></author><id>tag:www.carsonfarmer.com,2008-09-08:2008/09/find-and-replace-multiple-files/</id><summary type="html">&lt;p&gt;Recently, I had to do a find and replace over several individual python
files.There are plenty of scripts out there which will accomplish this,
but I was interested in something simple, and preferably a single line
command. After a lot of Google-ing, I ended up finding &lt;a href="http://rushi.wordpress.com/2008/08/05/find-replace-across-multiple-files-in-linux/#comment-26487"&gt;this post&lt;/a&gt;,
which does a great job of explaining how to do this in linux. The basic
command&amp;nbsp;is:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;find . -name &lt;span class="s2"&gt;&amp;quot;\*.py&amp;quot;&lt;/span&gt; -print | xargs sed -i &lt;span class="s1"&gt;&amp;#39;s/foo/bar/g&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;where &lt;code&gt;find . -name "*.py"&lt;/code&gt; is used to find all python files (recursively) in 
your directory,  and &lt;code&gt;xargs sed -i 's/foo/bar/g'&lt;/code&gt; is used to replace all 
occurrences of &amp;#8216;foo&amp;#8217; in the files with &amp;#8216;bar&amp;#8217;.
The link above gives a good explanation of each command (find, xargs, sed), 
and how they combine together to create this useful single line&amp;nbsp;command.&lt;/p&gt;</summary><category term="Helpful tips"></category><category term="Linux"></category><category term="How to"></category></entry></feed>